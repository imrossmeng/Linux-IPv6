<!DOCTYPE book  PUBLIC "-//OASIS//DTD DocBook V4.2//EN"
 [ 
<!ENTITY % output.print.png "IGNORE">
<!ENTITY % output.print.pdf "IGNORE">
<!ENTITY % output.print.eps "IGNORE">
<!ENTITY % output.print.bmp "IGNORE">
 ]>

<!-- SGML file was created by LyX 2.3.4.2
  See http://www.lyx.org/ for more information -->
<book lang="de">
<bookinfo>
<title>Linux IPv6 HOWTO (de)</title>
<author><firstname>Peter</firstname><surname>Bieringer</surname><affiliation><address>pb at bieringer dot de</address></affiliation></author>
<revhistory> 
<revision> <revnumber>0.67.de.1wip</revnumber> <date>2020-04-04</date> <authorinitials>PB</authorinitials></revision>
<revision> <revnumber>0.66.de.1</revnumber> <date>2014-05-15</date> <authorinitials>PB</authorinitials></revision>
<revision> <revnumber>0.65.de.1</revnumber> <date>2009-12-13</date> <authorinitials>PB</authorinitials></revision>
<revision> <revnumber>0.64.de.1</revnumber> <date>2009-06-11</date> <authorinitials>PB</authorinitials></revision>
<revision> <revnumber>0.61.de.1</revnumber> <date>2007-10-06</date> <authorinitials>PB</authorinitials></revision>
</revhistory> <abstract>
<para>Das Ziel des Linux IPv6 HOWTO ist die Beantwortung von Basis- und Experten-Fragen zum Thema IPv6 mit Linux-Betriebssystemen. Dieses HOWTO will dem Leser genug Informationen bereitstellen, um IPv6-Anwendungen auf Linux Computer installieren, konfigurieren und anwenden zu können. Zwischen-Versionen sind auf <ulink url="http://mirrors.bieringer.de/Linux+IPv6-HOWTO/">mirrors.bieringer.de</ulink> oder <ulink url="http://mirrors.deepspace6.net/Linux+IPv6-HOWTO/">mirrors.deepspace6.net</ulink> verfügbar. Änderungen sind in der <link linkend="revision-history">Revisionshistorie</link> aufgelistet.</para>
</abstract></bookinfo><chapter id='chapter-general' >
<title><!-- anchor id="chapter-general" -->Allgemein</title>
<para>Informationen über verfügbare Übersetzungen finden Sie im Abschnitt <link linkend="general-translations">Übersetzungen</link>.</para><sect1 id='general-copright' >
<title><!-- anchor id="general-copright" -->Copyright, Lizenz und anderes</title>
<sect2>
<title>Copyright</title>
<para>Verfasst von und urheberrechtlich geschützt durch Peter Bieringer © 2001-2020
</para>
<para>Deutsche Übersetzung:</para>
<para>Verfasst von und urheberrechtlich geschützt durch Georg Käfer © 2002-2003, weitergeführt von Peter Bieringer © 2004-2014.</para></sect2><sect2>
<title>Lizenz</title>
<para>Dieses Linux IPv6 HOWTO wird unter der GNU GPL Version 2 herausgegeben:
</para>
<para>Dieses Linux IPv6 HOWTO ist ein Handbuch zur Anwendung und Konfiguration von IPv6 auf Linux-Systemen. 
</para>
<para>Copyright © 2001-2020 Peter Bieringer
Deutsche Übersetzung Copyright © 2002-2003 Georg Käfer, weitergeführt von Peter Bieringer © 2004-2013.
</para>
<para>Diese Dokumentation ist freie Software; Sie können diese unter den Bedingungen der GNU General Public License, wie von der Free Software Foundation publiziert, entweder unter Version 2 oder optional jede höhere Version redistribuieren und/oder modifizieren.</para>
<para>Dieses Programm wird in der Hoffnung verteilt, dass es für Sie nutzvoll ist, jedoch OHNE JEDWEDER GEWÄHRLEISTUNG; sogar ohne der implizierten Gewährleistung der MARKTFÄHIGKEIT oder der FÄHIGKEIT ZU EINEM BESONDEREN ZWECK bzw. VORSATZ. Weitere Details finden Sie in der GNU General Public License.</para>
<para>Zusammen mit diesem Dokument sollten Sie eine Kopie der GNU General Public License erhalten haben; Wenn dem nicht so ist, können Sie sich an folgende Adresse wenden: Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110, USA.</para></sect2><sect2>
<title>Über den Autor</title>
<sect3>
<title>Internet/IPv6 Background des Autors</title>
<itemizedlist>
<listitem><para>1993: In Kontakt mit dem Internet getreten, kennenlernen von konsolenbasierte E-Mail- und News-Client-Programme (z.B.: suchen Sie nach &rdquo;e91abier&rdquo; auf <ulink url="http://groups.google.com/">groups.google.com</ulink>, das ist der Autor).</para></listitem><listitem><para>1996: Anfrage zur Gestaltung eines IPv6 Kurses inklusive eines Workshops zum Thema Linux Betriebssystem bekommen.</para></listitem><listitem><para>1997: Schreiben einer Anleitung, wie man IPv6 auf Linux Systemen installieren, konfigurieren und anwenden kann, genannt <ulink url="http://www.bieringer.de/linux/IPv6/">IPv6 &amp; Linux - HowTo</ulink> (siehe unter <ulink url="http://www.bieringer.de/linux/IPv6/IPv6-HOWTO/IPv6-HOWTO-0.html#history">IPv6 &amp; Linux - HowTo/History</ulink>).</para></listitem><listitem><para>2001: Begonnen, dieses neue Linux IPv6 HOWTO zu schreiben.</para></listitem></itemizedlist></sect3><sect3>
<title>Ansprechpartner</title>
<para>Der Autor kann via E-Mail &lt;pb at bieringer dot de&gt; und auch über seine <ulink url="http://www.bieringer.de/pb/">homepage</ulink> kontaktiert werden.</para>
<para>Der Autor lebt zurzeit in München / Bayern / (Süd-)Deutschland / (Mittel-)Europa / Erde (Festland).</para></sect3></sect2></sect1><sect1 id='general-category' >
<title><!-- anchor id="general-category" -->Kategorie</title>
<para>Dieses HOWTO sollte in der Kategorie &rdquo;<emphasis>Networking</emphasis>/<emphasis>Protocols</emphasis>&rdquo; aufgelistet werden.</para></sect1><sect1>
<title>Version, Werdegang und Unerledigtes</title>
<sect2>
<title>Version</title>
<para>Die aktuelle Versionsnummer finden Sie auf der Titelseite.</para>
<para>Für andere verfügbare Versionen/Übersetzungen siehe auch <ulink url="http://www.bieringer.de/linux/IPv6/">http://www.bieringer.de/linux/IPv6/</ulink>.</para></sect2><sect2>
<title>Werdegang</title>
<sect3>
<title>Eckpunkte</title>
<para>2001-11-30: Beginn mit der Neukonzeption dieses HOWTOs.</para>
<para>2002-01-02: Viel Inhalt eingearbeitet, erste Version des Kapitels 1 veröffentlicht (Version 0.10).</para>
<para>2002-01-14: Weitere Vervollständigung und Überprüfung des Inhalts, öffentliche Freigabe des kompletten Dokuments (Version 0.14).</para>
<para>2002-08-16: Polnische Übersetzung ist in Arbeit.</para>
<para>2002-10-31: Chinesische Übersetzung ist verfügbar.</para>
<para>2002-11-10: Deutsche Übersetzung ist in Arbeit.</para>
<para>2003-02-10: Deutsche Übersetzung ist verfügbar.</para>
<para>2003-04-09: Französische Übersetzung ist in Arbeit.</para>
<para>2003-05-09: Französische Übersetzung ist verfügbar</para>
<para>2003-10-16: Italienische Übersetzung ist in Arbeit.</para>
<para>2004-03-12: Italienische Übersetzung ist verfügbar</para>
<para>2004-06-18: Griechische Übersetzung ist in Arbeit</para>
<para>2005-07-25: Türkische Übersetzung ist verfügbar</para>
<para>2007-03-28: Portugiesisch-Brasilianische Übersetzung ist in Arbeit</para>
<para>2008-07-30: Spanische Übersetzung ist verfügbar (aber noch nicht abgeschlossen, inzwischen nicht mehr online)</para>
<para>2011-05-09: Portugiesisch-Brasilianische Übersetzung ist wieder in Arbeit</para></sect3><sect3>
<title>Vollständiger Werdegang</title>
<para>Am Ende dieses Dokumentes finden Sie die <link linkend="revision-history">Historie der Änderungen</link>.</para></sect3></sect2><sect2>
<title>Unerledigtes</title>
<itemizedlist>
<listitem><para>Fehlenden Inhalt ergänzen</para></listitem><listitem><para>Grammatik-Überprüfung beenden</para></listitem></itemizedlist></sect2></sect1><sect1 id='general-translations' >
<title><!-- anchor id="general-translations" -->Übersetzungen</title>
<para>Übersetzungen müssen den URL, die Versionsnummer und das Copyright des Originaldokuments enthalten (aber auch die Daten zu ihrer Übersetzung). Bitte übersetzen Sie nicht das Original-Changelog, das wäre nicht sehr sinnvoll. Es sieht aus, als wäre die Änderungsfrequenz dieses Dokumentes überwiegend geringer als einmal pro Monat. Seit Version 0.27 scheint der Hauptteil des vom Autor beigesteuerten Inhaltes geschrieben zu sein. Übersetzungen müssen immer das englische Original als Quelle benutzen.</para><sect2>
<title>Diverse Sprachen</title>
<para>Notiz: eine Übersicht mit URLs ist zu finden unter <ulink url="http://www.bieringer.de/linux/IPv6/">http://www.bieringer.de/linux/IPv6/</ulink>.</para><sect3>
<title>Deutsch</title>
<para>Mit 2002-11-10 wurde von Georg Käfer &lt;gkaefer at gmx dot at&gt; die Deutsche Übersetzung begonnen und am 10.02.2003 erstmals publiziert. Grundlage der Übersetzung ist die CVS-Version 1.53 der Lyx-Datei, aus der das Linux IPv6 HOWTO Version 0.39.2 erstellt wurde.</para>
<para>Mit Sicherheit werden in dieser Übersetzung noch so manche 'Hoppalas' und auch 'grausige' Rechtschreibfehler zu finden sein. Sorry! Ebenfalls fällt es nicht immer leicht, zu entscheiden, ob ein Terminus überhaupt übersetzt werden soll, bzw. ob die Beibehaltung des englischen Originalwortes nicht zielführender wäre... </para>
<para><emphasis>Neue deutsche Rechtschreibung</emphasis>: es wurde eine konservative Übersetzung angewandt, d.h. nicht alle möglichen Änderungen der Neuen deutschen Rechtschreibung wurden durchgeführt, sondern nur die notwendigen Änderungen.</para>
<para>Die URL für diese deutsche Übersetzung ist: <ulink url="http://mirrors.deepspace6.net/Linux+IPv6-HOWTO-de/">http://mirrors.deepspace6.net/Linux+IPv6-HOWTO-de/</ulink></para></sect3><sect3>
<title>Andere Sprachen</title>
<para>Informationen über Übersetzungen in andere Sprachen finden Sie hier im Originaldokument: <ulink url="http://www.tldp.org/HOWTO/Linux+IPv6-HOWTO/general-translations.html">TLDP / Linux+IPv6-HOWTO / Übersetzungen</ulink>.</para></sect3></sect2></sect1><sect1>
<title>Technisches</title>
<sect2 id='general-original-source' >
<title><!-- anchor id="general-original-source" -->Originalquelle dieses HOWTOs</title>
<para>Aktuelle Versionen dieses HOWTOs werden mit LyX Version 2.2.2 auf einem Fedora 25 Linux System mit SGML-Template (DocBook book) erstellt. Alle Dateien sind unter <ulink url="https://github.com/tLDP/Linux-IPv6/">github / tLDP / Linux-IPv6</ulink> verfügbar.</para>
<para>Auch die deutsche Version wurde mit LyX erstellt und befindet sich ebenfalls im angegebenen GitHub-Verzeichnis.</para><sect3>
<title>Zeilenumbruch in Code-Beispielen</title>
<para>Der Zeilenumbruch wird mit Hilfe eines selbst geschriebenen Tools &rdquo;lyxcodelinewrapper.pl&rdquo; erstellt; Sie finden das Skript am CVS unter: <ulink url="https://github.com/tLDP/Linux-IPv6/">github / tLDP / Linux-IPv6</ulink></para></sect3><sect3>
<title>SGML Erzeugung</title>
<para>SGML wird mit Hilfe der Exportfunktion in LyX generiert.</para>
<para>Um korrekten SGML Code zu erstellen, müssen einige Korrekturen gemacht werden. Die entsprechenden Perl Skripts finden Sie unter <ulink url="https://github.com/tLDP/Linux-IPv6/">github / tLDP / Linux-IPv6</ulink>:</para><itemizedlist>
<listitem><para>Der Export von Lyx-Tabellen erstellt keine korrekten &rdquo;colspan&rdquo; Tags. Tool für die Korrektur: &rdquo;sgmllyxtabletagfix.pl&rdquo; (behoben seit LyX Version 1.2.0)</para></listitem><listitem><para>LyX verwendet manchmal , anstelle der normalen, spezielle Links-/Rechts-Formatierungen für Zitate, die dann auch im generierten HTML Code ausgegeben werden. Einige Browser können das Ergebnis nicht besonders schön darstellen (bekannt sind: Opera TP2 oder Konqueror). Tool für die Korrektur: &rdquo;sgmllyxquotefix.pl&rdquo;</para></listitem></itemizedlist></sect3></sect2><sect2>
<title>Online-Verweise auf die HTML Version dieses HOWTOs (Links / Anchors)</title>
<sect3>
<title>Hauptindexseite</title>
<para>Im Allgemeinen wird ein Verweis auf die Hauptindexseite empfohlen.</para></sect3><sect3>
<title>Seitennamen</title>
<para>Da die HTML-Seiten aus einer SGML-Datei erstellt werden, werden einige HTML-Dateinamen ziemlich zufällig gewählt. Manche Seiten sind jedoch in LyX mit Tags gekennzeichnet, woraus statische Namen resultieren. Diese sollten der besseren Referenz wegen zukünftig nicht geändert werden.</para>
<para>Bitte lassen Sie es wissen, wenn Sie glauben, dass ein Tag vergessen wurde.</para></sect3></sect2></sect1><sect1>
<title>Vorwort</title>
<para>Einiges vorab:</para><sect2>
<title>Wie viele IPv6 &amp; Linux bezogene HOWTOs gibt es?</title>
<para>Inklusive diesem gibt es drei (3) HOWTO-Dokumente. Pardon, wenn das zu viele sind ;-)</para><sect3>
<title>Linux Ipv6 FAQ/HOWTO (veraltet)</title>
<para>Das erste IPv6 bezogene Dokument wurde von <emphasis>Eric Osborne</emphasis> geschrieben und heißt <ulink url="http://www.linuxhq.com/IPv6/">Linux IPv6 FAQ/HOWTO</ulink> (bitte benutzen Sie den Text nur im historischen Kontext). Die neueste Version 3.2.1 wurde am 14.Juli 1997 veröffentlicht.</para>
<para>Bitte um Ihre Mithilfe: Wenn jemand das Erstellungsdatum der Erstversion dieses HOWTOs kennen sollte, senden Sie mir Bitte ein E-Mail (Die Information wird im Abschnitt &rdquo;Werdegang&rdquo; eingearbeitet).</para></sect3><sect3>
<title>IPv6 &amp; Linux - HowTo (gewartet)</title>
<para>Ein zweites Dokument (<ulink url="http://www.bieringer.de/linux/IPv6/">IPv6 &amp; Linux - HowTo</ulink>) wurde vom selben Autor (Peter Bieringer) geschrieben und liegt im HTML-Format vor. Begonnen wurde mit dem Schreiben im April 1997 und die erste englische Version wurde im Juni 1997 veröffentlicht. Das Dokument wird weiterhin betreut, es wird aber langsam (jedoch nicht komplett) in das Linux IPv6 HOWTO - das Sie gerade lesen - eingearbeitet.</para></sect3><sect3>
<title>Linux IPv6 HOWTO (dieses Dokument)</title>
<para>Da das <ulink url="http://www.bieringer.de/linux/IPv6/">IPv6 &amp; Linux - HowTo</ulink> in HTML geschrieben wurde, war es nicht wirklich mit dem <ulink url="http://www.tldp.org/">The Linux Documentation Project (TLDP)</ulink> kompatibel. Der Autor (Peter Bieringer) bekam Ende Nov. 2001 die Anfrage, das <ulink url="http://www.bieringer.de/linux/IPv6/">IPv6 &amp; Linux - HowTo</ulink> in SGML zu konvertieren. Er entschied sich auf Grund dieser Diskontinuität (<ulink url="http://www.bieringer.de/linux/IPv6/IPv6-HOWTO/IPv6-HOWTO-0.html#history">Future of IPv6 &amp; Linux - HowTo</ulink>) und der Tatsache, dass IPv6 mehr und mehr zum Standard wird, zum Schreiben eines neuen Dokuments. Im zweiten HOWTO (<ulink url="http://www.bieringer.de/linux/IPv6/">IPv6 &amp; Linux - HowTo</ulink>) wird auch weiterhin dynamischer Inhalt sowie weiterführender Inhalt zu finden sein. </para></sect3></sect2></sect1><sect1>
<title>Verwendete Begriffe, Glossar und Abkürzungen</title>
<sect2>
<title>Netzwerkbegriffe</title>
<variablelist>
<varlistentry><term>Base&nbsp;10</term><listitem><para>Dezimales Zahlensystem, das die Zahlen 0-9 beinhaltet.</para></listitem></varlistentry><varlistentry><term>Base&nbsp;16</term><listitem><para>Generell in Programmiersprachen verwendetes hexedezimales Zahlensystem, das die Zahlen 0-9 und die Buchstaben A-F beinhaltet (Groß/Kleinschreibung möglich).</para></listitem></varlistentry><varlistentry><term>Base&nbsp;85</term><listitem><para>85 verschiedene Zahlen/Buchstaben umfasst dieses Zahlensystem und ermöglicht dadurch kürzere Zeichenketten - aber niemals in der Praxis gesehen.</para></listitem></varlistentry><varlistentry><term>Bit</term><listitem><para>Kleinste Speichereinheit mit dem Wert ein/wahr (1) oder aus/falsch (0)</para></listitem></varlistentry><varlistentry><term>Byte</term><listitem><para>Meistens eine Menge von 8 bits (aber kein Muss - siehe ältere Computer Systeme)</para></listitem></varlistentry><varlistentry><term>Device</term><listitem><para>Netzwerkgerät, siehe auch NIC</para></listitem></varlistentry><varlistentry><term>Dual&nbsp;homed&nbsp;host</term><listitem><para>Ein Dual homed host ist ein Node mit zwei (physischen oder virtuellen) Schnittstellen auf zwei unterschiedlichen Links. Datenpakete können zwischen den zwei Verbindungen nicht weitergeleitet werden.</para></listitem></varlistentry><varlistentry><term>Host</term><listitem><para>Im Regelfall handelt es sich um einen Rechner mit einen Link sowie einer aktiven Netzwerk-Schnittstelle, z.B. Ethernet oder (aber nicht und) PPP.</para></listitem></varlistentry><varlistentry><term>Interface</term><listitem><para>Ident mit &rdquo;device&rdquo;, siehe auch NIC.</para></listitem></varlistentry><varlistentry><term>IP&nbsp;Header</term><listitem><para>Kopf eines IP-Paketes (jedes Netzwerk-Paket hat einen header, die Form des headers ist abhängig von der Netzwerkschicht).</para></listitem></varlistentry><varlistentry><term>Link</term><listitem><para>Ein Link ist eine Schicht 2 Netzwerk-Transportmedium für Pakete; Beispiele sind Ethernet, Token Ring, PPP, SLIP, ATM, ISDN, Frame Relay,...</para></listitem></varlistentry><varlistentry><term>Node</term><listitem><para>Ein Node (=Knoten) ist ein Host oder ein Router.</para></listitem></varlistentry><varlistentry><term>Octet</term><listitem><para>Sammlung von acht (8) realen bits, vergleichbar mit &rdquo;byte&rdquo;.</para></listitem></varlistentry><varlistentry><term>Port</term><listitem><para>Information für den TCP/UDP dispatcher (Schicht 4), mit dessen Hilfe Informationen auf höhere Schichten transportiert werden.</para></listitem></varlistentry><varlistentry><term>Protocol</term><listitem><para>Jede Netzwerkschicht enthält meistens ein Protokoll-Feld damit die Übergabe transportierter Informationen an höhere Netzwerkschichten erleichtert wird. Beispiele hierfür: Schicht 2 (MAC) und 3 (IP).</para></listitem></varlistentry><varlistentry><term>Router</term><listitem><para>Ein Router ist ein Knoten mit zwei (2) oder mehr (physischen oder virtuellen) Schnittstellen, der Datenpakete zwischen den Schnittstellen versenden kann.</para></listitem></varlistentry><varlistentry><term>Socket</term><listitem><para>Ein IP socket wird durch Quell- und Zieladresse, den Ports (und der Verbindung) definiert.</para></listitem></varlistentry><varlistentry><term>Stack</term><listitem><para>Ein Stack setzt sich aus Netzwerkschichten zusammen. </para></listitem></varlistentry><varlistentry><term>Subnetmask</term><listitem><para>IP Netzwerke verwenden Bitmasken um lokale von entfernten Netzwerken zu trennen.</para></listitem></varlistentry><varlistentry><term>Tunnel</term><listitem><para>Ein Tunnel ist typischerweise eine Punkt-zu-Punkt-Verbindung, über die Datenpakete eines anderen Protokolls ausgetauscht werden. Beispiel: IPv6-in-IPv4 Tunnel.</para></listitem></varlistentry></variablelist><sect3 id='Glossar' >
<title><!-- anchor id="Glossar" -->Abkürzungen</title>
<variablelist>
<varlistentry><term>ACL</term><listitem><para>Access Control List - Zugriffsliste)</para></listitem></varlistentry><varlistentry><term>API</term><listitem><para>Application Programming Interface - Schnittstellen in Programmen zwischen den Applikationen</para></listitem></varlistentry><varlistentry><term>ASIC</term><listitem><para>Application Specified Integrated Circuit - Applikationsspezifischer integrierter Schaltkreis</para></listitem></varlistentry><varlistentry><term>BSD</term><listitem><para>Berkeley Software Distribution</para></listitem></varlistentry><varlistentry><term>CAN-Bus</term><listitem><para>Controller Area Network Bus (physical bus system)</para></listitem></varlistentry><varlistentry><term>ISP</term><listitem><para>Internet Service Provider</para></listitem></varlistentry><varlistentry><term>KAME</term><listitem><para>Ein Projekt und gemeinsame Anstrengung von sechs (6) Firmen in Japan mit dem Ziel, einen freien IPv6 und IPsec Stack für BSD Derivate der Öffentlichkeit zur Verfügung zu stellen <ulink url="http://www.kame.net/">www.kame.net</ulink>.</para></listitem></varlistentry><varlistentry><term>LIR</term><listitem><para>Local Internet Registry - Lokale Internet Registratur</para></listitem></varlistentry><varlistentry><term>NIC</term><listitem><para>Network Interface Controller - Netzwerk[schnittstellen]karte, kurz Netzwerkkarte</para></listitem></varlistentry><varlistentry><term>RFC</term><listitem><para>Request For Comments - eine Sammlung von technischen und organisatorischen Dokumenten zum Thema Internet.</para></listitem></varlistentry><varlistentry><term>USAGI</term><listitem><para>UniverSAl playGround for Ipv6 Project - dieses Projekt will für das Linux System einen IPv6 Protokoll stack mit Produktionsqualität ausliefern.</para></listitem></varlistentry></variablelist></sect3></sect2><sect2>
<title>In diesem Dokument verwendete Syntax</title>
<sect3>
<title>Zeilenumbruchs-Zeichen bei langen Codebeispielen</title>
<para>Das spezielle Zeichen &rdquo;¬&rdquo; zeigt in den Beispielen an, dass die Zeile umgebrochen wurde. Dies wurde für eine korrekte Darstellung des Textes in den PDF- und PS-Versionen benötigt.</para></sect3><sect3>
<title>Platzhalter</title>
<para>In allgemeinen Beispielen können Sie öfters lesen:</para><screen>
<![CDATA[<myipaddress>
]]></screen><para>In Skripts oder an Ihrer Kommandozeile müssen Sie die &lt; und &gt; weglassen und den Text mit dem entsprechenden Inhalt ersetzen. Das Beispiel hier z.B. könnte sein:</para><screen>
<![CDATA[1.2.3.4
]]></screen></sect3><sect3>
<title>Shell-Kommandos</title>
<para>Kommandos, die nicht als Root-Benutzer ausgeführt werden, beginnen mit $, z.B.</para><screen>
<![CDATA[$ whoami
]]></screen><para>Befehle, die mit Root-Rechten ausgeführt werden, beginnen mit #, z.B.</para><screen>
<![CDATA[# whoami
]]></screen></sect3></sect2></sect1><sect1>
<title>Grundvoraussetzung für die Verwendung dieses HOWTOs</title>
<sect2>
<title>Persönliche Anforderungen</title>
<sect3>
<title>Erfahrung mit Unix Tools</title>
<para>Sie sollten mit den gängigsten Unix Tools wie<emphasis> grep</emphasis>, <emphasis>awk</emphasis>, <emphasis>find</emphasis>, etc. und deren Kommandozeilen-Optionen vertraut sein.</para></sect3><sect3>
<title>Erfahrung mit Netzwerktheorie</title>
<para>Sie sollten das Schichtmodell und die einzelnen Schichten, Protokolle, Adressarten, Kabelsorten, Stecker etc. kennen. Wenn das Neuland für Sie sein sollte, finden Sie hier einen guten Ausgangspunkt: <ulink url=" https://web.archive.org/web/20121018222845/http://www.rigacci.org/docs/biblio/online/intro_to_networking/book1.htm"> https://web.archive.org/web/20121018222845/http://www.rigacci.org/docs/biblio/online/intro_to_networking/book1.htm</ulink></para></sect3><sect3>
<title>Erfahrung mit der Konfiguration von IPv4 Netzen</title>
<para>Sie sollten definitiv Erfahrung mit der Konfiguration von IPv4 Netzwerken haben, andernfalls werden Sie dem Text nur schwer folgen können.</para></sect3><sect3>
<title>Erfahrung mit dem Domain Name System (DNS)</title>
<para>Sie sollten ebenfalls das Domain Name System (DNS) verstehen und damit umgehen können.</para></sect3><sect3>
<title>Routine im Umgang mit Strategien zur Netzwerk-Fehlersuche</title>
<para>Sie sollten zumindest mit tcpdump umgehen und den Output des Programms interpretieren können. Andernfalls wird die Netzwerk-Fehlersuche für Sie schwierig.</para></sect3></sect2><sect2>
<title>Linux kompatible Hardware</title>
<para>Sicherlich wollen Sie mit realer Hardware experimentieren und nicht darüber an dieser Stelle lesen und an der einen oder anderen Stelle einschlummern. ;-7)</para></sect2></sect1></chapter><chapter id='chapter-basics' >
<title><!-- anchor id="chapter-basics" -->Grundlagen</title>
<sect1>
<title>Was ist IPv6?</title>
<para>IPv6 ist ein neues Schicht 3 Vermittlungsprotokoll und es wird IPv4 (auch als IP bekannt) ablösen. IPv4 wurde vor langer Zeit entworfen (<ulink url="http://www.faqs.org/rfcs/rfc760.html">RFC 760 / Internet Protocol</ulink> vom Januar 1980). Seitdem wurden viele Adressen vergeben und Erweiterungen angeregt. Die aktuelle RFC ist <ulink url="http://www.faqs.org/rfcs/rfc2460.html">RFC 2460 / Internet Protocol Version 6 Specification</ulink>. Hauptänderungen in IPv6 sind das neue Design des Headers sowie die Erweiterung der Adresslänge von 32 bits auf 128 bits. Die Schicht 3 ist für den Transport der Pakete von Endpunkt-zu-Endpunkt mittels adressbasierten Paket-Routings zuständig, und wie bei IPv4 müssen bei IPv6 die Adressen (Quell- und Zieladresse) inkludiert sein.</para>
<para>Für weitere Informationen zur IPv6 Geschichte siehe die älteren RFCs z.B. <ulink url="http://www.switch.ch/lan/ipv6/references.html">SWITCH IPv6 Pilot / References</ulink>.</para></sect1><sect1 id='basic-history-IPv6-Linux' >
<title><!-- anchor id="basic-history-IPv6-Linux" -->Geschichte von IPv6 &amp; Linux</title>
<para>Die Jahre 1992, 1993 und 1994 der allgemeinen IPv6 Geschichte können Sie in folgendem Dokument nachlesen: <ulink url="http://www.laynetworks.com/IPv6.htm#CH3">IPv6 or IPng (IP next generation)</ulink>.</para>
<para>Zu erledigen: Bessere Chronologie, mehr Inhalt</para><sect2>
<title>Anfang</title>
<para>Der erste IPv6 Netzwerk Code wurde dem Linux Kernel 2.1.8 im November 1996 durch Pedro Roque hinzugefügt. Er basierte auf dem BSD API:</para><screen>
<![CDATA[diff -u --recursive --new-file v2.1.7/linux/include/linux/in6.h
¬ linux/include/linux/in6.h 
--- v2.1.7/linux/include/linux/in6.h Thu Jan 1 02:00:00 1970 
+++ linux/include/linux/in6.h Sun Nov 3 11:04:42 1996 
@@ -0,0 +1,99 @@ 
+/* 
+ * Types and definitions for AF_INET6 
+ * Linux INET6 implementation 
+ * + * Authors: 
+ * Pedro Roque <******> 
+ * 
+ * Source: 
+ * IPv6 Program Interfaces for BSD Systems 
+ * <draft-ietf-ipngwg-bsd-api-05.txt>
]]></screen><para>Diese Zeilen entstammen dem patch-2.1.8 (die E-Mail-Adresse wurde hier beim Copy &amp; Paste absichtlich gelöscht).</para></sect2><sect2>
<title>Übergangszeit</title>
<para>Aufgrund fehlender Arbeitskraft konnte die IPv6-Kernel-Implementierung nicht mit den Drafts oder neu freigegebenen RFCs Schritt halten. Im Oktober 2000 wurde in Japan das <ulink url="http://www.linux-ipv6.org/">USAGI</ulink> Projekt gestartet. Das Ziel war, die fehlende bzw. bereits veraltete IPv6 Funktionalität in Linux zu implementieren. Dabei richtete man sich nach der aktuellen FreeBSD Implementierung von IPv6, die durch das <ulink url="http://www.kame.net/">KAME project</ulink> umgesetzt wurde. Von Zeit zu Zeit wurden im Vergleich zu den aktuellen Standard Linux-Kernel-Quellen ein Auszug erstellt. </para>
<para>Bis zum Start der Entwicklungs-Kernel Serie 2.5.x, der <ulink url="http://www.linux-ipv6.org/">USAGI</ulink> Patch war so groß, das er von den Linux-Netzwerkcode-Maintainers nicht komplett für die Einbindung in die Produktions-Kernel Serie 2.4.x eingebunden werden konnte.</para>
<para>Während der Entwicklung in der Serie 2.5.x hat <ulink url="http://www.linux-ipv6.org/">USAGI</ulink> versucht, so viel wie möglich ihrer Erweiterungen darin zu integrieren.</para></sect2><sect2>
<title>Heute</title>
<para>Viele der von <ulink url="http://www.linux-ipv6.org/">USAGI</ulink> und anderen lang entwickelten IPv6-bezogenen Patches sind bereits in der Vanilla Kernel Serie 2.6.x integriert.</para></sect2><sect2>
<title>Zukunft</title>
<para><ulink url="http://www.linux-ipv6.org/">USAGI</ulink> und andere arbeiten weiterhin an der Implementierung von neuen Features wie Mobility und anderen. Von Zeit zu Zeit werden neue Erweiterungs-Patches veröffentlicht, wie auch die Integration in die Vanilla Kernel Serie 2.6.x vorangetrieben.</para></sect2></sect1><sect1>
<title>Wie sehen IPv6 Adressen aus?</title>
<para>Wie gesagt, IPv6 Adressen sind 128 bit lang. Diese bit-Anzahl kann sehr hohe dezimale Zahlen mit bis zu 39 Ziffern ergeben:</para><screen>
<![CDATA[2^128-1: 340282366920938463463374607431768211455
]]></screen><para>Solche Zahlen sind nicht wirklich Adressen, die auswendig gelernt werden können. Die IPv6 Adressdarstellung ist bitweise orientiert (wie bei IPv4, aber das wird nicht oft bedacht). Eine bessere Schreibweise ist deshalb die hexadezimale Darstellung. Dabei werden 4 bits (auch &rdquo;nibble&rdquo; genannt) durch die Zeichen 0-9 und a-f (10-15) dargestellt, wodurch die Länge auf 32 Zeichen reduziert wird.</para><screen>
<![CDATA[2^128-1: 0xffffffffffffffffffffffffffffffff
]]></screen><para>Diese Darstellung ist ebenfalls nicht sehr angenehm (mögliche Verwechslung oder Verlust einzelner hexadezimaler Ziffern), so dass die IPv6 Designer das hexadezimales Format mit einem Doppelpunkt als Trennzeichen nach jedem 16 bit Block erweiterten. Ferner wird das führende &rdquo;0x&rdquo; (ein in Programmiersprachen verwendetes Identifizierungsmerkmal für hexadezimale Werte) entfernt:</para><screen>
<![CDATA[2^128-1: ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff
]]></screen><para>Eine gültige Adresse (s.u. Adress-Typen) ist z.B.:</para><screen>
<![CDATA[2001:0db8:0100:f101:0210:a4ff:fee3:9566
]]></screen><para>Der Vereinfachung halber können führende Nullen jedes 16 bit-Blocks weggelassen werden:</para><screen>
<![CDATA[2001:0db8:0100:f101:0210:a4ff:fee3:9566  -> 
¬ 2001:0db8:100:f101:210:a4ff:fee3:9566
]]></screen><para>Eine Sequenz von 16 bit-Blöcken, die nur Nullen enthaltet, kann durch ein &ldquo;::&ldquo; ersetzt werden. Diese Komprimierung kann aber nicht öfters als einmal durchgeführt werden</para><screen>
<![CDATA[2001:0db8:100:f101:0:0:0:1  ->  2001:0db8:100:f101::1
]]></screen><para>Die höchstmögliche Reduktion sieht man bei der IPv6 Localhost Adresse:</para><screen>
<![CDATA[0000:0000:0000:0000:0000:0000:0000:0001  ->  ::1
]]></screen><para>Es gibt auch eine so genannte <emphasis>kompakte</emphasis> Darstellung (base 85 codiert) <ulink url="http://www.faqs.org/rfcs/rfc1924.html">RFC 1924 / A Compact Representation of IPv6 Addresses</ulink> (publiziert am 1. April 1996). Diese Notation wurde allerdings nie in der Praxis gesehen und ist wahrscheinlich ein Aprilscherz. Ein Beispiel:</para><screen>
<![CDATA[# ipv6calc --addr_to_base85 2001:0db8:0100:f101:0210:a4ff:fee3:9566 
Itu&-ZQ82s>J%s99FJXT
]]></screen><blockquote>
<para>Info: <emphasis>ipv6calc</emphasis> ist ein IPv6 Adressen-Format-Umrechner und Konvertierungsprogramm und ist hier zu finden: <ulink url="http://www.deepspace6.net/projects/ipv6calc.html">ipv6calc homepage</ulink> (<ulink url="http://mirrors.bieringer.de/www.deepspace6.net/projects/ipv6calc.html">Mirror</ulink>)</para>
</blockquote></sect1><sect1>
<title>FAQ (Grundlagen)</title>
<sect2>
<title>Warum wird der Nachfolger von IPv4 nun IPv6 und nicht IPv5 genannt?</title>
<para>In jedem IP-Header werden die ersten 4 Bits für die Protokollversion reserviert. So sind theoretisch die Protokollnummern 0 bis 15 möglich:</para><itemizedlist>
<listitem><para>4: Wird schon für IPv4 verwendet</para></listitem><listitem><para>5: Ist für das Stream Protocol (STP, <ulink url="http://www.faqs.org/rfcs/rfc1819.html">RFC 1819 / Internet Stream Protocol Version 2</ulink>) reserviert (das aber nie den Weg in die Öffentlichkeit fand)</para></listitem></itemizedlist><para>So war die nächste freie Zahl 6. IPv6 war geboren!</para></sect2><sect2>
<title>IPv6 Adressen: Warum ist die Anzahl der Bits so groß?</title>
<para>Bei der Entwicklung von IPv4 dachte man, dass 32 Bits für die Welt ausreichend wären. Blickt man zurück, so waren bis heute 32 bits ausreichend. Vielleicht ist dies auch noch für ein paar Jahre so. Jedoch werden 32 bits nicht ausreichen, um in der Zukunft jedes Netzwerkgerät mit einer globalen Adresse ausstatten zu können. Denken Sie an Mobiltelefone, Autos (mit elektronischen Geräten an einem CAN Bus), Toaster, Kühlschränken, Lichtschalter usw.</para>
<para>Die IPv6 Designer haben 128 Bit gewählt, 4-mal mehr als im heutigen IPv4.</para>
<para>Aber die benutzbare Größe ist kleiner als es erscheinen mag, da in dem gegenwärtig definierten Adress-Schema 64 Bits für die Schnittstellen-Identifizierung verwendet werden. Die zweiten 64 Bit werden für das Routing verwendet. Die derzeitigen Aggregation-Levels (= Größe der zugeteilten IP-Blöcke) vorausgesetzt (/48, /32,...), ist eine Verknappung der Adressen weiterhin denkbar. Aber mit Sicherheit nicht in naher Zukunft. </para>
<para>Weitere Informationen finden Sie unter <ulink url="http://www.faqs.org/rfcs/rfc1715.html">RFC 1715 / The H Ratio for Address Assignment Efficiency</ulink> und <ulink url="http://www.faqs.org/rfcs/rfc3194.html">RFC 3194 / The Host-Density Ratio for Address Assignment Efficiency</ulink>.</para></sect2><sect2>
<title>IPv6 Adressen: Warum ist die Bit-Anzahl bei einem neuen Design so klein?</title>
<para>Es gibt (wahrscheinlich) eine Gruppe (bekannt ist nur Jim Fleming...) von Personen am Internet, die über IPv8 und IPv16 nachdenken. Für diese Designs gibt es aber keine hohe Akzeptanz und auch keine Kernel-Implementierungen. 128 bits sind die beste Wahl bezogen auf Header-Overhead und dem Datentransport. Denken Sie an die minimalste Maximum Transfer Unit (MTU) in IPv4 (575 octets) und in IPv6 (1280 octets), die Header-Länge in IPv4 (20 octets Minimum, kann bis zu 60 octets mit IPv4 Optionen ansteigen) und in IPv6 sind es 40 octets (fixer Wert). Dies ist 3.4 % der minimalen MTU in IPv4 und 3.1 % der minimalen MTU in IPv6. Dies bedeutet, dass der Overhead beim Header fast identisch ist. Mehr bits für die Adressierung würden größere Header und deshalb mehr Overhead erfordern. Bedenken Sie auch die maximale MTU von 1500 octets (in speziellen Fällen bei Jumbo-Paketen bis zu 9k octets) bei normalen Verbindungen (z.B. Ethernet). Letztlich wäre es kein korrektes Design, wenn 10 % oder 20 % der transportierten Daten in einem Schicht 3-Paket für Adressen und nicht für die &rdquo;Nutzlast&rdquo; benötigt würden.</para></sect2></sect1></chapter><chapter id='chapter-addresstypes' >
<title><!-- anchor id="chapter-addresstypes" -->Adress-Typen</title>
<para>Wie bei IPv4 können IPv6-Adressen mittels Subnetzmasken (subnet masks) in einen Netz- und einen Host-Teil unterteilt werden.</para>
<para>Bei IPv4 hat sich gezeigt, dass es manchmal von Nutzen wäre, einem Interface mehr als eine IP-Adresse zuweisen zu können, je nach Bedarf und Zweck (aliases, multicast etc.). Um in Zukunft flexibler bleiben zu können, geht man bei IPv6 weiter und erlaubt pro Interface mehr als eine zugewiesene IP-Adresse. Derzeit sind durch die RFCs kein Limit gesetzt, wohl aber in der Implementierung des IPv6 Stacks (um DoS Attacken vorzubeugen).</para>
<para>Neben der großen Bit-Anzahl für Adressen definiert IPv6 basierend auf einigen vorangestellten Bits verschiedene Adress-Typen. Diese werden hoffentlich in der Zukunft niemals aufgehoben (zum Unterschied zu IPv4 heute und die Entwicklung der class A, B und C Netze).</para>
<para>Zur Unterstützung einer automatischen Konfiguration wird die Bitanzahl in einen Netzwerk-Teil (vordere 64 Bits) und einen Hostteil (hintere 64 Bits). </para><sect1>
<title>Adressen ohne speziellen Präfix</title>
<sect2>
<title>Localhost Adresse</title>
<para>Dies ist eine spezielle Adresse für das Loopback Interface, vergleichbar zur &rdquo;127.0.0.1&rdquo; bei IPv4. Bei IPv6 lautet die localhost Adresse:</para><screen>
<![CDATA[0000:0000:0000:0000:0000:0000:0000:0001 
]]></screen><para>bzw. komprimiert:</para><screen>
<![CDATA[::1
]]></screen><para>Pakete mit dieser Quell- bzw. Ziel-Adresse sollten niemals den sendenden Host verlassen.</para></sect2><sect2>
<title>Unspezifische Adresse</title>
<para>Dies ist eine spezielle Adresse vergleichbar mit &rdquo;any&rdquo; oder &rdquo;0.0.0.0&rdquo; bei IPv4. In IPv6 lautet sie:</para><screen>
<![CDATA[0000:0000:0000:0000:0000:0000:0000:0000 
]]></screen><para>oder:</para><screen>
<![CDATA[::
]]></screen><para>Diese Adresse wird meistens in Routing-Tabellen und beim &rdquo;socket binding&rdquo; (zu jeder IPv6 Adresse) angewendet bzw. gesehen.</para>
<para>Beachten: Die Unspezifizierte Adresse kann nicht als Ziel-Adresse verwendet werden.</para></sect2><sect2>
<title>IPv6 Adressen mit eingebetteter IPv4 Adresse</title>
<para>Es gibt zwei Adressen-Typen, die IPv4 Adressen enthalten können.</para><sect3>
<title>IPv4 Adressen in IPv6 Format</title>
<para>IPv4-only IPv6-kompatible Adressen kommen manchmal bei IPv6 kompatiblen Daemon zur Anwendung, die allerdings ausschließlich an IPv4 Adressen gebunden sind.</para>
<para>Diese Adressen sind mit einer speziellen Präfixlänge von 96 definiert (a.b.c.d. ist die IPv4 Adresse):</para><screen>
<![CDATA[0:0:0:0:0:ffff:a.b.c.d/96
]]></screen><para>oder in komprimiertem Format:</para><screen>
<![CDATA[::ffff:a.b.c.d/96
]]></screen><para>Die IPv4 Adresse 1.2.3.4. z.B. sieht wie folgt aus:</para><screen>
<![CDATA[::ffff:1.2.3.4
]]></screen></sect3><sect3>
<title>IPv4 kompatible IPv6 Adressen</title>
<para>Dieser Adress-Typ wurde für das automatische Tunneln (<ulink url="http://www.faqs.org/rfcs/rfc2893.html">RFC 2893 / Transition Mechanisms for IPv6 Hosts and Routers</ulink>) verwendet, welches aber durch das <link linkend="tunneling-6to4.">6to4 tunneling</link> ersetzt wurde.</para><screen>
<![CDATA[0:0:0:0:0:0:a.b.c.d/96
]]></screen><para>oder in komprimierter Form:</para><screen>
<![CDATA[::a.b.c.d/96
]]></screen></sect3></sect2></sect1><sect1>
<title>Netzteil der Adresse (Präfix)</title>
<para>Es wurden einige Adress-Typen definiert und zugleich blieb für zukünftige Anforderungen ausreichend Raum für weitere Definitionen. In <ulink url="http://www.faqs.org/rfcs/rfc4291.html">RFC 4291 / IP Version 6 Addressing Architecture</ulink> wird das aktuelle Adress-Schema definiert.
</para>
<para>Lassen Sie uns nun einen Blick auf die verschiedenen Präfixe (und somit auf die Adress-Arten) werfen::</para><sect2>
<title>Link-lokaler Adress-Typ</title>
<para>Es handelt sich um spezielle Adressen, die ausschließlich auf einem Link eines Interfaces gültig sind. Wird diese Adresse als Zieladresse verwendet, so kann das Paket niemals einen Router passieren. Die Adresse wird bei der Link-Kommunikation eingesetzt, z.B.:</para><itemizedlist>
<listitem><para>Ist noch jemand anderer auf diesem Link?</para></listitem><listitem><para>Ist jemand mit einer speziellen Adresse hier (z.B. Suche nach einem Router)?</para></listitem></itemizedlist><para>Die Adresse beginnt mit (wobei <emphasis>&rdquo;x&rdquo;</emphasis> für ein hexadezimales Zeichen steht, im Normalfall <emphasis>&rdquo;0</emphasis>&rdquo;)</para><screen>
<![CDATA[fe8x:  <- zurzeit als einziger in Benutzung
fe9x:
feax:
febx:
]]></screen><para>Eine Adresse mit diesem Präfix gibt es an jedem IPv6 fähigen Interface nach einer stateless automatischen Konfiguration (dies ist der Regelfall).</para></sect2><sect2>
<title>Site-lokaler Adress-Typ</title>
<para>Diese Adressen sind vergleichbar zu den <ulink url="http://www.faqs.org/rfcs/rfc1918.html">RFC 1918 / Address Allocation for Private Internets</ulink> im heutigen IPv4. Eine Neuerung und Vorteil hierbei ist, vergleichbar zum 10.0.0.0/8 im IPv4, die Nutzbarkeit von 16 bits bzw. ein Maximum von 65536 Subnetzen.</para>
<para>Ein weiterer Vorteil: Da man bei IPv6 mehr als eine Adresse an ein Interface binden kann, ist auch die Zuweisung einer site-local Adresse zusätzlich zu einer globalen Adresse möglich.</para>
<para>Die Adresse beginnt mit:</para><screen>
<![CDATA[fecx:  <- meistens genutzt.
fedx:
feex:
fefx:

]]></screen><para>(<emphasis>&rdquo;x&rdquo;</emphasis> ist ein hexadezimales Zeichen, normalerweise <emphasis>&rdquo;0</emphasis>&rdquo;) </para>
<para>Dieser Adresstyp ist nun abgekündigt <ulink url="http://www.faqs.org/rfcs/rfc3879.html">RFC 3879 / Deprecating Site Local Addresses</ulink> und sollte nicht mehr verwendet werden. Für Tests im Labor sind solche Adressen meineserachtens aber immer noch eine gute Wahl.</para></sect2><sect2>
<title>Unique Local IPv6 Unicast Adressen</title>
<para>Weil die schon früh definierten site-local Adressen nicht eindeutig sind, kann dies zu großen Problemen führen, wenn z.B. einst unabhängige Netzwerke später zusammengeschlossen werden (Überlappung von Subnetzen). Aufgrund dessen und anderer Gründe wurde ein neuer Adresstyp definiert, genant <ulink url="http://www.faqs.org/rfcs/rfc4193.html">RFC 4193 / Unique Local IPv6 Unicast Addresses</ulink>. 
</para>
<para>Die Adresse beginnt mit:</para><screen>
<![CDATA[fcxx:
fdxx:  <- zurzeit als einziger in Benutzung
]]></screen><para>Ein Teil des Präfix (40 Bits) werden pseudozufällig generiert. Es ist sehr unwahrscheinlich, daß zwei generierte Präfixe identisch sind.</para>
<para>Ein Beispiel für einen Präfix (generiert mit Hilfe des web-basierten Werkzeugs: <ulink url="http://www.goebel-consult.de/ipv6/createLULA">Goebel Consult / createLULA</ulink>):</para><screen>
<![CDATA[fd0f:8b72:ac90::/48
]]></screen></sect2><sect2>
<title>Globaler Adress-Typ ("Aggregatable global unicast")</title>
<para>Heute gibt es ist per Definition eine globale Adress-Art (Das erste Design, ''Provider based'' genannt, wurde bereits vor einigen Jahren wieder aufgegeben <ulink url="http://www.faqs.org/rfcs/rfc1884.html">RFC 1884 / IP Version 6 Addressing Architecture [obsolete]</ulink>. Einige Überbleibsel hiervon sind in älteren Linux Kernelquellen noch zu finden.</para>
<para>Die Adresse beginnt mit (x sind hexadezimale Zeichen)</para><screen>
<![CDATA[2xxx: 
3xxx:
]]></screen><para>Hinweis: Der Zusatz &rdquo;aggregatable&rdquo; im Namen wird in aktuellen Drafts abgelegt. 
Es sind weitere Subarten definiert:</para><sect3>
<title>6bone Test-Adressen</title>
<para>Diese globalen Adressen waren die Ersten definierten und auch benutzen Adressen. Sie alle beginnen mit:</para><screen>
<![CDATA[3ffe:
]]></screen><para>Beispiel:</para><screen>
<![CDATA[3ffe:ffff:100:f102::1
]]></screen><para>Eine spezielle 6bone Test-Adresse, die niemals weltweit einmalig ist, beginnt mit</para><screen>
<![CDATA[3ffe:ffff: 
]]></screen><para>und wird zumeist in alten Beispielen benutzt, um zu vermeiden, dass Anwender diese mit Copy &amp; Paste in Ihre Konfigurationen übernehmen können. Auf diese Weise können Duplikate weltweit einmaliger Adressen aus Versehen bzw. Unachtsamkeit vermieden werden. Es würde für den Original-Host ernste Probleme bedeuten (z.B. Antwortpakete für niemals gesendete Anfragen bekommen...). 
Aufgrund dessen, daß IPv6 nun produktiv ist, wird dieser Präfix nicht mehr länger delegiert und nach dem 6.6.2006 vom Routing ausgenommen (mehr unter <ulink url="http://www.faqs.org/rfcs/rfc3701.html">RFC 3701 / 6bone Phaseout</ulink> ).</para></sect3><sect3>
<title>6to4 Adressen</title>
<para>Diese Adressen werden für einen speziellen Tunnelmechanismus verwendet [<ulink url="http://www.faqs.org/rfcs/rfc3056.html">RFC 3056 / Connection of IPv6 Domains via IPv4 Clouds</ulink> und <ulink url="http://www.faqs.org/rfcs/rfc2893.html">RFC 2893 / Transition Mechanisms for IPv6 Hosts and Routers</ulink>]. Sie kodieren eine gegebene IPv4 Adresse, ein eventuelles Subnetz und beginnen mit </para><screen>
<![CDATA[2002:
]]></screen><para>z.B. wird 192.168.1.1/5 repräsentiert durch:</para><screen>
<![CDATA[2002:c0a8:0101:5::1
]]></screen><para>Ein kleines Shell-Kommando kann aus einer IPv4 eine 6to4 Adresse erstellen:</para><screen>
<![CDATA[ipv4="1.2.3.4"; sla="5"; printf "2002:%02x%02x:%02x%02x:%04x::1" `echo $ipv4
¬ | tr "." " "` $sla
]]></screen><para>Siehe auch <link linkend="tunneling-6to4.">tunneling using 6to4</link> und <link linkend="information-joinipv6-6to4-tunneling">information about 6to4 relay routers</link>.</para></sect3><sect3>
<title>Durch einen Provider zugewiesene Adressen für ein hierarchisches Routing</title>
<para>Diese Adressen werden an Internet Service Provider (ISP) delegiert und beginnen mit:</para><screen>
<![CDATA[2001:
]]></screen><para>Präfixe für große ISPs (mit eigenem Backbone) werden durch <link linkend="information-majorregionregistries">local registries</link> vergeben. Zurzeit wird ein Präfix mit der Länge 32 zugeteilt.</para>
<para>Grosse ISPs delegieren ihrerseits an kleinere ISPs ein Präfix mit der Länge 48.</para></sect3><sect3>
<title>Für Beispiele und Dokumentationen reservierte Adressen</title>
<para>Momentan sind zwei Adressbereiche für Beispiele und Dokumentationen <ulink url="http://www.faqs.org/rfcs/rfc3849.html">RFC 3849 / IPv6 Address Prefix Reserved for Documentation</ulink> reserviert:</para><screen>
<![CDATA[3ffe:ffff::/32
2001:0DB8::/32   EXAMPLENET-WF
]]></screen><para>Diese Adressbereiche sollten nicht geroutet werden und am Übergangsrouter zum Internet (basierend auf Absendeadressen) gefiltert werden.</para></sect3></sect2><sect2>
<title>Multicast-Addressen</title>
<para>Multicast-Adressen werden für entsprechende Dienste verwendet.</para>
<para>Sie beginnen immer mit (xx ist hierbei der Wert der Reichweite)</para><screen>
<![CDATA[ffxy:
]]></screen><para>Die Adressen werden in Reichweiten und Typen unterteilt:</para><sect3>
<title>Multicast-Bereiche</title>
<para>Die Multicast Reichweite ist ein Parameter, mit dem die maximale Distanz angegeben werden kann, die ein Multicast Paket sich von der versendenden Einheit entfernen kann.</para>
<para>Zurzeit sind folgende Regionen (reichweiten) definiert:</para><itemizedlist>
<listitem><para>ffx1: Node-lokal, Pakete verlassen niemals den Knoten</para></listitem><listitem><para>ffx2: Link-lokal, Pakete werden niemals von Routers weitergeleitet, der angegebene Link wird nie verlassen.</para></listitem><listitem><para>ffx5: Site-lokal, Pakete verlassen niemals den Standort (Site)</para></listitem><listitem><para>ffx8: organisationsweit, Pakete verlassen niemals eine Organisation (nicht einfach zu implementieren, dies muss durch das Routing Protokoll abgedeckt werden)</para></listitem><listitem><para>ffxe: Globale Reichweite</para></listitem><listitem><para>Sonstige sind reserviert</para></listitem></itemizedlist></sect3><sect3>
<title>Multicast-Typen</title>
<para>Es sind bereits viele Typen definiert bzw. reserviert (siehe <ulink url="http://www.faqs.org/rfcs/rfc4291.html">RFC 4291 / IP Version 6 Addressing Architecture</ulink> für weitere Details), einige Beispiele:</para><itemizedlist>
<listitem><para>All Nodes Adresse: ID = 1h, alle Hosts am lokalen Node (ff01:0:0:0:0:0:0:1) oder am angeschlossenen Link (ff02:0:0:0:0:0:0:1) werden adressiert.</para></listitem><listitem><para>All Routers Adresse: ID = 2h, alle Router am lokalen Node (ff01:0:0:0:0:0:0:2), am angeschlossenen Link (ff02:0:0:0:0:0:0:2) oder am lokalen Standort werden adressiert.</para></listitem></itemizedlist></sect3><sect3>
<title>Erforderliche node link-local Multicast Adresse</title>
<para>Diese spezielle Multicast Adresse wird als Zieladresse bei der Erkundung des Nahbereichs verwendet, da es ARP bei IPv6 im Gegensatz zu IPv4 nicht mehr gibt.</para>
<para>Ein Beispiel für diese Adresse könnte sein:</para><screen>
<![CDATA[ff02::1:ff00:1234
]]></screen><para>Das benutzte Präfix zeigt, dass es sich um eine link-lokale Multicast Adresse handelt. Dass Suffix wird aus der Zieladresse erstellt. In diesem Beispiel soll ein Paket zur Adresse &ldquo;fe80::1234&rdquo; gesendet werden, aber die Netzwerk-Schicht hat keine Kenntnis der aktuellen Schicht 2 MAC Adresse. Die oberen 104 bits werde mit &ldquo;ff02:0:0:0:01:ff00::/104&rdquo; ersetzt und die unteres 24 bits bleiben unverändert. Diese Adresse wird nun &rdquo;am Link&rdquo; verwendet, um den entsprechenden Node zu finden, der wiederum seine Schicht 2 MAC Adresse als Antwort zurücksendet.</para></sect3></sect2><sect2>
<title>Anycast-Adressen</title>
<para>Anycast Adressen sind spezielle Adressen und werden verwendet, um besondere Bereiche wie den nächstgelegenen DNS-Server, den nächstliegenden DHCP Server und vergleichbare dynamische Gruppen abzudecken. Die Adressen werden dem Pool des Unicast Adressraums (global-aggregierbar oder Site-lokal zurzeit) entnommen. Der Anycast-Mechanismus (client view) wird von dynamischen Routing-Protokollen gehandhabt.</para>
<para>Hinweis: Anycast Adressen können nicht als Quelladresse verwendet werden, sondern ausschließlich als Zieladressen.</para><sect3>
<title>Subnet-Router Anycast-Adresse</title>
<para>Die Subnet-Router Anycast Adresse ist ein einfaches Beispiel für eine Anycast Adresse. Angenommen, der Knoten hat folgende global zugewiesene IPv6 Adresse:</para><screen>
<![CDATA[2001:0db8:100:f101:210:a4ff:fee3:9566/64  <- Node's address
]]></screen><para>Die Subnet-Router Anycast Adresse wird durch komplette Streichung des Suffixes (die letzten gültigen 64 bits) erstellt: </para><screen>
<![CDATA[2001:0db8:100:f101::/64  <- subnet-router anycast address
]]></screen></sect3></sect2></sect1><sect1>
<title>Adress-Typen (Host-Teil)</title>
<para>In Hinblick auf Auto-Konfigurations- und Mobilitätsfragen wurde entschieden, die niedrigeren 64 bits als Host-Bestandteil zu nutzen. Jedes einzelne Subnetz kann deshalb eine große Anzahl an Adressen enthalten.</para>
<para>Der Host-Teil kann aus unterschiedlichen Blickwinkeln betrachtet werden:</para><sect2>
<title>Automatisch erstellte Adressen (auch unter dem Namen stateless bekannt)</title>
<para>Bei der Auto-Konfiguration wird der Hostteil der Adresse durch die Konvertierung der MAC-Adresse eines Interfaces (falls vorhanden) zu einer einmaligen IPv6 Adresse (mittels EUI-64 Methode) generiert. Falls keine MAC-Adresse verfügbar ist (z.B. bei virtuellen Interfaces), wird anstelle dessen etwas anderes herangezogen (wie z.B. die IPv4 Adresse oder die MAC-Adresse eines physikalischen Interfaces).</para>
<para>Als Beispiel hat hier ein NIC folgende MAC-Adresse (48 bit):</para><screen>
<![CDATA[00:10:a4:01:23:45
]]></screen><para>Diese wird gemäß dem<ulink url="http://standards.ieee.org/regauth/oui/tutorials/EUI64.html">IEEE-Tutorial EUI-64</ulink> Design für EUI-48 Identifiers zum 64 bit Interface Identifier erweitert:</para><screen>
<![CDATA[0210:a4ff:fe01:2345
]]></screen><para>Mit einem gegebenen Präfix wird daraus die schon oben gezeigte IPv6-Adresse:</para><screen>
<![CDATA[2001:0db8:0100:f101:0210:a4ff:fe01:2345
]]></screen><sect3>
<title>Datenschutzproblem mit automatisch erstellten Adressen sowie eine Lösung</title>
<para>Der "automatisch generierte" Hostteil ist weltweit einmalig (mit Ausnahme, wenn der Hersteller einer NIC die gleiche MAC-Adresse bei mehr als einer NIC einsetzt). Die Client-Verfolgung am Host wird dadurch möglich, solange kein Proxy verwendet wird. </para>
<para>Dies ist ein bekanntes Problem und eine Lösung wurde dafür definiert: Datenschutz-Erweiterung, definiert in <ulink url="http://www.faqs.org/rfcs/rfc3041.html">RFC 3041 / Privacy Extensions for Stateless Address Autoconfiguration in IPv6</ulink> (es gibt bereits ein neueres Draft: <ulink url="http://www.ietf.org/ids.by.wg/ipv6.html">draft-ietf-ipv6-privacy-addrs-v2-*</ulink>). Es wird von Zeit zu Zeit mittels eines statischen und eines Zufallswertes ein neues Suffix erstellt. Hinweis: Dies ist nur für ausgehende Client-Verbindungen sinnvoll und bei bekannten Servern nicht wirklich sinnvoll.</para></sect3></sect2><sect2>
<title>Manuell festgelegte Adressen</title>
<para>Bei Servern ist es wahrscheinlich leichter, sich einfachere Adressen zu merken. Dies kann z.B. mit der Zuweisung einer zusätzlichen IPv6 Adresse an ein Interface geschehen.</para><screen>
<![CDATA[2001:0db8:100:f101::1
]]></screen><para>Für das manuelle Suffix, wie &rdquo;::1&rdquo; im obigen Beispiel, muss das siebte höchstwertige Bit auf 0 gesetzt sein (das universale/local Bit des automatisch generierten Identifiers). Es sind auch noch andere (ansonsten nichtausgewählte) Bit-Kombinationen für Anycast-Adressen reserviert.</para></sect2></sect1><sect1>
<title>Präfixlängen für das Routing</title>
<para>Um eine maximale Reduktion an Routing-Tabellen zu erzielen, war in der frühen Design-Phase noch ein vollkommen hierarchischer Routing-Ansatz vorgesehen. Die Überlegungen hinter diesem Ansatz waren die gegenwärtigen IPv4 Routing-Einträge in den Haupt-Routern (mit über 400.000 Einträgen im Jahr 2013) sowie die Reduktion des Speicherbedarfs für die Routing-Tabellen bei Hardware-Routern (ASIC &rdquo;Application Specified Integrated Circuit&rdquo;, speziell konstuierter Chip) sowie ein daraus resultierender Geschwindigkeitszuwachs (weniger Einträge ergeben hoffentlich schnellere Abfragen).</para>
<para>Heutiger Standpunkt ist, dass das Routing für Netzwerke mit nur einem Service Provider hauptsächlich mit einem hierarchischen Design realisiert wird. Eine solche Vorgehensweise ist nicht möglich, wenn mehr als eine ISP-Verbindung besteht. Diese Problematik wird unter dem Thema multi-homing diskutiert (Infos zu multi-homing: <ulink url="http://www.ietf.org/ids.by.wg/multi6.html">drafts-ietf-multi6-*</ulink>,<ulink url="http://arneill-py.sacramento.ca.us/ipv6mh/">IPv6 Multihoming Solutions</ulink>).</para><sect2>
<title>Präfixlängen ("netmasks" genannt)</title>
<para>Vergleichbar zu IPv4, handelt es sich hierbei um den routbaren Netzwerkpfad für das stattfindende Routing. Da die Standard-Notierung der Netzmaske von 128 bit nicht sehr fein aussieht, verwenden die Designer das aus IPv4 bekannte Classless Inter Domain Routing Schema (CIDR, <ulink url="http://www.faqs.org/rfcs/rfc1519.html">RFC 1519 / Classless Inter-Domain Routing</ulink>). Mit Hilfe des CIDR wird die Bitanzahl der IP Adresse festgelegt, welche für das Routing verwendet werden. Diese Methode wird auch als "Slash"-Notation genannt.</para>
<para>Ein Beispiel:</para><screen>
<![CDATA[2001:0db8:100:1:2:3:4:5/48
]]></screen><para>Diese Notation wird erweitert zu:</para><itemizedlist>
<listitem><para>Netzwerk: </para></listitem></itemizedlist><screen>
<![CDATA[2001:0db8:0100:0000:0000:0000:0000:0000
]]></screen><itemizedlist>
<listitem><para>Netzmaske: </para></listitem></itemizedlist><screen>
<![CDATA[ffff:ffff:ffff:0000:0000:0000:0000:0000
]]></screen></sect2><sect2>
<title>Zutreffende Routen</title>
<para>Im Normalfall (ohne QoS) ergibt eine Suche in der Routing-Tabelle eine Route mit der signifikantesten Adress-Bit-Anzahl, d.h. jene Route mit der größten Präfix-Länge wird zuerst herangezogen.</para>
<para>Wenn z.B. eine Routing-Tabelle folgende Einträge zeigt (Liste ist nicht komplett):</para><screen>
<![CDATA[2001:0db8:100::/48     ::            U  1 0 0 sit1 
2000::/3               ::192.88.99.1 UG 1 0 0 tun6to4
]]></screen><para>Die gezeigten Zieladressen der IPv6 Pakete werden über die entsprechenden Geräte geroutet</para><screen>
<![CDATA[2001:0db8:100:1:2:3:4:5/48  ->  routed through device sit1
2001:0db8:200:1:2:3:4:5/48  ->  routed through device tun6to4
]]></screen></sect2></sect1></chapter><chapter id='chapter-systemcheck' >
<title><!-- anchor id="chapter-systemcheck" -->IPv6 System-Check</title>
<para>Bevor Sie IPv6 auf einem Linux Host einsetzen können, müssen sie überprüfen, ob das System IPv6 fähig ist. Eventuell haben Sie Änderungen vorzunehmen, um IPv6 zu ermöglichen.</para><sect1 id='systemcheck-kernel' >
<title><!-- anchor id="systemcheck-kernel" -->IPv6 kompatibler Kernel</title>
<para>Neuere Linux Distributionen beinhalten bereits einen IPv6-fähigen Kernel. Die IPv6-Funktionalität wird im Allgemeinen als Modul kompiliert. Es ist aber durchaus möglich, dass das Modul nicht automatisch beim Start des Betriebssystems geladen wird.</para>
<para>Hinweis: Sie sollten die Kernel Serie 2.2.x nicht mehr verwenden, da die IPv6-Implementierung nicht mehr aktuell ist. Auch die in der Serie 2.4.x wird nicht mehr weiterentwickelt bzgl. der Definitionen in den neueren RFCs. Es wird empfohlen, einen aus der Serie 2.6.x zu verwenden.</para><sect2>
<title>Überprüfung der IPv6 Unterstützung im aktuellen Kernel</title>
<para>Um zu überprüfen, ob ihr aktueller Kernel IPv6 unterstützt, sollten sie einen Blick in ihr /proc-Dateisystem werfen. Folgende Einträge müssen existieren:</para><screen>
<![CDATA[/proc/net/if_inet6
]]></screen><para>Einen kleinen automatischen Test können Sie wie folgt durchführen:</para><screen>
<![CDATA[# test -f /proc/net/if_inet6 && echo "Running kernel is IPv6 ready"
]]></screen><para>Wenn dieser Test negativ verläuft, ist das IPv6 Modul aller Wahrscheinlichkeit noch nicht geladen.</para></sect2><sect2>
<title>IPv6 Module laden</title>
<para>Mit folgenden Befehl können Sie versuchen, das Modul zu laden:</para><screen>
<![CDATA[# modprobe ipv6
]]></screen><para>Wenn dieser Befehl positiv verläuft, dann sollten Sie das Modul mit folgendem Befehl auflisten können:</para><screen>
<![CDATA[# lsmod |grep -w 'ipv6' && echo "IPv6 module successfully loaded"
]]></screen><para>Der obige Test sollte nun erfolgreich verlaufen.</para>
<para>Hinweis: Ein Entfernen des Moduls im laufenden System wird derzeit nicht unterstützt und kann unter gewissen Bedingungen zu einem Absturz des Kernels führen.</para><sect3>
<title>Automatisches Laden des Moduls</title>
<para>Es ist möglich das IPv6 Modul bei Bedarf automatisch zu laden. Sie müssen nur folgende Zeile in die Konfigurationsdatei des kernel modul loaders eintragen (normalerweise: /etc/modules.conf oder /etc/conf.modules):</para><screen>
<![CDATA[alias net-pf-10 ipv6  # automatically load IPv6 module on demand
]]></screen><para>Mit der folgenden Zeile ist es auch möglich, das automatische Laden des IPv6 Moduls auszuschalten.</para><screen>
<![CDATA[alias net-pf-10 off   # disable automatically load of IPv6 module on demand
]]></screen><para>Anmerkung: In Kernel Series 2.6.x wurde der Modul-Lade-Mechanismus geändert. Die neue Konfigurationsdatei wird anstelle /etc/modules.conf nun /etc/modprobe.conf genannt.</para></sect3></sect2><sect2>
<title>Kernel-Kompilierung mit IPv6 Funktionalität</title>
<para>Wenn beide oben gezeigten Methoden ohne Erfolg blieben und ihr Kernel somit keine IPv6 Unterstützung bietet, dann haben Sie folgende Optionen:</para><itemizedlist>
<listitem><para>Aktualisieren Sie Ihre Distribution mit einer Version, die von Haus aus IPv6 unterstützt (empfohlen für Anfänger),</para></listitem><listitem><para>Sie können einen Standard-Kernel kompilieren (einfach, wenn Sie die benötigten Optionen kennen)</para></listitem><listitem><para>Kompilieren Sie die Kernel-Quellen ihrer Distribution (manchmal nicht ganz so einfach)</para></listitem><listitem><para>Kompilieren Sie einen Kernel mit den USAGI-Erweiterungen</para></listitem></itemizedlist><para>Falls Sie sich dazu entscheiden, einen neuen IPv6 kompatiblen Kernel zu kompilieren, sollten Sie auf jeden Fall bereits Erfahrung mit der Kernel-Kompilierung haben sowie das <ulink url="http://www.tldp.org/HOWTO/Kernel-HOWTO.html">Linux Kernel HOWTO</ulink> lesen.</para>
<para>Ein Vergleich zwischen dem Standard-Kernel und dem Kernel mit USAGI-Erweiterungen ist verfügbar unter <ulink url="http://www.bieringer.de/linux/IPv6/status/IPv6+Linux-status-kernel.html">IPv6+Linux-Status-Kernel</ulink>.</para><sect3>
<title>Kompilieren eines Standard-Kernels</title>
<para>Detailliertere Ausführungen zur Kompilierung eines IPv6 fähigen Kernels finden Sie unter <ulink url="http://www.bieringer.de/linux/IPv6/IPv6-HOWTO/IPv6-HOWTO-2.html#kernel">IPv6-HOWTO-2#kernel</ulink>.</para>
<para>Hinweis: Sie sollten wann immer möglich die Kernel Serie 2.6.x oder höher einsetzen, da die IPv6 Unterstützung der Serie 2.4.x nur einige Backports erhält und die IPv6-Unterstützung von Serie 2.2.x hoffnungslos veraltet ist und nicht mehr weiterentwickelt wird.</para></sect3><sect3>
<title>Kompilieren eines Kernels mit USAGI-Erweiterungen</title>
<para>Wie für den Standard-Kernel gilt auch hier, dass das Kompilieren des Kernels nur fortgeschrittenen Benutzern empfohlen wird, die mit IPv6 und dem Kompilieren des Kernels bereits vertraut sind.</para>
<para>Siehe auch <ulink url="http://www.linux-ipv6.org/faq.html">USAGI project / FAQ</ulink> und <ulink url="http://www.deepspace6.net/docs/best_ipv6_support.html">Obtaining the best IPv6 support with Linux (Article)</ulink> (<ulink url="http://mirrors.bieringer.de/www.deepspace6.net/docs/best_ipv6_support.html">Spiegel</ulink>).</para></sect3></sect2><sect2>
<title>IPv6 kompatible Netzwerkgeräte</title>
<para>Nicht alle Netzwerkgeräte sind bereits (bzw. überhaupt) dazu in der Lage, IPv6 Pakete übertragen zu können. Den aktuellen Status können Sie unter <ulink url="http://www.bieringer.de/linux/IPv6/status/IPv6+Linux-status-kernel.html#transport">IPv6+Linux-status-kernel.html#transport</ulink>.</para>
<para>Ein entscheidender Punkt ist die Tatsache, dass ein IPv6 Paket wegen der Struktur der Netzwerkschicht in der Kernel-Implementierung nicht wirklich aufgrund der IP-Header-Nummer (6 anstelle 4) wiedererkannt wird. Es wird aufgrund der Protokollnummer der Schicht 2 Transport-Protokolls wiedererkannt. Folglich können IPv6 Pakete von keinem Transport-Protokoll verwendet werden, welche diese Protokoll-Nummer nicht nutzen. Hinweis: Das Paket wird nach wie vor über den Link transportiert, aber auf der Empfänger-Seite kann das Paket nicht verarbeitet werden (Sie können dies z.B. mit tcpdump sehen).</para><sect3>
<title>Gegenwärtig bekannte Verbindungsarten, die niemals IPv6 fähig sein werden</title>
<itemizedlist>
<listitem><para>Serial Line IP (<ulink url="http://www.faqs.org/rfcs/rfc1055.html">RFC 1055 / SLIP</ulink>), auch SLIPv4 genannt; das Gerät heißt: s1X </para></listitem><listitem><para>Parallel Line IP (PLIP), gleich dem SLIP, Gerätename: plipX</para></listitem><listitem><para>ISDN mit <emphasis>rawip</emphasis> Encapsulation; Gerätename: isdnX</para></listitem></itemizedlist></sect3><sect3>
<title>Bekannte Verbindungsarten, die gegenwärtig IPv6 nicht unterstützen</title>
<itemizedlist>
<listitem><para>ISDN mit <emphasis>syncppp</emphasis> Encapsulation; Gerätename: ipppX (Designfrage des ipppd; in der Kernel Serie 2.5.x wird ipppX in einer allgemeinen PPP Schicht inkludiert)</para></listitem></itemizedlist></sect3></sect2></sect1><sect1>
<title>IPv6 kompatible Tools zur Netzwerkkonfiguration</title>
<para>Ohne entsprechende Tools zur Konfiguration von IPv6 würden Sie mit einem IPv6 fähigen Kernel nicht weit kommen. Es gibt verschiedene Pakete womit IPv6 konfiguriert werden kann.</para><sect2>
<title>net-tools Paket</title>
<para>Das Paket net-tool beinhaltet einige Tools wie ifconfig und route. Mit den Tools kann IPv6 auf einem Interface konfiguriert werden. Sehen Sie sich die Ausgabe des Befehls <emphasis>ifconfig -?</emphasis> Bzw. <emphasis>route -?</emphasis> an. Finden Sie in der Ausgabe die Worte IPv6, inet6 oder Ähnliches, dann ist das Tool IPv6-kompatibel.</para>
<para>Automatische Überprüfung:</para><screen>
<![CDATA[# /sbin/ifconfig -? 2>& 1|grep -qw 'inet6' && echo "utility 'ifconfig' is
¬ IPv6-ready"
]]></screen><para>Folgenden Check gibt es für route:</para><screen>
<![CDATA[# /sbin/route -? 2>& 1|grep -qw 'inet6' && echo "utility 'route' is IPv6-ready"
]]></screen></sect2><sect2>
<title>iproute Paket</title>
<para>Alexey N.Kuznetsov (gegenwärtig ein Betreuer des Linux Network Codes) erstellte eine Tool-Sammlung, womit das Netzwerk mittels dem netlink Device konfiguriert wird. Diese Tool-Sammlung stellt mehr Funktionalität als das net-tools Paket zur Verfügung, ist aber nicht sehr umfangreich dokumentiert und nichts für schwache Nerven.</para><screen>
<![CDATA[# /sbin/ip 2>&1 |grep -qw 'inet6' && echo "utility 'ip' is IPv6-ready"
]]></screen><para>Wird das Programm /sbin/ip nicht gefunden, dann wird die Installation des iproute Paketes empfohlen.</para><itemizedlist>
<listitem><para>Sie können dies (falls beinhaltet) von der benutzten Linux-Distribution installieren</para></listitem><listitem><para>Sie können nach einem passenden RPM Paket unter <ulink url="http://rpmfind.net/linux/rpm2html/search.php?query=iproute">RPMfind/iproute</ulink> suchen (manchmal ist auch das kompilieren eines SRPMS Paketes zu empfohlen)</para></listitem></itemizedlist></sect2></sect1><sect1>
<title>IPv6 Test/Debug-Programme</title>
<para>Nachdem Sie ihr System auf IPv6 vorbereitet haben, wollen Sie nun IPv6 für die Netzwerkkommunikation einsetzen. Zuerst sollten Sie lernen, IPv6 Pakete mit einem Sniffer Programm zu untersuchen. Dies ist zu empfehlen, denn in Hinblick auf Fehlersuche und Troubleshooting kann das Durchführen einer schnellen Diagnose von Nutzen sein. </para><sect2 id='program-ping6.' >
<title><!-- anchor id="program-ping6." -->IPv6 ping</title>
<para>Das Programm ist normalerweise im Paket <emphasis>iputils</emphasis> beinhaltet. Durch senden von ICMPv6 echo-request Paketen und warten auf ICMPv6 echo-reply Paketen können einfache Transport-Tests durchgeführt werden.</para>
<para>Anwendung</para><screen>
<![CDATA[# ping6 <hostwithipv6address>
# ping6 <ipv6address>
# ping6 [-I <device>] <link-local-ipv6address>
]]></screen><para>Einige Implementierungen unterstützen auch %&lt;device&gt; Definition zusätzlich zu -I &lt;device&gt;, z.B.</para><screen>
<![CDATA[# ping6 <link-local-ipv6address>%<device>
]]></screen><para>Beispiel</para><screen>
<![CDATA[# ping6 -c 1 ::1 
PING ::1(::1) from ::1 : 56 data bytes 
64 bytes from ::1: icmp_seq=0 hops=64 time=292 usec

--- ::1 ping statistics --- 
1 packets transmitted, 1 packets received, 0% packet loss 
round-trip min/avg/max/mdev = 0.292/0.292/0.292/0.000 ms
]]></screen><para>Hinweis: ping6 benötigt direkten Zugriff auf den Socket und hierfür Root-Rechte. Wenn Nicht-Root-Benutzer ping6 nicht benutzen können, kann dies zwei Ursachen haben:</para><orderedlist>
<listitem><para>ping6 ist nicht im Pfad des Benutzers eingetragen; ping6 ist allgemein in /usr/sbin zu finden -&gt; Lösung: Den Pfad ergänzen (nicht empfohlen)</para></listitem><listitem><para>ping6 lässt sich im Allgemeines wegen fehlender Root-Rechte nicht korrekt ausführen -&gt; Lösung: chmod u+s /usr/sbin/ping6</para></listitem></orderedlist><sect3>
<title>Das Interface für einen IPv6 ping bestimmen</title>
<para>Wenn link-lokale Adressen für ein IPv6 ping verwendet werden, dann hat der Kernel keine Kenntnis darüber, durch welches (physikalische oder virtuelle) Gerät das Paket gesendet werden muss - jedes Gerät hat eine link-lokale Adresse. Ein Versuch resultiert in folgender Fehlermeldung:</para><screen>
<![CDATA[# ping6 fe80::212:34ff:fe12:3456 
connect: Invalid argument
]]></screen><para>In diesem Fall müssen Sie das Interface zusätzlich spezifizieren:</para><screen>
<![CDATA[# ping6 -I eth0 -c 1 fe80::2e0:18ff:fe90:9205 
PING fe80::212:23ff:fe12:3456(fe80::212:23ff:fe12:3456) from
¬ fe80::212:34ff:fe12:3478 eth0: 56 data bytes 
64 bytes from fe80::212:23ff:fe12:3456: icmp_seq=0 hops=64 time=445 usec

--- fe80::2e0:18ff:fe90:9205 ping statistics --- 
1 packets transmitted, 1 packets received, 0% packet loss round-trip
¬ min/avg/max/mdev = 0.445/0.445/0.445/0.000 ms
]]></screen><para>Beispiel für %&lt;device&gt; Notation:</para><screen>
<![CDATA[# ping6 -c 1 fe80::2e0:18ff:fe90:9205%eth0
]]></screen></sect3><sect3>
<title>Ping6 zu Multicast-Adressen</title>
<para>Ein interessanter Mechanismus zum Aufspüren eines IPv6 aktiven Hosts am Link ist mit ping6 an eine link-lokale all-node Multicast Adresse zu pingen.</para><screen>
<![CDATA[# ping6 -I eth0 ff02::1
PING ff02::1(ff02::1) from fe80:::2ab:cdff:feef:0123 eth0: 56 data bytes
64 bytes from ::1: icmp_seq=1 ttl=64 time=0.104 ms
64 bytes from fe80::212:34ff:fe12:3450: icmp_seq=1 ttl=64 time=0.549 ms (DUP!) 
]]></screen><para>Beispiel für %&lt;device&gt; Notation:</para><screen>
<![CDATA[# ping6 ff02::1%eth0
]]></screen><para>Bei IPv6 kann dieses Verhalten zurzeit, im Gegensatz zu IPv4, wo Antworten auf ein Ping auf die Broadcast Adresse unterdrückt werden können, nicht unterbunden werden. Ausnahme hierbei ist der Einsatz der lokalen IPv6 Firewall-Funktionalität.</para></sect3></sect2><sect2 id='program-traceroute6.' >
<title><!-- anchor id="program-traceroute6." -->IPv6 traceroute6</title>
<sect3>
<title>IPv6 traceroute6 (alt)</title>
<para>Dieses Programm ist normal im Paket iputils enthalten. Es ist ein Programm vergleichbar dem IPv4 traceroute. Unten sehen Sie ein Beispiel:</para><screen>
<![CDATA[# traceroute6 www.6bone.net 
traceroute to 6bone.net (3ffe:b00:c18:1::10) from 2001:0db8:0000:f101::2, 30
¬ hops max, 16 byte packets 
 1 localipv6gateway (2001:0db8:0000:f101::1) 1.354 ms 1.566 ms 0.407 ms 
 2 swi6T1-T0.ipv6.switch.ch (3ffe:2000:0:400::1) 90.431 ms 91.956 ms 92.377 ms 
 3 3ffe:2000:0:1::132 (3ffe:2000:0:1::132) 118.945 ms 107.982 ms 114.557 ms 
 4 3ffe:c00:8023:2b::2 (3ffe:c00:8023:2b::2) 968.468 ms 993.392 ms 973.441 ms 
 5 3ffe:2e00:e:c::3 (3ffe:2e00:e:c::3) 507.784 ms 505.549 ms 508.928 ms 
 6 www.6bone.net (3ffe:b00:c18:1::10) 1265.85 ms * 1304.74 ms
]]></screen><para>Anmerkung: Im Unterschied zu modernen IPv4 traceroute Versionen, welche den Einsatz von ICMPv4-echo-request Paketen wie auch UDP Paketen (default) ermöglichen, können mit IPv6-traceroute nur UDP Pakete versendet werden. Wie Sie vielleicht bereits wissen, werden von Firewalls bzw. von ACLs auf Routern ICMP echo-request Pakete mehr akzeptiert als UDP Pakete. </para>
<para>Falls ein Interface spezifiziert werden muß, kann dies durch -i &lt;device&gt; oder in der Form &lt;address&gt;%&lt;device&gt; erfolgen.</para></sect3><sect3>
<title>traceroute ab Version 2)</title>
<para>traceroute bekam IPv6-Unterstützung ab Version 2 mit den gleichen Möglichkeiten wie für IPv4. Hier ein Beispiel für einen ICMP (ping) traceroute (benötigt root-Rechte) </para><screen>
<![CDATA[# traceroute -I -n ipv6.google.com
traceroute to ipv6.google.com (2a00:1450:4016:804::200e), 30 hops max, 80 byte packets
 1  2001:a61:***  0.410 ms  0.510 ms  0.655 ms
 2  2001:a60::89:705:1  26.428 ms  34.361 ms  41.777 ms
 3  2001:a60::89:0:1:2  19.131 ms  19.163 ms  19.248 ms
 4  2001:a60:0:106::2  20.464 ms  20.467 ms  20.457 ms
 5  2001:4860::9:4000:cf86  21.836 ms *  21.852 ms
 6  2001:4860:0:1::19  21.690 ms  21.585 ms  22.919 ms
 7  2a00:1450:4016:804::200e  23.176 ms  19.310 ms  20.065 ms
]]></screen><para>Falls ein Interface spezifiziert werden muß, kann dies durch -i &lt;device&gt; erfolgen.</para></sect3></sect2><sect2 id='program-tracepath6.' >
<title><!-- anchor id="program-tracepath6." -->IPv6 tracepath6</title>
<para>Dieses Programm ist normalerweise im Paket <emphasis>iputils</emphasis> enthalten. Das Programm ist dem traceroute6 ähnlich, es gibt den Weg zu einem angegebenen Ziel wieder und misst hierbei den MTU-Wert. Unten sehen Sie ein Beispiel:</para><screen>
<![CDATA[# tracepath6 www.6bone.net 
 1?: [LOCALHOST] pmtu 1480 
 1: 3ffe:401::2c0:33ff:fe02:14 150.705ms 
 2: 3ffe:b00:c18::5 267.864ms 
 3: 3ffe:b00:c18::5 asymm 2 266.145ms pmtu 1280 
 3: 3ffe:3900:5::2 asymm 4 346.632ms 
 4: 3ffe:28ff:ffff:4::3 asymm 5 365.965ms 
 5: 3ffe:1cff:0:ee::2 asymm 4 534.704ms 
 6: 3ffe:3800::1:1 asymm 4 578.126ms !N 
Resume: pmtu 1280
]]></screen></sect2><sect2 id='program-tcpdump' >
<title><!-- anchor id="program-tcpdump" -->IPv6 tcpdump</title>
<para>In Linux ist tcpdump ein Haupttool zum aufzeichnen von Paketen. Weiter unten sehen Sie einige Beispiele. Normalerweise ist die Ipv6-Unterstützung in der aktuellen Version 3.6 gegeben.</para>
<para>Bei tcpdump werden zur Geräuschminimierung bei der Paket-Filterung Ausdrücke eingesetzt:</para><itemizedlist>
<listitem><para>icmp6: ICMPv6 Datenverkehr wird gefiltert</para></listitem><listitem><para>ip6: IPv6 Datenverkehr (inkl.ICMPv6) wird gefiltert</para></listitem><listitem><para>proto ipv6: getunnelter IPv6-in-IPv4 Datenverkehr wird gefiltert</para></listitem><listitem><para>not port ssh: zum unterdrücken der Anzeige von SSH Paketen während der Ausführung von tcpdump bei einer remote SSH-Sitzung</para></listitem></itemizedlist><para>Ebenfalls sind einige Kommandozeilen-Optionen sehr hilfreich, um detailliertere Informationen über die Pakete erlangen und protokollieren zu können. Für ICMPv6 Pakete sind hauptsächlich interessant:</para><itemizedlist>
<listitem><para>&ldquo;-s 512&rdquo;: Bei der Aufzeichnung der Pakete wird die zu Aufzeichnungslänge auf 512 bytes vergrößert</para></listitem><listitem><para>&ldquo;-vv&rdquo;: wirklich sehr ausführliche Ausgabe</para></listitem><listitem><para>&ldquo;-n&rdquo;: Adressen werden nicht in Namen aufgelöst. Dies ist hilfreich, wenn die Reverse-DNS-Auflösung nicht sauber arbeiten sollte</para></listitem></itemizedlist><sect3>
<title>IPv6 ping zur Adresse 2001:0db8:100:f101::1 über einen lokalen Link</title>
<screen>
<![CDATA[# tcpdump -t -n -i eth0 -s 512 -vv ip6 or proto ipv6 
tcpdump: listening on eth0 
2001:0db8:100:f101:2e0:18ff:fe90:9205 > 2001:0db8:100:f101::1: icmp6: echo
¬ request (len 64, hlim 64) 
2001:0db8:100:f101::1 > 2001:0db8:100:f101:2e0:18ff:fe90:9205: icmp6: echo
¬ reply (len 64, hlim 64)
]]></screen></sect3><sect3>
<title>IPv6 ping zur Adresse 2001:0db8:100::1 über einen IPv6-in-IPv4 Tunnel geroutet</title>
<para>1.2.3.4. und 5.6.7.8. sind Tunnel-Endpunkte (alle Adressen sind Beispiele)</para><screen>
<![CDATA[# tcpdump -t -n -i ppp0 -s 512 -vv ip6 or proto ipv6 
tcpdump: listening on ppp0 
1.2.3.4 > 5.6.7.8: 2002:ffff:f5f8::1 > 2001:0db8:100::1: icmp6: echo request
¬ (len 64, hlim 64) (DF) (ttl 64, id 0, len 124) 
5.6.7.8 > 1.2.3.4: 2001:0db8:100::1 > 2002:ffff:f5f8::1: icmp6: echo reply (len
¬ 64, hlim 61) (ttl 23, id 29887, len 124) 
1.2.3.4 > 5.6.7.8: 2002:ffff:f5f8::1 > 2001:0db8:100::1: icmp6: echo request
¬ (len 64, hlim 64) (DF) (ttl 64, id 0, len 124) 
5.6.7.8 > 1.2.3.4: 2001:0db8:100::1 > 2002:ffff:f5f8::1: icmp6: echo reply (len
¬ 64, hlim 61) (ttl 23, id 29919, len 124)
]]></screen></sect3></sect2></sect1><sect1>
<title>IPv6 kompatible Programme</title>
<para>Aktuelle Distributionen beinhalten bereits die gängigsten IPv6 kompatiblen Client- und Server-Programme. Weitere Infos gibt es unter <ulink url="http://www.bieringer.de/linux/IPv6/status/IPv6+Linux-status-distributions.html">IPv6+Linux-Status-Distribution</ulink>. Falls ein Programm hier noch nicht gelistet sein sollte, können Sie unter <ulink url="http://www.deepspace6.net/docs/ipv6_status_page_apps.html">Current Status of IPv6 Support for Networking Applications</ulink> nachlesen, ob das Programm bereits auf IPv6 portiert wurde und unter Linux bereits läuft. Für verbreitete Programme gibt es einige Hinweise hier weiter unten.</para></sect1><sect1>
<title>IPv6 kompatible Client-Programme (Auswahl)</title>
<para>Um die folgend abgebildeten Tests durchzuführen, benötigen Sie ein funktionierendes IPv6 System. Bei einigen Beispielen werden Adressen angezeigt, die nur bei einer verfügbaren 6bone Verbindung erreichbar sind.</para>
<para>Note: wenn Namen anstatt dedizierter IPv4/IPv6 Adressen benutzt werden, dann kann dieser zu einer Liste von IPv4 und IPv6 Adressen aufgelöst werden. Einige Kommandozeilenwerkzeuge unterstützen explizite Benutzung des gewünschten Protokolls. Üblicherweis haben solche Werkzeuge Optionen wie &rdquo;-4&rdquo; für IPv4 und &rdquo;-6&rdquo; für IPv6.</para><sect2>
<title>DNS-Überprüfung der IPv6 Adress-Auflösung</title>
<para>Jeder DNS-Server (Domain Name System) sollte aufgrund der Sicherheitsupdates der letzten Jahre bereits mit neuerer Software bestückt sein, die den Übergangs-IPv6-Adress-Standardtyp AAAA unterstützt (der neueste Standardtyp - A6 genannt - wird nur von BIND9 und höheren Versionen unterstützt und ist daher noch nicht allzu verbreitet. Ebenfalls nicht unterstützt wird die root Domain IP6.ARPA). Ein einfacher Test zum überprüfen der IPv6 Adress-Auflösung ist:</para><screen>
<![CDATA[# host -t AAAA www.join.uni-muenster.de
]]></screen><para>Die Ausgabe des Tests sollte etwa wie folgt sein: </para><screen>
<![CDATA[www.join.uni-muenster.de. is an alias for tolot.join.uni-muenster.de. 
tolot.join.uni-muenster.de. has AAAA address
¬ 2001:638:500:101:2e0:81ff:fe24:37c6
]]></screen></sect2><sect2>
<title>IPv6 kompatible Telnet Client-Programme</title>
<para>IPv6 kompatible Clients sind verfügbar. Ein einfacher Test sieht wie folgt aus:</para><screen>
<![CDATA[$ telnet 3ffe:400:100::1 80
Trying 3ffe:400:100::1... 
Connected to 3ffe:400:100::1. 
Escape character is '^]'. 
HEAD / HTTP/1.0

HTTP/1.1 200 OK 
Date: Sun, 16 Dec 2001 16:07:21 
GMT Server: Apache/2.0.28 (Unix) 
Last-Modified: Wed, 01 Aug 2001 21:34:42 GMT 
ETag: "3f02-a4d-b1b3e080" 
Accept-Ranges: bytes 
Content-Length: 2637 
Connection: close 
Content-Type: text/html; charset=ISO-8859-1

Connection closed by foreign host.
]]></screen><para>Wird ein Text wie &rdquo;cannot resolve hostname&rdquo; ausgegeben, dann unterstützt der Telnet Client keine IPv6 Adressen.</para></sect2><sect2>
<title>IPv6 kompatible ssh Client-Programme</title>
<sect3>
<title>openssh</title>
<para>Aktuelle openssh-Versionen sind IPv6 kompatibel. Abhängig von der Konfiguration vor der Kompilierung gibt es zwei unterschiedliche Verhaltensweisen:</para><itemizedlist>
<listitem><para>--without-ipv4-default: Der Client versucht zuerst eine IPv6-Verbindung. Misslingt dies, wird eine IPv4-Verbindung aufgebaut</para></listitem><listitem><para>--with-ipv4-default: standardmäßig wird eine IPv4-Verbindung aufgebaut. Eine IPv6-Verbindung muss, wie unten im Beispiel zu sehen ist, erzwungen werden:</para></listitem></itemizedlist><screen>
<![CDATA[$ ssh -6 ::1 
user@::1's password: ****** 
[user@ipv6host user]$
]]></screen><para>Falls ihr ssh Client-Programm die Option &rdquo;-6&rdquo; nicht kennt, dann ist das Programm nicht IPv6 fähig. Dies ist bei den meisten ssh Paketen der Version 1 der Fall.</para></sect3><sect3>
<title>ssh.com</title>
<para>SSH.com's SSH Client und Server sind ebenfalls IPv6 kompatibel und darüber hinaus handelt es sich um freie Programme für die Linux- und FreeBSD-Plattform, unabhängig davon, ob sie zu kommerziellem oder zu persönlichen Zweck verwendet werden.</para></sect3></sect2><sect2>
<title>IPv6 kompatible Web-Browser</title>
<para>Einen aktuellen Statusüberblick zum Thema IPv6 kompatible Web-Browser ist unter <ulink url="http://www.deepspace6.net/docs/ipv6_status_page_apps.html#http">Current Status of IPv6 Support for Networking Applications - HTTP</ulink> verfügbar.</para>
<para>Die meisten Browser haben zurzeit noch ungelöste Probleme</para><orderedlist>
<listitem><para>Ist ein IPv4 Proxy in den Einstellungen eingetragen, dann werden IPv6 Anfragen zum Proxy gesendet. Der Proxy kann keine IPv6 Anfragen verstehen und somit scheitert die Anfrage. Lösung: Proxy Software aktualisieren (siehe weiter unten).</para></listitem><listitem><para>Automatik-Einstellungen des Proxy (*.pac) können aufgrund ihrer Beschaffenheit nicht derart erweitert werden, dass sie IPv6 Anfragen anders handhaben (z.B. kein Proxy verwenden) können (Sie sind in Javaskript geschrieben und ziemlich hard coded in den Quellen verankert; z.B. Mozilla Quellcode).</para></listitem></orderedlist><para>Ältere Browser-Versionen verstehen ebenfalls keine URL mit IPv6 Adressen wie z.B. <ulink url="http://[2a01:238:4281:8600:812a:5915:8d24:58f3]/">http://[2a01:238:4281:8600:812a:5915:8d24:58f3]/</ulink>, IPv6-Addresse von <ulink url="http://www.ipv6.bieringer.de/">http://www.ipv6.bieringer.de/</ulink> (die angegebene URL funktioniert nur mit einem IPv6 kompatiblen Browser!).</para>
<para>Ein kleiner Test ist diese URL mit einem gegebenen Browser und ohne Proxy zu verwenden.</para><sect3>
<title>URLs zum testen</title>
<para>Ein guter Ausgangspunkt zum Betrachten von Webseiten mit IPv6 ist <ulink url="http://www.kame.net/">http://www.kame.net/</ulink>. Ist die Schildkröte animiert, dann ist Verbindung mittels IPv6 Verbindung zustande gekommen, andererseits bleibt die Schildkröte statisch.</para>
<para>Andere Test-Server sind z.B.</para><itemizedlist>
<listitem><para><ulink url="http://ip.bieringer.de/">ip.bieringer.de</ulink></para></listitem><listitem><para><ulink url="http://ipv6-test.com/">IPv6 Test</ulink></para></listitem><listitem><para><ulink url="http://test-ipv6.com/">test-ipv6.com</ulink></para></listitem></itemizedlist></sect3></sect2></sect1><sect1>
<title>IPv6 kompatible Server</title>
<para>In diesem Teil des HOWTOs wird stärker auf Client-spezifische Belange eingegangen. Folglich sei zu IPv6 kompatiblen Servern wie sshd, httpd, telnetd usw. auf diese Stelle verwiesen: <link linkend="chapter-hints-daemons">Hints for IPv6-enabled daemons</link>.</para></sect1><sect1 id='faq-ipv6-ready-system-check' >
<title><!-- anchor id="faq-ipv6-ready-system-check" -->FAQ (IPv6 Systemcheck)</title>
<sect2>
<title>Anwendung diverser Tools</title>
<sect3>
<title>Q: ping6 zu einer link-lokalen Adresse funktioniert nicht</title>
<para>Fehlermeldung: "<emphasis>connect: Invalid argument</emphasis>"</para>
<para>Der Kernel hat keine Kenntnis darüber, welchen physikalischen oder virtuellen Link Sie zum versenden von ICMPv6 Paketen verwenden möchten. Aus diesem Grund wird die Fehlermeldung ausgegeben.</para>
<para>Lösung: Spezifizieren Sie den Link, z.B.: &rdquo;ping6 -I eth0 fe80::2e0:18ff:fe90:9205&rdquo;. Siehe auch <link linkend="program-ping6.">program ping6 usage</link>.</para></sect3><sect3>
<title>Q: ping6 oder traceroute6 funktioniert nicht als normaler Benutzer</title>
<para>Fehlermeldung: &rdquo;<emphasis>icmp socket: Operation not permitted</emphasis>&rdquo;</para>
<para>Diese Tools erzeugen spezielle ICMPv6 Pakete und versenden diese unter Verwendung von raw sockets im Kernel. Raw sockets können aber nur vom Benutzer &rdquo;root&rdquo; verwendet werden. Normale Benutzer bekommen aus diesem Grund diese Fehlermeldung.
</para>
<para>Lösung: Wenn wirklich alle Benutzer auf diese Tools zugreifen sollen, können Sie dies mit setzen des &rdquo;suid&rdquo; bits mittels &rdquo;chmod u+s / path/to/program&rdquo; erreichen (siehe auch <link linkend="program-ping6.">program ping6 usage</link>). Falls nicht alle Benutzer das Programm benötigen, können Sie die Gruppenzugehörigkeit des Programms ändern, z.B. Gruppe &rdquo;wheel&rdquo;. Fügen Sie alle Benutzer zu dieser Gruppe hinzu und entfernen Sie das execution bit für andere Benutzer mittels &rdquo;chmod o-rwx /path/to/program&rdquo;. Alternativ können Sie auch &rdquo;sudo&rdquo; dazu verwenden, um Ihren Sicherheitsbestimmungen Rechnung zu tragen.</para></sect3></sect2></sect1></chapter><chapter id='chapter-configuration-interface' >
<title><!-- anchor id="chapter-configuration-interface" -->Interface-Konfiguration</title>
<sect1>
<title>Unterschiedliche Netzwerk-Geräte</title>
<para>Ein Knoten besitzt mehrere Netzwerk-Devices, die in Klassen zusammengefasst werden können:</para><itemizedlist>
<listitem><para>Physikalische Devices wie eth0, tr0</para></listitem><listitem><para>Virtuelle Devices wie ppp0, tun0, tap0, sit0, isdn0, ippp0</para></listitem></itemizedlist><sect2>
<title>Physikalische Devices</title>
<para>Physikalische Interfaces wie Ethernet oder Token-Ring bedürfen keiner speziellen Handhabung.</para></sect2><sect2>
<title>Virtuelle Devices</title>
<para>Virtuelle Interfaces hingegen benötigen immer eine spezielle Konfiguration.</para><sect3>
<title>IPv6-in-IPv4 Tunnel Interfaces</title>
<para>Diese Interfaces werden sitx genannt. Der Name sit ist eine Abkürzung für Simple Internet Transition. Das Gerät hat die Fähigkeit IPv6 Pakete in IPv4 Pakete zu verkapseln und diese dann über einen Tunnel zum entfernten Endpunkt zu transportieren.</para>
<para>sit0 hat eine spezielle Bedeutung: dieses Interface kann nicht für fest zugeordnete Tunnel verwendet werden.</para></sect3><sect3>
<title>PPP Interfaces</title>
<para>PPP Interfaces beziehen ihre IPv6 Funktionalität von einem IPv6 kompatiblen PPP Daemon.</para></sect3><sect3>
<title>ISDN HDLC Interfaces</title>
<para>Für HDLC mit IP encapsulation ist die IPv6 Funktionalität bereits im Kernel integriert.</para></sect3><sect3>
<title>ISDN PPP Interfaces </title>
<para>ISDN PPP Interfaces (ippp) werden durch den Kernel nicht mit IPv6 Funktionalität unterstützt. Es gibt auch keine Pläne hierfür, da im Kernel 2.5.+ dieser Interface-Typ durch eine allgemeinere ppp Interface Schicht ersetzt werden soll.</para></sect3><sect3>
<title>SLIP + PLIP</title>
<para>Wie bereits erwähnt, unterstützen diese Interfaces keinen IPv6 Transport (senden ist ok, das abfertigen ankommender Pakete funktioniert jedoch nicht).</para></sect3><sect3>
<title>Ether-tap Device</title>
<para>Ether-tap Devices sind IPv6 kompatibel und als stateless konfiguriert. Für den Gebrauch muss das Modul &rdquo;ethertap&rdquo; geladen werden.</para></sect3><sect3>
<title>tun Device</title>
<para>Nicht von mir getestet...</para></sect3><sect3>
<title>ATM</title>
<para>01/2002: ATM wird vom Standard-Kernel nicht, jedoch aber durch die USAGI-Erweiterungen unterstützt.</para></sect3><sect3>
<title>Sonstige</title>
<para>Wurde ein Interface vergessen...?</para></sect3></sect2></sect1><sect1>
<title>Interfaces ein/aus-schalten</title>
<para>Es gibt zwei Methoden, ein Interface ein- oder auszuschalten.</para><sect2>
<title>Verwendung von "ip"</title>
<para>Gebrauch: </para><screen>
<![CDATA[# ip link set dev <interface> up
# ip link set dev <interface> down
]]></screen><para>Beispiel:</para><screen>
<![CDATA[
# ip link set dev eth0 up
# ip link set dev eth0 down
]]></screen></sect2><sect2>
<title>Verwendung von "ifconfig"</title>
<para>Gebrauch: </para><screen>
<![CDATA[# /sbin/ifconfig <interface> up
# /sbin/ifconfig <interface> down
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/ifconfig eth0 up
# /sbin/ifconfig eth0 down
]]></screen></sect2></sect1></chapter><chapter id='chapter-configuration-address' >
<title><!-- anchor id="chapter-configuration-address" -->IPv6 Adressen konfigurieren</title>
<para>Es gibt verschiedene Methoden zum konfigurieren einer IPv6 Adresse eines Interfaces. Sie können "ifconfig" oder "ip" dazu einsetzen.</para><sect1>
<title>Bestehende IPv6 Adressen anzeigen</title>
<para>Zuerst sollten sie überprüfen, ob und welche IPv6 Adressen bereits konfiguriert sind (etwa durch automatischer stateless Konfiguration). </para>
<para>Achtung: Adressen beginnend mit &rdquo;fec0&rdquo; sind obsolet, hier aber noch der Vollständigheit wegen gezeigt!</para><sect2>
<title>Verwendung von "ip"</title>
<para>Anwendung:</para><screen>
<![CDATA[# /sbin/ip -6 addr show dev <interface>
]]></screen><para>Beispiel für einen statisch konfigurierten Host:</para><screen>
<![CDATA[# /sbin/ip -6 addr show dev eth0
2: eth0: <BROADCAST,MULTICAST,UP&gt; mtu 1500 qdisc pfifo_ fast qlen 100
inet6 fe80::210:a4ff:fee3:9566/10 scope link
inet6 2001:0db8:0:f101::1/64 scope global
inet6 fec0:0:0:f101::1/64 scope site 
]]></screen><para>Just note that addresses beginning with &rdquo;fec0&rdquo; are deprecated!</para>
<para>Beispiel für einen automatisch konfigurierten Host.</para>
<para>Hier sehen Sie einige automatisch konfigurierte IP Adressen und deren Lebensdauer.</para><screen>
<![CDATA[# /sbin/ip -6 addr show dev eth0 
3: eth0: <BROADCAST,MULTICAST,PROMISC,UP&gt; mtu 1500 qdisc pfifo_fast qlen
¬ 100 
inet6 2002:d950:f5f8:f101:2e0:18ff:fe90:9205/64 scope global dynamic 
valid_lft 16sec preferred_lft 6sec 
inet6 3ffe:400:100:f101:2e0:18ff:fe90:9205/64 scope global dynamic 
valid_lft 2591997sec preferred_lft 604797sec inet6 fe80::2e0:18ff:fe90:9205/10
¬ scope link
]]></screen></sect2><sect2>
<title>Verwendung von "ifconfig"</title>
<para>Anwendung:</para><screen>
<![CDATA[# /sbin/ifconfig <interface>
]]></screen><para>Hier sehen Sie verschiedene IP Adressen mit unterschiedlichen Gültigkeitsbereichen (die Ausgabe wurde mit grep gefiltert)</para><screen>
<![CDATA[# /sbin/ifconfig eth0 |grep "inet6 addr:"
inet6 addr: fe80::210:a4ff:fee3:9566/10 Scope:Link
inet6 addr: 2001:0db8:0:f101::1/64 Scope:Global
inet6 addr: fec0:0:0:f101::1/64 Scope:Site
]]></screen></sect2></sect1><sect1>
<title>Hinzufügen einer IPv6 Adresse</title>
<para>Die Vorgehensweise beim hinzufügen einer IPv6 Adresse ist vergleichbar mit dem "IP ALIAS"-Mechanismus bei IPv4 adressierten Interfaces. </para><sect2>
<title>Verwendung von "ip"</title>
<para>Anwendung: </para><screen>
<![CDATA[# /sbin/ip -6 addr add <ipv6address>/<prefixlength> dev <interface> 
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/ip -6 addr add 2001:0db8:0:f101::1/64 dev eth0 
]]></screen></sect2><sect2>
<title>Verwendung von "ifconfig"</title>
<para>Anwendung: </para><screen>
<![CDATA[# /sbin/ifconfig <interface> inet6 add <ipv6address>/<prefixlength>
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/ifconfig eth0 inet6 add 2001:0db8:0:f101::1/64 
]]></screen></sect2></sect1><sect1>
<title>IPv6 Adressen entfernen</title>
<para>Diese Funktion wird selten benötigt. Vorsicht ist beim entfernen nicht existenter IPv6 Adressen geboten, da ältere Kernel dieses Fehlverhalten manchmal mit einem Crash quittieren.</para><sect2>
<title>Verwendung von "ip"</title>
<para>Anwendung: </para><screen>
<![CDATA[# /sbin/ip -6 addr del <ipv6address>/<prefixlength> dev <interface> 
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/ip -6 addr del 2001:0db8:0:f101::1/64 dev eth0 
]]></screen></sect2><sect2>
<title>Verwendung von "ifconfig"</title>
<para>Anwendung:</para><screen>
<![CDATA[# /sbin/ifconfig <interface> inet6 del <ipv6address>/<prefixlength>
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/ifconfig eth0 inet6 del 2001:0db8:0:f101::1/64
]]></screen></sect2></sect1><sect1>
<title>Automatische IPv6-Adress-Konfiguration</title>
<para>Im Fall, dass ein Endgerät ein Router Advertisement empfängt und der Host kein Router ist, konfiguriert sich das Endgerät selbst eine IPv6-Adresse entsprechend dem Präfix aus dem Router Advertisement (siehe auch <xref linkend="hints-daemons-radvd">).</para></sect1><sect1>
<title>Aktivieren der Privacy Extension</title>
<para>Privacy Extension wie beschrieben in <ulink url="http://www.faqs.org/rfcs/rfc4941.html">RFC 4941 / Privacy Extensions for Stateless Address Autoconfiguration in IPv6</ulink> (Nachfolger von <ulink url="http://www.faqs.org/rfcs/rfc3041.html">RFC 3041</ulink>) ersetzt die statische Interface ID (mostly basierend auf der weltweit eindeutigen MAC-Adresse), die bei der Autokonfiguration benutzt wird, durch eine pseudo-random und von Zeit zu Zeit neu generierte.</para><sect2>
<title>Aktivieren von Privacy Extension mit Hilfe von sysctl</title>
<bridgehead renderas="sect2">Temporäre Aktivierung</bridgehead>
<para>Einschalten der Privacy Extension für z.B. Interface &rdquo;eth0&rdquo; und zudem Präferieren dieser Adresse:</para><screen>
<![CDATA[# sysctl -w net.ipv6.conf.eth0.use_tempaddr=2
]]></screen><para>Zur Aktivierung ist der Restart des Interfaces notwendig</para><screen>
<![CDATA[# ip link set dev eth0 down
# ip link set dev eth0 up
]]></screen><para>Nach Empfang eines Router Advertisement sollte das Interface eine entsprechende Adresse sich selbst konfiguriert haben</para><screen>
<![CDATA[# ip -6 addr show dev eth0
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qlen 1000
    inet6 2001:db8:0:1:8992:3c03:d6e2:ed72/64 scope global secondary dynamic   <- pseudo-random IID
       valid_lft 604711sec preferred_lft 86311sec
    inet6 2001:db8:0:1::224:21ff:fe01:2345/64 scope global     <- IID based on MAC
       valid_lft 604711sec preferred_lft 86311sec
    ...
]]></screen><bridgehead renderas="sect2">Permanente Aktivierung</bridgehead>
<para>Für eine permanente Aktivierung muss entweder ein spezieller Initscript-Wert pro Interface gesetzt sein oder ein entsprechender Wert in /etc/sysctl.conf definiert werden:</para><screen>
<![CDATA[net.ipv6.conf.eth0.use_tempaddr=2
]]></screen><para>Achtung: das Interface muss zu diesem Zeitpunkt bereits existieren. Wenn das nicht der Fall ist (z.B. nach einem Reboot) musses für alle Interfaces konfiguriert werden:</para><screen>
<![CDATA[net.ipv6.conf.all.use_tempaddr=2
net.ipv6.conf.default.use_tempaddr=2
]]></screen><para>Die Änderungen in /etc/sysctl.conf können im laufenden Betrieb geändert werden, aber zur wirklichen Aktivierung wird mindestens wird ein Interface-Restart (down/up) oder ein Reboot benötigt.</para><screen>
<![CDATA[# sysctl -p
]]></screen></sect2><sect2>
<title>Aktivieren von Privacy Extension mit Hilfe des NetworkManager</title>
<para>Moderne (Client-) Systeme nutzen NetworkManager zur Interface-Konfiguration. Ein Kommandozeilen-Werkzeug ist eingebaut welches auch Parameter ändern kann, die in der GUI nicht verfügbar (oder sichtbar) sind.</para>
<para>Beispiele basieren auf Version 0.9.9.1-5.git20140319.fc21</para>
<para>Prüfen existierender Interfaces mit:</para><screen>
<![CDATA[# nmcli connection 
NAME UUID TYPE DEVICE
ens4v1 d0fc2b2e-5fa0-4675-96b5-b723ca5c46db 802-3-ethernet ens4v1 
]]></screen><para>Menge von IPv6-Adressen mit Privacy Extension:</para><screen>
<![CDATA[# ip -o addr show dev ens4v1 | grep temporary | wc -l
0
]]></screen><para>Aktuelle Einstellung der IPv6 Privacy Extension für ein Interface:</para><screen>
<![CDATA[# nmcli connection show ens4v1 |grep ip6-privacy
ipv6.ip6-privacy: -1 (unknown)
]]></screen><para>Aktivieren der IPv6 Privacy Extension und Restart des Interfaces;</para><screen>
<![CDATA[# nmcli connection modify ens4v1 ipv6.ip6-privacy 2
# nmcli connection down ens4v1; nmcli connection up ens4v1
]]></screen><para>Neuer Wert der IPv6 Privacy Extension prüfen:</para><screen>
<![CDATA[# nmcli connection show ens4v1 |grep ip6-privacy
ipv6.ip6-privacy: 2 (active, prefer temporary IP)
]]></screen><para>Nun sollten auch IPv6 Privacy Extension Adressen automatisch konfiguriert sein</para><screen>
<![CDATA[# ip -o addr show dev ens4v1 | grep temporary | wc -l
2
]]></screen></sect2><sect2>
<title>Test zur Benutzung von Privacy Extension IPv6-Adressen</title>
<para>Ob die IPv6-Adresss mit einer durch die Privacy Extension generierte Interface ID für ausgehende Verbindungen wirklich benutzt wird, kann z.B. mit Hilfe eines Web-Browers durch Aufruf von <ulink url="http://ip.bieringer.de/">http://ip.bieringer.de/</ulink> durchgeführt werden. Wenn EUI64_SCOPE als Ausgabe &rdquo;iid-privacy&rdquo; zeigt, dann funktioniert alles richtig.</para></sect2></sect1></chapter><chapter id='chapter-configuration-route' >
<title><!-- anchor id="chapter-configuration-route" -->Konfiguration normaler IPv6-Routen</title>
<para>Wenn Sie Ihren lokalen Link verlassen und Pakete in das weltweite IPv6-Internet versenden wollen, dann benötigen Sie Routing. Wenn sich bereits ein IPv6 fähiger Router an Ihrem Link befindet, dann reicht eventuell das Hinzufügen von IPv6 Routen.</para>
<para>Achtung: Adressen beginnend mit &rdquo;fec0&rdquo; sind obsolet, hier aber noch der Vollständigheit wegen gezeigt!</para><sect1>
<title>Bestehende IPv6-Routen anzeigen</title>
<para>Zuerst sollten sie überprüfen, ob und welche IPv6 Adressen bereits konfiguriert sind (etwa durch automatischer Konfiguration).</para><sect2>
<title>Verwendung von "ip"</title>
<para>Anwendung:</para><screen>
<![CDATA[# /sbin/ip -6 route show [dev <device>]
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/ip -6 route show dev eth0
2001:0db8:0:f101::/64 proto kernel metric 256 mtu 1500 advmss 1440
fe80::/10             proto kernel metric 256 mtu 1500 advmss 1440
ff00::/8              proto kernel metric 256 mtu 1500 advmss 1440
default               proto kernel metric 256 mtu 1500 advmss 1440
]]></screen></sect2><sect2>
<title>Verwendung von "route"</title>
<para>Anwendung: </para><screen>
<![CDATA[# /sbin/route -A inet6 
]]></screen><para>Sie sehen hier mehrere IPv6 Routen mit unterschiedlichen Adressen eines einzelnen Interfaces (bei der Ausgabe wurde das Interface eth0 herausgefiltert).</para><screen>
<![CDATA[# /sbin/route -A inet6 |grep -w "eth0"
2001:0db8:0:f101 ::/64 :: UA  256 0 0 eth0 <- Interface route for global
¬ address
fe80::/10        ::       UA  256 0 0 eth0 <- Interface route for link-local
¬ address
ff00::/8         ::       UA  256 0 0 eth0 <- Interface route for all multicast
¬ addresses
::/0             ::       UDA 256 0 0 eth0 <- Automatic default route
]]></screen></sect2></sect1><sect1>
<title>Eine IPv6-Route über ein Gateway hinzufügen</title>
<para>Eine Route wird meistens benötigt, um mit IPv6 die Außenwelt über einen IPv6 fähigen Router und über Ihren Link zu erreichen.</para><sect2>
<title>Verwendung von "ip"</title>
<para>Anwendung:</para><screen>
<![CDATA[# /sbin/ip -6 route add <ipv6network>/<prefixlength> via <ipv6address>
¬ [dev <device>]
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/ip -6 route add default via 2001:0db8:0:f101::1
]]></screen></sect2><sect2>
<title>Verwendung von "route"</title>
<para>Anwendung: </para><screen>
<![CDATA[# /sbin/route -A inet6 add <ipv6network>/<prefixlength> gw
¬ <ipv6address> [dev <device>] 
]]></screen><para>Die optionale Angabe eines Devices wird dann benötigt, wenn die IPv6 Adresse des Gateways eine lokale Link-Adresse ist.</para>
<para>Im folgenden Beispiel wird eine Route für alle Adressen (default) über das Gateway 2001:0db8:0:f101::1 hinzugefügt.</para><screen>
<![CDATA[# /sbin/route -A inet6 add default gw 2001:0db8:0:f101::1
]]></screen></sect2></sect1><sect1>
<title>Eine IPv6-Route über ein Gateway entfernen</title>
<para>Das manuelle entfernen einer Route wird nicht oft benötigt, meistens wird dies automatisch durch Netzwerk-Konfigurationsscripts beim herunterfahren (des Betriebssystems oder eines Interfaces) bewirkt.</para><sect2>
<title>Verwendung von "ip"</title>
<para>Anwendung:</para><screen>
<![CDATA[# /sbin/ip -6 route del <ipv6network>/<prefixlength> via <ipv6address>
¬ [dev <device>]
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/ip -6 route del default via 2001:0db8:0:f101::1
]]></screen></sect2><sect2>
<title>Verwendung von "route"</title>
<para>Anwendung: </para><screen>
<![CDATA[# /sbin/route -A inet6 del <ipv6network>/<prefixlength> gw <ipv6address> [dev
¬ <device>]
]]></screen><para>Beispiel zum entfernen der im obigen Beispiel hinzugefügten Route:</para><screen>
<![CDATA[# /sbin/route -A inet6 del default gw 2001:0db8:0:f101::1
]]></screen></sect2></sect1><sect1>
<title>Eine IPv6-Route über ein Interface hinzufügen</title>
<para>Diese Funktion wird manchmal im Fall dedizierter Punkt-zu-Punkt Verbindungen verwendet, in der Regel aber eher selten benötigt.</para><sect2>
<title>Verwendung von "ip"</title>
<para>Anwendung:</para><screen>
<![CDATA[# /sbin/ip -6 route add <ipv6network>/<prefixlength> dev <device>
¬ metric 1
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/ip -6 route add default dev eth0 metric 1
]]></screen><para>Der Metrik-Wert &rdquo;1&rdquo; wird verwendet, um mit dem Metrik Wert von route kompatibel zu sein; der Standard-Metrik-Wert von &rdquo;ip&rdquo; ist &rdquo;1024&rdquo;.</para></sect2><sect2>
<title>Verwendung von "route"</title>
<para>Anwendung:</para><screen>
<![CDATA[# /sbin/route -A inet6 add <network>/<prefixlength> dev <device>
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/route -A inet6 add default dev eth0 
]]></screen></sect2></sect1><sect1>
<title>Eine IPv6-Route über ein Interface entfernen</title>
<para>Dies wird manuell nicht so oft benötigt, jedoch aber beim herunterfahren von Konfigurationsscripts benutzt.</para><sect2>
<title>Verwendung von "ip"</title>
<para>Anwendung:</para><screen>
<![CDATA[# /sbin/ip -6 route del <ipv6network>/<prefixlength> dev <device>
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/ip -6 route del default dev eth0 
]]></screen></sect2><sect2>
<title>Verwendung von "route"</title>
<para>Anwendung:</para><screen>
<![CDATA[# /sbin/route -A inet6 del <network>/<prefixlength> dev <device>
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/route -A inet6 del default dev eth0
]]></screen></sect2></sect1><sect1>
<title>FAQ für IPv6-Routen</title>
<sect2>
<title>Unterstützung einer IPv6 Default-Route</title>
<para>Ein Schwerpunkt bei IPv6 ist das hierarchische Routing. Aus diesem Grund werden in Routern nur wenige Routing-Einträge benötigt.</para>
<para>Einige Punkte sind im aktuellen Kernel zu beachten:</para><sect3>
<title>Clients (kein Routing eines Paketes!)</title>
<para>Ein client kann eine Default Route (z.B. &rdquo;::/0&rdquo; ) einrichten, diese aber auch durch automatische Konfiguration, z.B. mit radvd, erlernen:</para><screen>
<![CDATA[# ip -6 route show | grep ^default
default via fe80::212:34ff:fe12:3450 dev eth0 proto kernel metric 1024 expires
¬ 29sec mtu 1500 advmss 1440
]]></screen></sect3><sect3>
<title>Router &amp; Paketweiterleitung</title>
<para>Ältere Linux Kernel ( zumindest &lt;= 2.4.17) unterstützen keine Default Routen. Man kann dies einrichten, aber die Abfrage dieser Route misslingt im Fall, dass ein Paket weitergeleitet werden soll ( normaler Zwecke eines Routers).</para>
<para>Falls ein entsprechender Kernel noch verwendet wird, kann &rdquo;default routing&rdquo; eingerichtet werden, wenn hierbei das einzig globale Adress-Präfix &rdquo;2000::/3&rdquo; verwendet wird.</para>
<para>Anmerkung: Walten Sie mit Vorsicht bei der Anwendung von default routing auf exponierten Routern, wenn keine Adressfilterung eingesetzt wird. Andernfalls kann Multicast- oder lokaler Site-Datenverkehr den Router ungewollt verlassen.</para></sect3></sect2></sect1></chapter><chapter id='chapter-Neighbor-Discovery' >
<title><!-- anchor id="chapter-Neighbor-Discovery" -->Neighbor Discovery</title>
<para>Die Neighbor Discovery (Ermittlung der Netzwerkumgebung) ist der IPv6 Nachfolger für das ARP (Address Resolution Protocol) bei IPv4. Sie können Informationen über die aktuelle Netzwerkumgebung gewinnen, Einträge erstellen und entfernen.</para>
<para>Der Kernel merkt sich erfolgreich gelernte &rdquo;Nachbarn&rdquo; (wie ARP in IPv4). Sie können die gelernten Einträge mit &rdquo;ip&rdquo; einsehen.</para><sect1>
<title>Netzwerkumgebung mit &rdquo;ip&rdquo; anzeigen</title>
<para>Mit dem folgenden Befehl können Sie die gelernten oder konfigurierten IPv6 Nachbarn anzeigen:</para><screen>
<![CDATA[# ip -6 neigh show [dev <device>]
]]></screen><para>Das folgende Beispiel zeigt einen Nachbar, einen erreichbaren Router:</para><screen>
<![CDATA[# ip -6 neigh show
fe80::201:23ff:fe45:6789 dev eth0 lladdr 00:01:23:45:67:89 router nud reachable
]]></screen></sect1><sect1>
<title>Tabelle der Netzwerkumgebung mit &rdquo;ip&rdquo; editieren</title>
<sect2>
<title>Eintrag manuell hinzufügen</title>
<para>Mit folgendem Befehl können Sie einen Eintrag manuell hinzufügen:</para><screen>
<![CDATA[# ip -6 neigh add <IPv6 address> lladdr <link-layer address> dev <device>
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# ip -6 neigh add fec0::1 lladdr 02:01:02:03:04:05 dev eth0
]]></screen></sect2><sect2>
<title>Eintrag manuell entfernen</title>
<para>Sie können einen Eintrag auch löschen:</para><screen>
<![CDATA[# ip -6 neigh del <IPv6 address> lladdr <link-layer address> dev <device>
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# ip -6 neigh del fec0::1 lladdr 02:01:02:03:04:05 dev eth0
]]></screen></sect2><sect2>
<title>Erweiterte Einstellungen</title>
<para>Das Tool &rdquo;ip&rdquo; ist weniger ausführlich dokumentiert, dennoch ist es sehr mächtig. Sehen Sie online mit &rdquo;help&rdquo; für weitere Details:</para><screen>
<![CDATA[# ip -6 neigh help
Usage: ip neigh { add | del | change | replace } { ADDR [ lladdr LLADDR ] 
          [ nud { permanent | noarp | stale | reachable } ] 
          | proxy ADDR } [ dev DEV ] 
       ip neigh {show|flush} [ to PREFIX ] [ dev DEV ] [ nud STATE ]
]]></screen><para>Es sieht aus, als seien manche Optionen ausschließlich für IPv4 gedacht... Es wird um Ihre Mithilfe gebeten, wenn Sie Informationen zu Optionen und der erweiterten Anwendung beisteuern können.</para></sect2></sect1></chapter><chapter id='chapter-configuring-ipv6-in-ipv4-tunnels' >
<title><!-- anchor id="chapter-configuring-ipv6-in-ipv4-tunnels" -->Konfiguration eines IPv6-in-IPv4 Tunnels</title>
<para>Wenn zum Verlassen des lokalen Netzwerks keine native IPv6-Anbindung vorhanden ist, wird zum Erreichen des weltweiten IPv6 Internet ein IPv6-in-IPv4 Tunnel benötigt.</para>
<para>Es gibt unterschiedliche Tunnel-Mechanismen sowie einige Möglichkeiten zum Einrichten eines Tunnels.</para><sect1>
<title>Tunnelarten</title>
<para>Es steht Ihnen mehr als eine Möglichkeit zur Verfügung, IPv6 Pakete über ausschließliche IPv4 Links zu tunneln.</para><sect2>
<title>Statische Punkt-zu-Punkt Tunnel</title>
<para>Ein Punkt-zu-Punkt Tunnel ist ein dedizierter Tunnel zu einem Endpunkt, der Kenntnis über das lokale IPv6 Netzwerk (für das Routing zurück...) und die IPv4 Adresse des Tunnel-Endpunktes verfügt. Definition des Punkt-zu-Punkt Tunnels siehe: <ulink url="http://www.faqs.org/rfcs/rfc4213.html">RFC 4213 / Basic Transition Mechanisms for IPv6 Hosts and Routers</ulink>. Anforderungen:</para><itemizedlist>
<listitem><para>Die IPv4 Adresse des lokalen Tunnel-Endpunktes muss statisch sein, global eindeutig und vom entfernten Tunnel-Endpunkt aus erreichbar sein.
</para><itemizedlist>
<listitem><para>Wenn keine statische IPv4 Addresse verfügbar ist, muß der Tunnel-Provider die Authentifizerung der dynamischen IPv4 Addresse unterstützen, wie z.B. <ulink url="http://www.sixxs.net/">SixXS / AICCU</ulink> oder <ulink url="http://gogo6.com/">gogo6</ulink>.</para></listitem></itemizedlist></listitem><listitem><para>Sie müssen ein globales IPv6 Präfix zugewiesen bekommen haben.
</para><itemizedlist>
<listitem><para>Es ist auch möglich, daß zusätzliche IPv6 Netzwerke über diesen Tunnel geroutet werden.</para></listitem></itemizedlist></listitem><listitem><para>Ein entfernter Tunnel-Endpunkt muss dazu in der Lage sein, ihr IPv6 Präfix bis zu Ihrem lokalen Tunnel-Endpunkt zu routen (wobei meistens manuelle Konfiguration notwendig wird).</para></listitem></itemizedlist><para>Statische Tunnelprovider:</para><itemizedlist>
<listitem><para><ulink url="http://he.com/">Hurricane Electric</ulink></para></listitem><listitem><para><ulink url="http://www.sixxs.net/">SixXS</ulink></para></listitem></itemizedlist></sect2><sect2>
<title>Automatische Tunnel</title>
<para>Automatisches Tunneln tritt dann ein, wenn ein Knoten direkt einen anderen Knoten (dessen IPv4-Adresse er zuerst kennen lernen muss) über die IPv4-mapped IPv6-Adresse anspricht - dieser Mechanismus sollte nicht mehr unterstützt werden, weil er sehr unsicher ist.</para></sect2><sect2 id='tunneling-6to4.' >
<title><!-- anchor id="tunneling-6to4." -->6to4 Tunnel</title>
<para>6to4 Tunnel (<ulink url="http://www.faqs.org/rfcs/rfc3056.html">RFC 3056 / Connection of IPv6 Domains via IPv4 Clouds</ulink>) verwenden einen einfachen Mechanismus zum erstellen eines automatischen Tunnels. Jeder Knoten mit einer weltweit einmaligen IPv4 Adresse kann zu einem 6to4 Tunnel-Endpunkt gemacht werden (solange keine IPv4-Firewall den Verkehr unterbindet). Ein 6to4 Tunnel ist zumeist kein one-to-one Tunnel. In diesem Fall wird das Untertunneln in einen Upstream- und einen Downstream-Tunnel unterteilt. Ferner zeigt eine spezielle IPv6 Adresse an, dass der Knoten einen 6to4 Tunnel für die Verbindung zum weltweiten IPv6 Netzwerk verwendet.</para><sect3>
<title>Erstellen eines 6to4 Präfixes</title>
<para>Die 6to4 Adresse wird wie folgt definiert (Schema ist dem <ulink url="http://www.faqs.org/rfcs/rfc3056.html">RFC 3056 / Connection of IPv6 Domains via IPv4 Clouds</ulink> entnommen):</para><screen>
<![CDATA[|   3+13   |    32     |    16  |            64 bits             | 
+---+------+-----------+--------+--------------------------------+ 
|  FP+TLA  |  V4ADDR   | SLA ID |           Interface ID         | 
|  0x2002  |           |        |                                | 
+---+------+-----------+--------+--------------------------------+
]]></screen><para>FP und TLA zusammen haben den Wert 0x2002. V4ADDR ist die weltweit einmalige IPv4 Adresse des Knoten (in hexadezimaler Notation). Mit dem SLA wird das Subnetz identifiziert (65536 lokale Subnetze sind möglich) und benutzbar, um die lokale Netzwerstruktur abzubilden.</para>
<para>Für Gateways wird dieser Präfix normalerweise mit dem SLA &rdquo;0000&rdquo; definiert und dem 6to4 Tunnel-Interface das Suffix &rdquo;::1&rdquo; (kann aber auch ein beliebiger mit local-scope sein) zugewiesen. Zu bemerken ist, dass Microsoft Windows als Suffix auch immer die V4ADDR einsetzt.</para></sect3><sect3>
<title>6to4 Tunnel zum Upstream</title>
<para>Der Knoten muss die Kenntnis darüber haben, an welchen entfernten Tunnel-Endpunkt die in IPv4 Paketen eingeschlossenen IPv6 Pakete gesendet werden sollen. In den &rdquo;Anfängen&rdquo; der 6to4 Tunnel-Anwendung wurden dedizierte Upstream akzeptierende Router definiert. Liste der Router siehe: <ulink url="http://www.kfu.com/~nsayer/6to4/">NSayer's 6to4 information</ulink>.</para>
<para>Heute können Upstream Router automatisch mittels der anycast Adresse 192.88.99.1 gefunden werden. Routing Protokolle sind für die Verarbeitung im Hintergrund zuständig, siehe <ulink url="http://www.faqs.org/rfcs/rfc3068.html">RFC 3068 / An Anycast Prefix for 6to4 Relay Routers</ulink> für weitere Details.</para></sect3><sect3>
<title>6to4 Tunnel zum Downstream</title>
<para>Der Downstream (6bone -&gt; Ihr 6to4 fähiger Node) ist nicht wirklich fix, er kann von jenem Host variieren, an dem ursprünglich die Pakete gesendet wurden. Es gibt zwei Möglichkeiten:</para><itemizedlist>
<listitem><para>Der entfernte Host benutzt 6to4 und sendet die Pakete direkt an den lokalen Knoten zurück (siehe unten).</para></listitem><listitem><para>Der entfernte Host sendet die Pakete zurück an das weltweite IPv6 Netzwerk, und abhängig vom dynamischen Routing, erstellt dann ein Relay-Router eines ISPs, der 2002::/16 via BGP kundgibt, automatisch zum lokalen Knoten einen Tunnel.</para></listitem></itemizedlist></sect3><sect3>
<title>Möglicher 6to4 Verkehr</title>
<itemizedlist>
<listitem><para>Vom 6to4 zum 6to4: der Tunnel entsteht normalerweise direkt zwischen den beiden 6to4 fähigen Hosts.</para></listitem><listitem><para>Vom 6to4 zum non-6to4: Der Datenstrom wird mittels Upstream-Tunnel versendet.</para></listitem><listitem><para>Vom non-6to4 zum 6to4: Der Datenstrom wird mittels Downstream-Tunnel versendet.</para></listitem></itemizedlist><para>Achtung, durch das mögliche asymmetrische Routing können Probleme mit defekten 6to4-Relays schwer zu diagnostizieren sein.</para></sect3></sect2><sect2>
<title>UDP gekapselte IPv6 Tunnels</title>
<para>UDP gekapseltes IPv6 Tunneling wird üblicherweise benutzt, wenn am internen Endpunkt keine globale IPv4 Addresse verfügbar ist, aber via Network Adress Translation (NAT) noch entsprechende Endpunkte im Internet mit Hilfe unten beschriebener UDP Ports erreichbar sind.</para><sect3>
<title>Teredo Tunnel</title>
<para><ulink url="http://www.faqs.org/rfcs/rfc4380.html">RFC 4380 / Teredo: Tunneling IPv6 over UDP through Network Address Translations</ulink>beschreibt das Tunneln von IPv6 Pakete über IPv4 UDP Pakete (Bubbles), siehe auch <ulink url="http://de.wikipedia.org/wiki/Teredo">Wikipedia / Teredo</ulink>. Üblicherweise benutzt es 3544/udp. Der Client für Linux heißt <ulink url="http://www.remlab.net/miredo/">miredo</ulink> und ist benutzbar ohne große Konfiguration. Über diese Tunnelmethode kann nur ein einzelner Client an das globale IPv6-Netzwerk angeschlossen werden.</para></sect3><sect3>
<title>AYIYA Tunnel</title>
<para>Tunnel provider <ulink url="http://www.sixxs.net/">SixXS</ulink> bietet auch einen IPv6-in-UDP-in-IPv4 (5072/udp) Tunnel an, zur Nutzung muss der Modus AYIYA aktiviert werden.</para></sect3><sect3>
<title>gogo6 Tunnel</title>
<para>Tunnel provider <ulink url="http://gogo6.com/">gogo6</ulink> bietet auch einen IPv6-in-UDP-in-IPv4 (3653/udp) Tunnel an, zur Nutzung muss der Modus v6udpv4 aktiviert werden.</para></sect3></sect2></sect1><sect1>
<title>Bestehende Tunnel anzeigen</title>
<sect2>
<title>Verwendung von "ip"</title>
<para>Anwendung:</para><screen>
<![CDATA[# /sbin/ip -6 tunnel show [<device>]
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/ip -6 tunnel show 
sit0: ipv6/ip remote any local any ttl 64 nopmtudisc 
sit1: ipv6/ip remote 195.226.187.50 local any ttl 64
]]></screen></sect2><sect2>
<title>Verwendung von "route"</title>
<para>Anwendung:</para><screen>
<![CDATA[# /sbin/route -A inet6 
]]></screen><para>Beispiel (Ausgabe wurde derart gefiltert, dass nur Tunnels über das virtuelle Interface sit0 angezeigt werden):</para><screen>
<![CDATA[# /sbin/route -A inet6 | grep "\Wsit0\W*$" 
::/96      ::               U   256  2  0  sit0 
2002::/16  ::               UA  256  0  0  sit0 
2000::/3   ::193.113.58.75  UG    1  0  0  sit0 
fe80::/10  ::               UA  256  0  0  sit0 
ff00::/8   ::               UA  256  0  0  sit0
]]></screen></sect2></sect1><sect1 id='conf-ipv6-in-ipv4-point-to-point-tunnels' >
<title><!-- anchor id="conf-ipv6-in-ipv4-point-to-point-tunnels" -->Einrichtung eines Punkt-zu-Punkt Tunnels</title>
<para>Es gibt drei Methoden ein Punkt-zu-Punkt Tunnel hinzuzufügen bzw. zu entfernen.</para>
<para>Eine gute Informationsquelle zum Thema Tunnel-Einrichtung mit &rdquo;ip&rdquo; ist folgender Artikel: <ulink url="http://www.deepspace6.net/docs/iproute2tunnel-en.html">Configuring tunnels with iproute2 (article)</ulink> (<ulink url="http://mirrors.bieringer.de/www.deepspace6.net/docs/iproute2tunnel-en.html">Spiegel</ulink>).</para>
<para>Achtung: solche Tunnels werden durch das Kernel-Modul &rdquo;sit&rdquo; unterstützt (potentiell nicht verfügbar auf Virtuozzo-Plattformen)</para><sect2>
<title>Einen Punkt-zu-Punkt Tunnel hinzufügen</title>
<sect3>
<title>Verwendung von "ip"</title>
<para>Bei einer kleinen Anzahl von Tunnels ist die Verwendung von &rdquo;ip&rdquo; zurzeit die Standardmethode.</para>
<para>Beispiel für das Erstellen eines Tunnel-Devices (das Device wird aber hiermit nicht aktiviert; ebenso muss ein TTL Wert spezifiziert werden, da der Standardwert 0 ist):</para><screen>
<![CDATA[# /sbin/ip tunnel add <device> mode sit ttl <ttldefault> remote
¬ <ipv4addressofforeigntunnel> local <ipv4addresslocal>
]]></screen><para>Anwendung (drei allgemeine Beispiele):</para><screen>
<![CDATA[# /sbin/ip tunnel add sit1 mode sit ttl <ttldefault> remote
¬ <ipv4addressofforeigntunnel1> local <ipv4addresslocal>
# /sbin/ip link set dev sit1 up
# /sbin/ip -6 route add <prefixtoroute1> dev sit1 metric 1

# /sbin/ip tunnel add sit2 mode sit ttl <ttldefault>
¬ <ipv4addressofforeigntunnel2> local <ipv4addresslocal>
# /sbin/ip link set dev sit2 up
# /sbin/ip -6 route add <prefixtoroute2> dev sit2 metric 1

# /sbin/ip tunnel add sit3 mode sit ttl <ttldefault>
¬ <ipv4addressofforeigntunnel3> local <ipv4addresslocal>
# /sbin/ip link set dev sit3 up
# /sbin/ip -6 route add <prefixtoroute3> dev sit3 metric 1
]]></screen></sect3><sect3>
<title>Verwendung von "ifconfig" und "route" (nicht empfehlenswert)</title>
<para>Diese Methode zum Hinzufügen eines Tunnels wird nicht empfohlen, da Ungereimtheiten auftreten. Es gibt keine Probleme, wenn nur ein Tunnel hinzugefügt wird. Werden hingegen mehrere Tunnel hinzugefügt, dann kann der erste Tunnel nicht einfach deaktiviert werden, wenn die restlichen Tunnel aktiviert bleiben sollen.</para>
<para>Anwendung (drei allgemeine Beispiele):</para><screen>
<![CDATA[# /sbin/ifconfig sit0 up

# /sbin/ifconfig sit0 tunnel <ipv4addressofforeigntunnel1>
# /sbin/ifconfig sit1 up
# /sbin/route -A inet6 add <prefixtoroute1> dev sit1

# /sbin/ifconfig sit0 tunnel <ipv4addressofforeigntunnel2>
# /sbin/ifconfig sit2 up
# /sbin/route -A inet6 add <prefixtoroute2> dev sit2

# /sbin/ifconfig sit0 tunnel <ipv4addressofforeigntunnel3>
# /sbin/ifconfig sit3 up
# /sbin/route -A inet6 add <prefixtoroute3> dev sit3
]]></screen><para>WICHTIG: NICHT VERWENDEN! Mit diesem Setup wird von überall aus dem Internet das "automatische Tunneln" vorbehaltlos aktiviert. Das ist ein unnötiges Risiko.</para></sect3><sect3>
<title>Verwendung allein von "route"</title>
<para>Sie können einen Tunnel auch im NBMA-Stil (Non Broadcast Multiple Access) einrichten. Bei dieser Vorgehensweise können Sie sehr einfach mehrere Tunnels zugleich einrichten, aber kein Tunnel kann nummeriert werden (und das ist ein kein benötigtes Feature). </para>
<para>Anwendung (drei allgemeine Beispiele):</para><screen>
<![CDATA[# /sbin/ifconfig sit0 up

# /sbin/route -A inet6 add <prefixtoroute1> gw
¬ ::<ipv4addressofforeigntunnel1> dev sit0
# /sbin/route -A inet6 add <prefixtoroute2> gw
¬ ::<ipv4addressofforeigntunnel2> dev sit0
# /sbin/route -A inet6 add <prefixtoroute3> gw
¬ ::<ipv4addressofforeigntunnel3> dev sit0
]]></screen><para>WICHTIG: NICHT VERWENDEN! Mit diesem Setup wird von überall aus dem Internet das "automatische Tunneln" vorbehaltlos aktiviert. Das ist ein unnötiges Risiko.</para></sect3></sect2><sect2>
<title>Punkt-zu-Punkt Tunnel entfernen</title>
<para>Diese Funktion wird selten manuell durchgeführt. Skripte verwenden diese Funktion zum sauberen deaktivieren bzw. beim Neustart einer IPv6 Konfiguration.</para><sect3>
<title>Verwendung von "ip"</title>
<para>Entfernen eines Tunnel-Devices:</para><screen>
<![CDATA[# /sbin/ip tunnel del <device>
]]></screen><para>Anwendung (drei allgemeine Beispiele):</para><screen>
<![CDATA[# /sbin/ip -6 route del <prefixtoroute1> dev sit1
# /sbin/ip link set sit1 down
# /sbin/ip tunnel del sit1

# /sbin/ip -6 route del <prefixtoroute2> dev sit2
# /sbin/ip link set sit2 down
# /sbin/ip tunnel del sit2

# /sbin/ip -6 route del <prefixtoroute3> dev sit3
# /sbin/ip link set sit3 down
# /sbin/ip tunnel del sit3
]]></screen></sect3><sect3>
<title>Verwendung von "ifconfig" und "route" (nicht empfehlenswert, da unbequem)</title>
<para>Nicht nur bei der Erstellung eines Tunnels kommt es zu Ungereimtheiten, sondern auch bei dessen Entfernung. Die Tunnel müssen in umgekehrter Reihenfolge wieder entfernt werden, d.h. der zuletzt erstellte Tunnel muss als Erster entfernt werden...</para>
<para>Anwendung (drei allgemeine Beispiele):</para><screen>
<![CDATA[# /sbin/route -A inet6 del <prefixtoroute3> dev sit3
# /sbin/ifconfig sit3 down

# /sbin/route -A inet6 del <prefixtoroute2> dev sit2
# /sbin/ifconfig sit2 down

# /sbin/route -A inet6 add <prefixtoroute1> dev sit1
# /sbin/ifconfig sit1 down

# /sbin/ifconfig sit0 down

]]></screen></sect3><sect3>
<title>Verwendung von "route"</title>
<para>Die Vorgehensweise ist vergleichbar mit dem löschen einer normalen IPv6 Route.</para>
<para>Anwendung (drei allgemeine Beispiele):</para><screen>
<![CDATA[# /sbin/route -A inet6 del <prefixtoroute1> gw
¬ ::<ipv4addressofforeigntunnel1> dev sit0
# /sbin/route -A inet6 del <prefixtoroute2> gw
¬ ::<ipv4addressofforeigntunnel2> dev sit0
# /sbin/route -A inet6 del <prefixtoroute3> gw
¬ ::<ipv4addressofforeigntunnel3> dev sit0

# /sbin/ifconfig sit0 down
]]></screen></sect3></sect2><sect2>
<title>Nummerierte Punkt-zu-Punkt Tunnel</title>
<para>Manchmal ist es notwendig, einen Punkt-zu-Punkt Tunnel mit IPv6 Adresse genauso einzurichten, wie heute bei IPv4. Dies ist nur mit der ersten (ifconfig+route - nicht empfehlenswert) sowie mit der dritten (ip+route) beschriebenen Methode zur Einrichtung eines Tunnels möglich. Bei diesen Fällen können Sie den Tunnel-Interfaces die IPv6 Adressen, wie im Abschnitt zur Interface-Konfiguration beschrieben, hinzufügen.</para></sect2></sect1><sect1 id='configuring-ipv6to4-tunnels' >
<title><!-- anchor id="configuring-ipv6to4-tunnels" -->Einrichtung von 6to4 Tunnel</title>
<para>Beachten sie Bitte, dass 6to4 Tunnel im Standard-Kernel der Serie 2.2.x (siehe <link linkend="systemcheck-kernel">systemcheck/kernel</link>) nicht unterstützt werden. Weiter ist zu beachten, dass die Präfix-Länge für 6to4 Adressen 16 ist, da sich aus Perspektive des Netzwerks betrachtet, alle anderen 6to4 Hosts sich in der gleichen Schicht 2 befinden. </para><sect2>
<title>6to4 Tunnel hinzufügen</title>
<para>Zu Anfang müssen Sie Ihre 6to4 Präfix-Länge mittels der lokal zugewiesenen global routbaren IPv4 Adresse berechnen (sollte ihr Host keine global routebare IPv4 Adresse haben, dann ist unter speziellen Bedingungen NAT auf dem Border Gateway möglich):</para>
<para>Angenommen, Ihre IPv4 Adresse ist:</para><screen>
<![CDATA[1.2.3.4
]]></screen><para>Dann ist das daraus resultierende 6to4 Präfix:</para><screen>
<![CDATA[2002:0102:0304::
]]></screen><para>Lokalen 6to4 Gateways sollte immer (ist aber kein Muss, ein beliebiger local-scope Suffix kann benutzt werden) das Suffix &rdquo;::1&rdquo; zugewiesen werden. Daraus resultierend ergibt sich Ihre lokale 6to4 Adresse:</para><screen>
<![CDATA[2002:0102:0304::1
]]></screen><para>Zum automatischen Erstellen der Adresse können Sie folgenden Befehl nutzen:</para><screen>
<![CDATA[ipv4="1.2.3.4"; printf "2002:%02x%02x:%02x%02x::1" `echo $ipv4 | tr "." " "`
]]></screen><para>Es gibt nun zwei Möglichkeiten einen 6to4 Tunnel einzurichten.</para><sect3>
<title>Verwendung von "ip" und einem dedizierten Tunnel-Device</title>
<para>Die empfohlene Vorgehensweise (der Wert TTL muss angegeben werden, da der Standardwert 0 ist):</para>
<para>Erstellen eines neues Tunnel-Device:</para><screen>
<![CDATA[# /sbin/ip tunnel add tun6to4 mode sit ttl <ttldefault> remote any local
¬ <localipv4address> 
]]></screen><para>Interface aktivieren:</para><screen>
<![CDATA[# /sbin/ip link set dev tun6to4 up 
]]></screen><para>Eine lokale 6to4 Adresse am Interface hinzufügen (Hinweis: Präfix-Länge 16 ist wichtig!)</para><screen>
<![CDATA[# /sbin/ip -6 addr add <local6to4address>/16 dev tun6to4 
]]></screen><para>Hinzufügen der (Standard-) Route zum globalen IPv6 Netz unter Verwendung der all-6to4-routers IPv4 anycast Adresse:</para><screen>
<![CDATA[# /sbin/ip -6 route add default via ::192.88.99.1 dev tun6to4 metric 1
]]></screen><para>Manche Versionen von &rdquo;ip&rdquo; (z.B. SuSE Linux 9.0) unterstützen keine IPv4-kompatiblen IPv6-Adressen für Gateways, in diesem Fall muss die entsprechende IPv6-Adresse benutzt werden:</para><screen>
<![CDATA[# /sbin/ip -6 route add default via 2002:c058:6301::1 dev tun6to4 metric 1
]]></screen></sect3><sect3>
<title>Verwendung von "ifconfig" und "route" sowie einem generischen Tunnel-Device "sit0" (nicht empfehlenswert)</title>
<para>Diese Vorgehensweise wird nicht empfohlen, da bei Verwendung des allgemeinen Tunnel Device sit0 keine Filter-Spezifizierung pro Device ermöglicht wird.</para>
<para>Das allgemeine Tunnel Interface sit0 aktivieren:</para><screen>
<![CDATA[# /sbin/ifconfig sit0 up 
]]></screen><para>Dem Interface eine lokale 6to4 Adresse hinzufügen:</para><screen>
<![CDATA[# /sbin/ifconfig sit0 add <local6to4address>/16
]]></screen><para>Hinzufügen der (Standard-) Route zum globalen IPv6 Netz unter Verwendung der all-6to4-routers IPv4 anycast Adresse:</para><screen>
<![CDATA[# /sbin/route -A inet6 add default gw ::192.88.99.1 dev sit0
]]></screen></sect3></sect2><sect2>
<title>6to4 Tunnel entfernen</title>
<sect3>
<title>Verwendung von "ip" und einem dedizierten Tunnel-Device</title>
<para>Entfernen aller Routen über dieses bestimmten Tunnel Devices:</para><screen>
<![CDATA[# /sbin/ip -6 route flush dev tun6to4
]]></screen><para>Interface deaktivieren:</para><screen>
<![CDATA[# /sbin/ip link set dev tun6to4 down
]]></screen><para>Ein erstelltes Tunnel Device entfernen:</para><screen>
<![CDATA[# /sbin/ip tunnel del tun6to4 
]]></screen></sect3><sect3>
<title>Verwendung von "ifconfig" und "route" sowie einem generischen Tunnel-Device "sit0" (nicht empfehlenswert)</title>
<para>Entfernen der (Standard-) Route über ein 6to4 Tunnel Device:</para><screen>
<![CDATA[# /sbin/route -A inet6 del default gw ::192.88.99.1 dev sit0
]]></screen><para>Eine 6to4 Adresse des Interfaces entfernen:</para><screen>
<![CDATA[# /sbin/ifconfig sit0 del <local6to4address>/16
]]></screen><para>Ein allgemeines Tunnel Device deaktivieren (aber Achtung, eventuell ist das Interface noch in Verwendung...)</para><screen>
<![CDATA[# /sbin/ifconfig sit0 down 
]]></screen></sect3></sect2></sect1></chapter><chapter id='chapter-configuring-ipv4-in-ipv6-tunnels' >
<title><!-- anchor id="chapter-configuring-ipv4-in-ipv6-tunnels" -->Konfiguration eines IPv4-in-IPv6 Tunnels</title>
<para><ulink url="http://www.faqs.org/rfcs/rfc2473.html">RFC 2473 / Generic Packet Tunneling in IPv6 Specification</ulink> spezifiziert den Mechanismus, um unterschiedliche Pakettypen (einschließlich IPv4) über IPv6 zu tunneln.</para>
<para>ANMERKUNG: Unterstützung für IPv4-in-IPv6 Tunnel ist erst seit Kernel Version 2.6.22 verfügbar.</para><sect1>
<title>Anzeigen von existierenden Tunnels</title>
<para>Anwendung:</para><screen>
<![CDATA[# /sbin/ip -6 tunnel show [<device>]
]]></screen><para>Beispiel:</para><screen>
<![CDATA[# /sbin/ip -6 tunnel show mode any
ip6tnl0: ipv6/ipv6 remote :: local :: encaplimit 0 hoplimit 0 tclass 0x00 flowlabel 0x00000 (flowinfo 0x00000000)
ip6tnl1: ip/ipv6 remote fd00:0:0:2::a local fd00:0:0:2::1 dev eth1 encaplimit 4 hoplimit 64 tclass 0x00 flowlabel 0x00000 (flowinfo 0x00000000)
]]></screen><para>ANMERKUNG: wenn "mode any" nicht angegeben wird, werde nur IPv6-in-IPv6 Tunnels angezeigt.</para></sect1><sect1>
<title>Konfiguration eines Punkt-zu-Punkt Tunnels</title>
<para>Anwendung für die Erzeugung einer 4over6 Tunnel-Schnittstelle (welche danach aber noch nicht aktiv ist)</para><screen>
<![CDATA[# /sbin/ip tunnel add <device> mode ip4ip6 remote <ipv6addressofforeigntunnel> local <ipv6addresslocal>
]]></screen><para>Anwendung (allgemeines Beispiel für drei Tunnels):</para><screen>
<![CDATA[# /sbin/ip -6 tunnel add ip6tnl1 mode ip4ip6 remote <ipv6addressofforeigntunnel1> local <ipv6addresslocal>
# /sbin/ip link set dev ip6tnl1 up 
# /sbin/ip -6 route add <prefixtoroute1> dev ip6tnl1 metric 1

# /sbin/ip -6 tunnel add ip6tnl2 mode ip4ip6 remote <ipv6addressofforeigntunnel2> local <ipv6addresslocal>
# /sbin/ip link set dev ip6tnl2 up
# /sbin/ip -6 route add <prefixtoroute2> dev ip6tnl2 metric 1

# /sbin/ip -6 tunnel add ip6tnl3 mode ip4ip6 remote <ipv6addressofforeigntunnel3> local <ipv6addresslocal>
# /sbin/ip link set dev ip6tnl3 up
# /sbin/ip -6 route add <prefixtoroute3> dev ip6tnl3 metric 1
]]></screen></sect1><sect1>
<title>Löschen von Punkt-zu-Punkt-Tunnels</title>
<para>Anwendung für das Löschen einer Tunnel-Schnittstelle:</para><screen>
<![CDATA[# /sbin/ip -6 tunnel del <device>
]]></screen><para>Anwendung (allgemeines Beispiel für drei Tunnels):</para><screen>
<![CDATA[# /sbin/ip -6 route del <prefixtoroute1> dev ip6tnl1
# /sbin/ip link set ip6tnl1 down
# /sbin/ip -6 tunnel del ip6tnl1

# /sbin/ip -6 route del <prefixtoroute2> dev ip6tnl2
# /sbin/ip link set ip6tnl2 down
# /sbin/ip -6 tunnel del ip6tnl2

# /sbin/ip -6 route del <prefixtoroute3> dev ip6tnl3
# /sbin/ip link set ip6tnl3 down
# /sbin/ip -6 tunnel del ip6tnl3 
]]></screen></sect1></chapter><chapter id='chapter-kernel-settings' >
<title><!-- anchor id="chapter-kernel-settings" -->Kernel-Einstellungen im /proc-Dateisystem</title>
<para id='proc-filesystem' ><!-- anchor id="proc-filesystem" -->Anmerkung: Dieses Kapitel basiert großteils auf der Datei &rdquo;ip-sysctl.txt&rdquo;, welche in den aktuellen Kernel-Quellen im Verzeichnis &rdquo;Documentation/networking&rdquo; zu finden ist. Danke an dieser Stelle an Pekka Savola, der den IPv6 relevanten Inhalt dieser Datei wartet und betreut. Ebenso sei erwähnt, dass einige Textstellen hieraus mehr oder weniger mit Copy &amp; Paste in dieses Dokument übernommen wurden.</para><sect1>
<title>Zugriff auf das /proc-Dateisystem</title>
<sect2>
<title>Verwendung von "cat" und "echo"</title>
<para>Mit &rdquo;cat&rdquo; und &rdquo;echo&rdquo; können Sie am einfachsten das /proc Dateisystem einsehen. Hierfür gibt es aber einige Voraussetzungen, die erfüllt sein müssen:</para><itemizedlist>
<listitem><para>Das /proc-Dateisystem muss im Kernel aktiviert sein. Hierfür muss die folgende Einstellung beim kompilieren des Kernels vorgenommen werden:</para></listitem></itemizedlist><screen>
<![CDATA[CONFIG_PROC_FS=y
]]></screen><itemizedlist>
<listitem><para>Das /proc-Dateisystem muss zuerst gemountet sein. Dies kann wie folgt getestet werden:</para></listitem></itemizedlist><screen>
<![CDATA[# mount | grep "type proc"
none on /proc type proc (rw)
]]></screen><itemizedlist>
<listitem><para>Sie benötigen Lese- und manchmal auch Schreib-Zugriff (normalerweise nur als Root-Benutzer) auf das /proc-Dateisystem.</para></listitem></itemizedlist><para>Normalerweise sind, mit Ausnahme in /proc/sys/*, alle Einträge ausschließlich mit Leserechten ausgestattet. Die Einträge werden zum Zweck der Informationsgewinnung verwendet.</para><sect3>
<title>Wert anzeigen</title>
<para>Den Inhalt eines Eintrags können sie mit &rdquo;cat&rdquo; anzeigen:</para><screen>
<![CDATA[# cat /proc/sys/net/ipv6/conf/all/forwarding
0
]]></screen></sect3><sect3>
<title>Wert einstellen</title>
<para>Mit &rdquo;echo&rdquo; können sie einen neuen Wert zuweisen (nur wenn der Eintrag beschreibbar ist):</para><screen>
<![CDATA[# echo "1" >/proc/sys/net/ipv6/conf/all/forwarding
]]></screen></sect3></sect2><sect2>
<title>Verwendung von "sysctl"</title>
<para>Die Verwendung des Programms &rdquo;sysctl&rdquo; ist eine zeitgemäße Methode zum Anzeigen der Kernel-Switches. Es funktioniert auch dann, wenn das /proc-Dateisystem nicht gemountet ist, wobei aber nur ein Zugriff auf /proc/sys/* möglich ist!</para>
<para>Das Programm &rdquo;sysctl&rdquo; ist (auf Red Hat Linux Systemen) im Paket &rdquo;procps&rdquo; enthalten.</para><itemizedlist>
<listitem><para>Das sysctl-Interface muss im Kernel aktiviert sein. Hierfür muss die folgende Einstellung beim kompilieren des Kernels vorgenommen werden:</para></listitem></itemizedlist><screen>
<![CDATA[CONFIG_SYSCTL=y
]]></screen><sect3>
<title>Wert anzeigen</title>
<para>Der Wert eines Eintrags kann nun angezeigt werden:</para><screen>
<![CDATA[# sysctl net.ipv6.conf.all.forwarding
net.ipv6.conf.all.forwarding = 0
]]></screen></sect3><sect3>
<title>Wert einstellen</title>
<para>Ein neuer Wert kann wie folgt zugewiesen werden (wenn der Eintrag beschreibbar ist):</para><screen>
<![CDATA[# sysctl -w net.ipv6.conf.all.forwarding=1
net.ipv6.conf.all.forwarding = 1
]]></screen><para>Anmerkung: Verwenden Sie beim setzen eines Wertes keine Leerzeichen vor oder nach dem &rdquo;=&rdquo;. Sollten Sie mehrere Werte in einer Zeile angeben, müssen sie diese mit Anführungszeichen umgeben:</para><screen>
<![CDATA[# sysctl -w net.ipv4.ip_local_port_range="32768 61000"
net.ipv4.ip_local_port_range = 32768 61000
]]></screen></sect3><sect3>
<title>Sonstiges</title>
<para>Anmerkung: Es gibt sysctl-Versionen im Umlauf, die anstelle des Punktes &rdquo;.&rdquo; einen slash &rdquo;/&rdquo; ausgeben.</para>
<para>Für weitere Details siehe die manpage von sysctl.</para>
<para>Hinweise: Um schnell einen Überblick über die Einstellungen zu bekommen, verwenden Sie einfach die Option &rdquo;-a&rdquo; (anzeigen aller Einträge) sowie das Tool &rdquo;grep&rdquo;.</para></sect3></sect2><sect2>
<title>Werte im /proc-Dateisystem</title>
<para>Es gibt im /proc-Dateisystem unterschiedliche Formate:</para><itemizedlist>
<listitem><para>BOOLEAN: einfach eine &rdquo;0&rdquo; (falsch) oder eine &rdquo;1&rdquo; (wahr)</para></listitem><listitem><para>INTEGER: Wert ist eine Ganzzahl (kann auch eine unsigned int sein)</para></listitem><listitem><para>Kompliziertere Zeilen mit verschiedenen Werten: manchmal wir eine Header-Zeile mit angezeigt... Sie können aber auch weitere Informationen zu den Werten und deren Bedeutung direkt in den Kernel Quellen beziehen.</para></listitem></itemizedlist></sect2></sect1><sect1 id='proc-sys-net-ipv6.' >
<title><!-- anchor id="proc-sys-net-ipv6." -->Einträge in /proc/sys/net/ipv6/</title>
<sect2>
<title>conf/default/*</title>
<para>Ändern der Interface-spezifischen Einstellungen.</para></sect2><sect2>
<title>conf/all/*</title>
<para>Ändern aller Interface-spezifischen Einstellungen.</para>
<para>Ausnahme: &rdquo;conf/all/forwarding&rdquo; hat hier eine andere Bedeutung:</para><sect3>
<title>conf/all/forwarding</title>
<itemizedlist>
<listitem><para>Typ: BOOLEAN</para></listitem></itemizedlist><para>Hiermit wird die globale IPv6 Weiterleitung zwischen allen Interfaces aktiviert.</para>
<para>In IPv6 ist kein forwarding per Device möglich. Die Steuerung der Weiterleitung muss mittels IPv6-netfilter Regel-Sets (mit dem Programm ip6tables) und der Bestimmung der Ein- und Ausgabe-Devices (siehe <link linkend="firewalling-netfilter6.">Firewalling/Netfilter6</link> für Details) vollzogen werden. In IPv4 ist das anders, forwarding per device ist hier möglich (hier wird am Interface, wo das Paket einlangt, die entsprechende Entscheidung getroffen).</para>
<para>Hiermit werden die Host/Router Einstellungen 'forwarding' aller Interfaces eingestellt (auch globales Forwarding genannt). Für weitere Details Siehe unten. </para>
<para>Ist der Wert gleich 0, dann ist IPv6 forwarding deaktiviert. Pakete verlassen in diesem Fall niemals ein anderes Interface (weder physikalische noch logische wie z.B. Tunnel).</para></sect3></sect2><sect2>
<title>conf/interface/*</title>
<para>Spezielle Einstellungen per Interface ändern.</para>
<para>Das funktionale Verhalten einzelner Einstellungen ist davon abhängig, ob lokales forwarding aktiviert ist oder nicht.</para><sect3>
<title>accept_ra</title>
<itemizedlist>
<listitem><para>Typ: BOOLEAN</para></listitem><listitem><para>Standardeinstellung: aktiviert, wenn lokales forwarding deaktiviert ist. Deaktiviert, wenn lokales forwarding aktiviert ist.</para></listitem></itemizedlist><para>Router Advertisements werden akzeptiert; das Interface wird mit Status 'received data' automatisch konfiguriert.</para></sect3><sect3>
<title>accept_redirects</title>
<itemizedlist>
<listitem><para>Typ: BOOLEAN</para></listitem><listitem><para>Standardeinstellung: aktiviert, wenn lokales forwarding deaktiviert ist. Deaktiviert, wenn lokales forwarding aktiviert ist.</para></listitem></itemizedlist><para>Akzeptiert von IPv6 Router gesendete Redirects.</para></sect3><sect3>
<title>autoconf</title>
<itemizedlist>
<listitem><para>Typ: BOOLEAN</para></listitem><listitem><para>Funktionale Standardeinstellung: aktiviert, wenn accept_ra_pinfo aktiv ist. Deaktiviert, wenn accept_ra_pinfo deaktiviert ist.</para></listitem></itemizedlist><para>Autokonfiguriert Adressen unter Benutzung der Prefix-Information eines Router-Advertisements.</para></sect3><sect3>
<title>dad_transmits</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 1</para></listitem></itemizedlist><para>Die Anzahl der gesendeten Proben zum entdecken von Adress-Duplikaten. </para></sect3><sect3>
<title>forwarding</title>
<itemizedlist>
<listitem><para>Typ: BOOLEAN</para></listitem><listitem><para>Standardwert: FALSCH, wenn globale forwarding deaktiviert ist (Standard), ansonst WAHR</para></listitem></itemizedlist><para>Konfigurieren von Interface-spezifischem Host/Router-Verhalten.</para>
<para>Anmerkung: Es wird die gleiche Konfiguration für alle Interfaces empfohlen; Gemischte Host/Router-Szenarios sind eher unüblich.</para><itemizedlist>
<listitem><para>Wert FALSCH: Per Standard wird von einem Host-Verhalten ausgegangen. Das bedeutet:</para></listitem></itemizedlist><orderedlist>
<listitem><para>Der Schalter IsRouter ist bei Router Advertisements nicht aktiviert.</para></listitem><listitem><para>Router-Anfragen werden bei Bedarf gesendet.</para></listitem><listitem><para>Wenn accept_ra WAHR ist (Standard), dann werden Router Advertisements akzeptiert (und starte die automatische Konfiguration).</para></listitem><listitem><para>Wenn accept_redirects WAHR ist (Standard), dann akzeptiere Redirects.</para></listitem></orderedlist><itemizedlist>
<listitem><para>Wert WAHR: Ist lokales forwarding eingeschaltet, dann wird von einem Router-Verhalten ausgegangen. Das bedeutet genau das Gegenteil zu oben:</para></listitem></itemizedlist><orderedlist>
<listitem><para>Der Schalter IsRouter ist bei Router Advertisements aktiviert.</para></listitem><listitem><para>Router-Anfragen werden nicht gesendet.</para></listitem><listitem><para>Router Advertisements werden ignoriert.</para></listitem><listitem><para>Redirects werden ignoriert.</para></listitem></orderedlist></sect3><sect3>
<title>hop_limit</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 64</para></listitem></itemizedlist><para>Der Standardwert für das Hop-Limit wird hiermit eingestellt.</para></sect3><sect3>
<title>mtu</title>
<itemizedlist>
<listitem><para>Type: INTEGER</para></listitem><listitem><para>Standardwert: 1280 (Minimumwert in IPv6)</para></listitem></itemizedlist><para>Der Standardwert für die Maximum Transfer Unit wird hiermit eingestellt.</para></sect3><sect3>
<title>router_solicitation_delay</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 1</para></listitem></itemizedlist><para>Die Anzahl der nach der Aktivierung eines Interfaces zu wartenden Sekunden bevor Router-Anfragen gesendet werden.</para></sect3><sect3>
<title>router_solicitation_interval</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 4</para></listitem></itemizedlist><para>Die Anzahl der Sekunden zwischen Router-Anfragen.</para></sect3><sect3>
<title>router_solicitations</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 3</para></listitem></itemizedlist><para>Die Anzahl der Router-Anfragen, bevor angenommen wird, dass keine Router verfügbar sind.</para></sect3></sect2><sect2>
<title>neigh/default/*</title>
<para>Standardeinstellungen der Neighbor-Erkennung und einige spezielle globale Intervall- sowie Threshold-Werte ändern:</para><sect3>
<title>gc_thresh1</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 128</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>gc_thresh2</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 512</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>gc_thresh3</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 1024</para></listitem></itemizedlist><para>Parameter zum Einstellen der Größe der Neighbour-Tabelle.</para>
<para>Wenn Sie viele Interfaces und Probleme mit inkorrekt oder nicht funktionierenden Routen haben, dann sollten Sie diesen Wert erhöhen. Ebenfalls erhöhen sollten Sie den Wert, wenn von einem aktiven <ulink url="http://www.zebra.org/">Zebra (routing daemon)</ulink> Folgendes angezeigt wird:</para><screen>
<![CDATA[ZEBRA: netlink-listen error: No buffer space available, type=RTM_NEWROUTE(24),
¬ seq=426, pid=0
]]></screen></sect3><sect3>
<title>gc_interval</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 30</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3></sect2><sect2>
<title>neigh/interface/*</title>
<para>Per Interface ändern spezieller Einstellungen zur Neighbor-Erkennung.</para><sect3>
<title>anycast_delay</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 100</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>gc_stale_time</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 60</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>proxy_qlen</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 64</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>unres_qlen</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 3</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>app_solicit</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 0</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>locktime</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 0</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>retrans_time</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 100</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>base_reachable_time</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 30</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>mcast_solicit</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 3</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>ucast_solicit</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 3</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>delay_first_probe_time</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 5</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>proxy_delay</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 80</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3></sect2><sect2>
<title>route/*</title>
<para>Globale Routing-Einstellungen ändern.</para><sect3>
<title>flush</title>
<para>In neueren Kernel-Versionen wurde diese Option entfernt - mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>gc_interval</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 30</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>gc_thresh</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 1024</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>mtu_expires</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 600</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>gc_elasticity</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 0</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>gc_min_interval</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 5</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>gc_timeout</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 60</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>min_adv_mss</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 12</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3><sect3>
<title>max_size</title>
<itemizedlist>
<listitem><para>Typ: INTEGER</para></listitem><listitem><para>Standardwert: 4096</para></listitem></itemizedlist><para>Mehr Infos hierzu in späteren Versionen.</para></sect3></sect2></sect1><sect1 id='proc-sys-net-ipv4.' >
<title><!-- anchor id="proc-sys-net-ipv4." -->IPv6 relevante Einträge in /proc/sys/net/ipv4/</title>
<para>Zurzeit werden einige Schalter auch bei IPv6 eingesetzt (Dies bleibt so, bis IPv4 zur Gänze in ein unabhängiges Kernel-Modul umgewandelt wurde).</para><sect2>
<title>ip_*</title>
<sect3>
<title>ip_local_port_range</title>
<para>Diese Kontrolleinstellung wird ebenfalls bei IPv6 verwendet.</para></sect3></sect2><sect2>
<title>tcp_*</title>
<para>Diese Kontrolleinstellungen werden ebenfalls bei IPv6 verwendet.</para></sect2><sect2>
<title>icmp_*</title>
<para>Diese Kontrolleinstellungen werden bei IPv6 nicht verwendet. Zum aktivieren der ICMPv6 Quoten-Limitierung (auf Grund der ICMPv6 storms Auswirkungen sehr empfohlen) müssen netfilter-v6-Regeln eingesetzt werden.</para></sect2><sect2>
<title>Sonstige Einträge</title>
<para>Keine bekannt, bzw. von IPv6 vermutlich ungenutzt.</para></sect2></sect1><sect1 id='proc-net' >
<title><!-- anchor id="proc-net" -->IPv6 relevante Einträge in /proc/net/</title>
<para>In /proc/net gibt es einige Einträge die ausschließlich Lese-Rechte besitzen. Mit &rdquo;sysctl&rdquo; können Sie hier keine Informationen bekommen, verwenden Sie anstelle dessen z.B. &rdquo;cat&rdquo;.</para><sect2>
<title>if_inet6</title>
<itemizedlist>
<listitem><para>Typ: Eine Zeile pro Adresse mit jeweils mehreren Werten</para></listitem></itemizedlist><para>Alle konfigurierten IPv6 Adressen werden hier in einem speziellen Format angezeigt. Im Beispiel wird ein Loopback-Interface angezeigt. Die Werte werden unten erklärt (siehe &rdquo;net/ipv6/addrconf.c&rdquo; für Details).</para><screen>
<![CDATA[# cat /proc/net/if_inet6
00000000000000000000000000000001 01 80 10 80 lo
+------------------------------+ ++ ++ ++ ++ ++
|                                |  |  |  |  |
1                                2  3  4  5  6
]]></screen><orderedlist>
<listitem><para>IPv6 Adresse mit 32 hexadezimalen Zeichen ohne Doppelpunkte als Trennzeichen</para></listitem><listitem><para>Netlink Device Nummer (Interface Index) im hexadezimalen Format (siehe auch &rdquo;ip addr&rdquo;)</para></listitem><listitem><para>Präfix-Länge in hexadezimaler Notation</para></listitem><listitem><para>Wert des Gültigkeitsbereichs (s.a. Kernel Quellen &rdquo;include/net/ipv6.h&rdquo; und &rdquo;net/ipv6/addrconf.c&rdquo;)</para></listitem><listitem><para>Interface flags (s.a. &rdquo;include/linux/rtnetlink.h&rdquo; und &rdquo;net/ipv6/addrconf.c&rdquo;)</para></listitem><listitem><para>Devicename</para></listitem></orderedlist></sect2><sect2>
<title>ipv6_route</title>
<itemizedlist>
<listitem><para>Typ: Eine Zeile pro Route mit jeweils mehreren Werten</para></listitem></itemizedlist><para>Alle konfigurierten IPv6 Routen werden hier in einem speziellen Format angezeigt. Im Beispiel wird ein Loopback-Interface angezeigt. Die Werte werden unten erklärt (siehe &rdquo;net/ipv6/route.c&rdquo; für Details).</para><screen>
<![CDATA[# cat /proc/net/ipv6_route
00000000000000000000000000000000 00 00000000000000000000000000000000 00
+------------------------------+ ++ +------------------------------+ ++
|                                |  |                                |
1                                2  3                                4

¬ 00000000000000000000000000000000 ffffffff 00000001 00000001 00200200 lo
¬ +------------------------------+ +------+ +------+ +------+ +------+ ++
¬ |                                |        |        |        |        |
¬ 5                                6        7        8        9        10
]]></screen><orderedlist>
<listitem><para>IPv6 Zielnetzwerk mit 32 hexadezimalen Zeichen ohne Doppelpunkte als Trennzeichen</para></listitem><listitem><para>IPv6 Ziel-Präfix-Länge in hexadezimaler Notation</para></listitem><listitem><para>IPv6 Ursprungsnetzwerk mit 32 hexadezimalen Zeichen ohne Doppelpunkte als Trennzeichen</para></listitem><listitem><para>IPv6 Ursprungs-Präfix-Länge in hexadezimaler Notation</para></listitem><listitem><para>IPv6 next Hop mit 32 hexadezimalen Zeichen ohne Doppelpunkte als Trennzeichen</para></listitem><listitem><para>Metrik in hexadezimaler Schreibweise</para></listitem><listitem><para>Reference Counter</para></listitem><listitem><para>Use Counter</para></listitem><listitem><para>Flags</para></listitem><listitem><para>Devicename</para></listitem></orderedlist></sect2><sect2>
<title>sockstat6</title>
<itemizedlist>
<listitem><para>Typ: Eine Zeile pro Protokoll mit Beschreibung und Wert</para></listitem></itemizedlist><para>Statistiken über verwendete IPv6 Sockets. Beispiel:</para><screen>
<![CDATA[# cat /proc/net/sockstat6
TCP6: inuse 7 
UDP6: inuse 2 
RAW6: inuse 1 
FRAG6: inuse 0 memory 0
]]></screen></sect2><sect2>
<title>tcp6</title>
<para>Mehr Infos hierzu in späteren Versionen.</para></sect2><sect2>
<title>udp6</title>
<para>Mehr Infos hierzu in späteren Versionen.</para></sect2><sect2>
<title>igmp6</title>
<para>Mehr Infos hierzu in späteren Versionen.</para></sect2><sect2>
<title>raw6</title>
<para>Mehr Infos hierzu in späteren Versionen.</para></sect2><sect2>
<title>ip6_flowlabel</title>
<para>Mehr Infos hierzu in späteren Versionen.</para></sect2><sect2>
<title>rt6_stats</title>
<para>Mehr Infos hierzu in späteren Versionen.</para></sect2><sect2>
<title>snmp6</title>
<itemizedlist>
<listitem><para>Typ: Eine Zeile pro SNMP Beschreibung und Wert</para></listitem></itemizedlist><para>SNMP Statistiken; diese können mittels snmp server und entsprechender MIB Tabelle mit einer Network Management Software gewonnen werden.</para></sect2><sect2>
<title>ip6_tables_names</title>
<para>Verfügbare netfilter6 Tabellen</para></sect2></sect1></chapter><chapter id='netlink' >
<title><!-- anchor id="netlink" -->Netlink-Interface zum Kernel</title>
<para>Mehr Infos hierzu in späteren Versionen... der Autor hat hiermit keine Erfahrung...</para></chapter><chapter id='resolver' >
<title><!-- anchor id="resolver" -->Adress-Auflösung</title>
<para>
</para>
<para>Zusätzliche Informationen sind hier zu finden</para><itemizedlist>
<listitem><para><ulink url="http://www.bieringer.de/linux/IPv6/getaddrinfo/">Linux &amp; IPv6: getaddrinfo and search domains - Research</ulink></para></listitem><listitem><para><ulink url="http://people.redhat.com/drepper/linux-rfc3484.html">RFC 3484 on Linux</ulink> </para></listitem><listitem><para>Karl Auer's Blog: <ulink url="http://biplane.com.au/blog/?p=30">Controlling IPv6 source address selection</ulink> , <ulink url="http://biplane.com.au/blog/?p=22">IPv6 Source Address Selection - what, why, how</ulink></para></listitem><listitem><para>Into6: <ulink url="http://into6.com.au/?p=288">/etc/gai.conf - it ain't what you think it is</ulink></para></listitem></itemizedlist><bridgehead renderas="sect1">Address-Auflösung &amp; Ziel-Adressen-Auswahl</bridgehead>
<para>Die Auflösung von Namen zu einer IPv4- bzw. IPv6-Adresse wird üblicherweise durch die Benutzung einer libc resolver Bibliothek durchgeführt. Dazu wird normalerweise die Funktion <emphasis>getaddrinfo</emphasis> benutzt. Im Fall, dass mehr als eine IPv6-Adresse zurückgegeben wird, soll nach <ulink url="http://www.faqs.org/rfcs/rfc3484.html">RFC 3484 / Default Address Selection for Internet Protocol version 6</ulink> eine Sortierung angewandt werden, die optional auch konfiguriert werden kann.</para>
<para>Die &rdquo;Magie&rdquo; ist durch die Datei /etc/gai.conf konfigurierbar (welche fehlt oder leer ist, solange Standardwerte gelten sollen). Die vorgegebene Sortierung ist üblicherweise in der Dokumentation (z.B. /usr/share/doc/glibc-common/gai.conf) oder im Manual &rdquo;man gai.conf&rdquo; zu sehen.</para>
<para>Für die Kontrolle der Sortierung via benutzerdefinierter Konfiguration ist für Tests folgendes notwendig:</para><itemizedlist>
<listitem><para>Ein Hostname im DNS, der mehr als eine IPv6-Adresse zurückgibt, z.B.</para></listitem></itemizedlist><screen>
<![CDATA[$ dig +short aaaa st1.bieringer.de
2001:4dd0:ff00:834::2
2a01:238:423d:8800:85b3:9e6b:3019:8909 
]]></screen><itemizedlist>
<listitem><para>Lookup via DNS (mit /etc/hosts klappt es nicht)</para></listitem><listitem><para>/etc/gai.conf mit einer passenden Konfiguration, e.g.</para></listitem></itemizedlist><screen>
<![CDATA[precedence  ::1/128       50            # default
precedence  ::/0          40            # default
precedence  2002::/16     30            # default
precedence ::/96          20            # default
precedence ::ffff:0:0/96  10            # default
precedence 2001:4dd0:ff00:834::/64  80  # dst-A
precedence 2a01:238:423d:8800::/64  90  # dst-B
]]></screen><itemizedlist>
<listitem><para>Für Tests kann dann ein Telnet-Client benutzt werden:</para></listitem></itemizedlist><screen>
<![CDATA[$ telnet st1.bieringer.de
Trying 2a01:238:423d:8800:85b3:9e6b:3019:8909...    (dst-B)
...
Trying 2001:4dd0:ff00:834::2...                     (dst-A)
...
]]></screen><itemizedlist>
<listitem><para>Wenn nun die precedence geändert wird in der Konfiguration:</para></listitem></itemizedlist><screen>
<![CDATA[precedence 2001:4dd0:ff00:834::/64  90  # dst-A ex 80
precedence 2a01:238:423d:8800::/64  80  # dst-B ex 90
]]></screen><itemizedlist>
<listitem><para>Dann ändert sich die Reihenfolge entsprechend</para></listitem></itemizedlist><screen>
<![CDATA[$ telnet st1.bieringer.de
Trying 2001:4dd0:ff00:834::2...                     (dst-A)
...
Trying 2a01:238:423d:8800:85b3:9e6b:3019:8909...    (dst-B)
...
]]></screen><bridgehead renderas="sect1">Quell-Addressen-Auswahl</bridgehead>
<para>Source address selection in Linux wird automatisch vom Kernel vorgenommen, üblicherweise abhängig von den Routing-Tabellen und unter der Vorgabe, den Scope einer Adresse beizubehalten.</para>
<bridgehead renderas="sect2">Quell-Adressen-Auswahl mit &rdquo;ip addrlabel&rdquo;</bridgehead>
<para>Mit einer Erweiterung der internen &rdquo;ip addrlabel&rdquo; Tabelle kann eine Quell-Adresse zu einer Ziel-Adresse gebunden werden. Bindung wird hier durch die Angabe des gleichen Labels (einer Nummer) konfiguriert.</para><itemizedlist>
<listitem><para>Standard von &rdquo;ip addrlabel&rdquo; (hier von CentOS 6):</para></listitem></itemizedlist><screen>
<![CDATA[# ip addrlabel
prefix ::1/128 label 0 
prefix ::/96 label 3 
prefix ::ffff:0.0.0.0/96 label 4 
prefix 2001::/32 label 6 
prefix 2001:10::/28 label 7 
prefix 2002::/16 label 2 
prefix fc00::/7 label 5 
prefix ::/0 label 1 
]]></screen><itemizedlist>
<listitem><para>Das System ist multihomed (hier an einem Interface), der Router verteilt 2 Präfixe mit Hilfe von radvd:</para></listitem></itemizedlist><screen>
<![CDATA[# ip -6 addr show dev eth1 | grep -w inet6 |grep -w global
    inet6 2001:6f8:12d8:2:5054:ff:fefb:6582/64 scope global dynamic     (src-A)
    inet6 2001:6f8:900:8cbc:5054:ff:fefb:6582/64 scope global dynamic   (src-B)
]]></screen><itemizedlist>
<listitem><para>Eine Verbindung zum Server zeigt nun:</para></listitem></itemizedlist><screen>
<![CDATA[$ telnet st1.bieringer.de
Trying 2001:4dd0:ff00:834::2...                     (dst-A)
...
Trying 2a01:238:423d:8800:85b3:9e6b:3019:8909...    (dst-B)
...
]]></screen><itemizedlist>
<listitem><para>Ein tcpdump mit filter &rdquo;tcp and dst port 23&rdquo; zeigt nur die Benutzung der oberen lokalen Quell-IPv6-Adresse</para></listitem></itemizedlist><screen>
<![CDATA[IP6 2001:6f8:12d8:2:5054:ff:fefb:6582.37762 > 2001:4dd0:ff00:834::2.telnet:                  (src-A -> dst-A)
IP6 2001:6f8:12d8:2:5054:ff:fefb:6582.45754 > 2a01:238:423d:8800:85b3:9e6b:3019:8909.telnet: (src-A -> dst-B)
]]></screen><itemizedlist>
<listitem><para>Wenn nun Quelle und Ziel mit Hilfe von &rdquo;ip addrlabel&rdquo; zusammengebunden werden:</para></listitem></itemizedlist><screen>
<![CDATA[# ip addrlabel add prefix 2001:6f8:12d8:2::/64 label 200
# ip addrlabel add prefix 2001:6f8:900:8cbc::/64 label 300
# ip addrlabel add prefix 2001:4dd0:ff00:834::/64 label 200
# ip addrlabel add prefix 2a01:238:423d:8800::/64 label 300
]]></screen><itemizedlist>
<listitem><para>Was in folgender &rdquo;ip addrlabel&rdquo;resultiert:</para></listitem></itemizedlist><screen>
<![CDATA[# ip addrlabel
prefix ::1/128 label 0 
prefix ::/96 label 3 
prefix ::ffff:0.0.0.0/96 label 4 
prefix 2a01:238:423d:8800::/64 label 300   # dst-B
prefix 2001:4dd0:ff00:834::/64 label 200   # dst-A
prefix 2001:6f8:900:8cbc::/64 label 300    # src-B
prefix 2001:6f8:12d8:2::/64 label 200      # src-A
prefix 2001::/32 label 6 
prefix 2001:10::/28 label 7 
prefix 2002::/16 label 2 
prefix fc00::/7 label 5 
prefix ::/0 label 1 
]]></screen><itemizedlist>
<listitem><para>Und dann nochmal eine Verbindung zum Server versucht wird</para></listitem></itemizedlist><screen>
<![CDATA[$ telnet st1.bieringer.de
Trying 2001:4dd0:ff00:834::2...                     (dst-A)
...
Trying 2a01:238:423d:8800:85b3:9e6b:3019:8909...    (dst-B)
...
]]></screen><itemizedlist>
<listitem><para>tcpdump mit filter &rdquo;tcp and dst port 23&rdquo; zeigt nun die Benutzung beider Quell-IPv6-Adressen wie konfiguriert</para></listitem></itemizedlist><screen>
<![CDATA[IP6 2001:6f8:12d8:2:5054:ff:fefb:6582.37765   > 2001:4dd0:ff00:834::2.telnet:                  (src-A -> dst-A)
IP6 2001:6f8:900:8cbc:5054:ff:fefb:6582.39632 > 2a01:238:423d:8800:85b3:9e6b:3019:8909.telnet: (src-B -> dst-B)
]]></screen><para>Persistente Konfiguration von &rdquo;ip addrtable&rdquo; ist wahrscheinlich in aktuellen Linux-Distributionen nicht unterstützt, somit wäre eine Erweiterung der Netzwerk-Init-Scripts oder rc.local notwendig. Ein Skript, welches Informationen aus /etc/gai.conf in entsprechendes &rdquo;ip addrtable&rdquo; umwandelt, gibt es hier: <ulink url="http://into6.com.au/?p=288">/etc/gai.conf - it ain't what you think it is</ulink></para></chapter><chapter id='network-debugging' >
<title><!-- anchor id="network-debugging" -->Netzwerk-Fehlersuche</title>
<sect1>
<title>Server Socket-Anbindung</title>
<sect2>
<title>Überprüfung der Server Socket-Anbindung mit &rdquo;netstat&rdquo;</title>
<para>Es ist immer von Interesse welche Sockets eines Knotens gerade aktiv sind. Mit &rdquo;netstat&rdquo; können Sie die betreffenden Informationen abfragen:</para>
<para>Verwendete Optionen: -nlptu</para>
<para>Beispiel:</para><screen>
<![CDATA[# netstat -nlptu
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State      
¬ PID/Program name
tcp        0      0 0.0.0.0:32768           0.0.0.0:*               LISTEN     
¬ 1258/rpc.statd
tcp        0      0 0.0.0.0:32769           0.0.0.0:*               LISTEN     
¬ 1502/rpc.mountd
tcp        0      0 0.0.0.0:515             0.0.0.0:*               LISTEN     
¬ 22433/lpd Waiting
tcp        0      0 1.2.3.1:139             0.0.0.0:*               LISTEN     
¬ 1746/smbd
tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN     
¬ 1230/portmap
tcp        0      0 0.0.0.0:6000            0.0.0.0:*               LISTEN     
¬ 3551/X
tcp        0      0 1.2.3.1:8081            0.0.0.0:*               LISTEN     
¬ 18735/junkbuster
tcp        0      0 1.2.3.1:3128            0.0.0.0:*               LISTEN     
¬ 18822/(squid)
tcp        0      0 127.0.0.1:953           0.0.0.0:*               LISTEN     
¬ 30734/named
tcp        0      0 ::ffff:1.2.3.1:993      :::*                    LISTEN     
¬ 6742/xinetd-ipv6
tcp        0      0 :::13                   :::*                    LISTEN     
¬ 6742/xinetd-ipv6
tcp        0      0 ::ffff:1.2.3.1:143      :::*                    LISTEN     
¬ 6742/xinetd-ipv6
tcp        0      0 :::53                   :::*                    LISTEN     
¬ 30734/named
tcp        0      0 :::22                   :::*                    LISTEN     
¬ 1410/sshd
tcp        0      0 :::6010                 :::*                    LISTEN     
¬ 13237/sshd
udp        0      0 0.0.0.0:32768           0.0.0.0:*                          
¬ 1258/rpc.statd
udp        0      0 0.0.0.0:2049            0.0.0.0:*                          
¬ -
udp        0      0 0.0.0.0:32770           0.0.0.0:*                          
¬ 1502/rpc.mountd
udp        0      0 0.0.0.0:32771           0.0.0.0:*                          
¬ -
udp        0      0 1.2.3.1:137             0.0.0.0:*                          
¬ 1751/nmbd
udp        0      0 0.0.0.0:137             0.0.0.0:*                          
¬ 1751/nmbd
udp        0      0 1.2.3.1:138             0.0.0.0:*                          
¬ 1751/nmbd
udp        0      0 0.0.0.0:138             0.0.0.0:*                          
¬ 1751/nmbd
udp        0      0 0.0.0.0:33044           0.0.0.0:*                          
¬ 30734/named
udp        0      0 1.2.3.1:53              0.0.0.0:*                          
¬ 30734/named
udp        0      0 127.0.0.1:53            0.0.0.0:*                          
¬ 30734/named
udp        0      0 0.0.0.0:67              0.0.0.0:*                          
¬ 1530/dhcpd
udp        0      0 0.0.0.0:67              0.0.0.0:*                          
¬ 1530/dhcpd
udp        0      0 0.0.0.0:32858           0.0.0.0:*                          
¬ 18822/(squid)
udp        0      0 0.0.0.0:4827            0.0.0.0:*                          
¬ 18822/(squid)
udp        0      0 0.0.0.0:111             0.0.0.0:*                          
¬ 1230/portmap
udp        0      0 :::53                   :::*                               
¬ 30734/named
]]></screen></sect2></sect1><sect1 id='examples-tcpdump' >
<title><!-- anchor id="examples-tcpdump" -->tcpdump-Beispiele</title>
<para>Hier folgen einige Beispiele von (mit tcpdump) aufgezeichneten Paketen, die hoffentlich bei Ihrer Fehlersuche nützlich sein können.</para>
<para>... mehr Beispiele in den nächsten Versionen...</para><sect2>
<title>Router-Erkennung</title>
<sect3>
<title>Router Advertisement</title>
<screen>
<![CDATA[15:43:49.484751 fe80::212:34ff:fe12:3450 > ff02::1: icmp6: router
¬ advertisement(chlim=64, router_ltime=30, reachable_time=0,
¬ retrans_time=0)(prefix info: AR valid_ltime=30, preffered_ltime=20,
¬ prefix=2002:0102:0304:1::/64)(prefix info: LAR valid_ltime=2592000,
¬ preffered_ltime=604800, prefix=2001:0db8:0:1::/64)(src lladdr:
¬ 0:12:34:12:34:50) (len 88, hlim 255)
]]></screen><para>Der Router mit der link-lokalen Adresse &rdquo;fe80::212:34ff:fe12:3450&rdquo; sendet eine Ankündigung mit zwei Präfixes &rdquo;2002:0102:0304:1::/64&rdquo; (Lebensdauer 30s) und &rdquo;2001:0db8:0:1::/64&rdquo; (Lebensdauer 2592000s) sowie der eigenen Schicht 2 MAC Adresse &rdquo;0:12:34:12:34:50&rdquo; an die all-node-on-link Multicast Adresse &rdquo;ff02::1&rdquo;.</para></sect3><sect3>
<title>Router Anfrage</title>
<screen>
<![CDATA[15:44:21.152646 fe80::212:34ff:fe12:3456 > ff02::2: icmp6: router solicitation
¬ (src lladdr: 0:12:34:12:34:56) (len 16, hlim 255)
]]></screen><para>Der Knoten mit der link-lokalen Adresse &rdquo;fe80:212:34ff:fe12:3456&rdquo; und der Schicht 2 MAC Adresse &rdquo;0:12:34:12:34:56&rdquo; sucht nach einem Router und sendet hierfür diese Anfrage an die all-router-on-link Multicast Adresse &rdquo;ff02::2&rdquo;.</para></sect3></sect2><sect2>
<title>Neighbor-Erkennung</title>
<sect3>
<title>Neighbor discovery solicitation zur Entdeckung doppelter Adressen</title>
<para>Folgende Pakete werden vom Knoten mit der Schicht 2 MAC Adresse &rdquo;0:12:34:12:34:56&rdquo; während der automatischen Konfiguration an die solicited-node link-lokale Multicast Adresse gesendet. Es wird überprüft, ob eine potentielle Adresse bereits von einem anderen Knoten am Link verwendet wird.</para><itemizedlist>
<listitem><para>Der Knoten will seine link-lokale Adresse &rdquo;fe80:212:34ff:fe12:3456&rdquo; konfigurieren und überprüft auf Duplikate</para></listitem></itemizedlist><screen>
<![CDATA[15:44:17.712338 :: > ff02::1:ff12:3456: icmp6: neighbor sol: who has
¬ fe80::212:34ff:fe12:3456(src lladdr: 0:12:34:12:34:56) (len 32, hlim 255)
]]></screen><itemizedlist>
<listitem><para>Der Knoten will seine globale Adresse &rdquo;2002:0102:0304:1:212:34ff:fe12:3456&rdquo; konfigurieren (nach Empfang eines Advertisements wie weiter oben abgebildet) und überprüft auf Duplikate</para></listitem></itemizedlist><screen>
<![CDATA[15:44:21.905596 :: > ff02::1:ff12:3456: icmp6: neighbor sol: who has
¬ 2002:0102:0304:1:212:34ff:fe12:3456(src lladdr: 0:12:34:12:34:56) (len 32,
¬ hlim 255)
]]></screen><itemizedlist>
<listitem><para>Der Knoten will seine globale Adresse &rdquo;2001:0db8:0:1:212:34ff:fe12:3456&rdquo; konfigurieren (nach Empfang eines Advertisements wie weiter oben abgebildet) und überprüft auf Duplikate</para></listitem></itemizedlist><screen>
<![CDATA[15:44:22.304028 :: > ff02::1:ff12:3456: icmp6: neighbor sol: who has
¬ 2001:0db8:0:1:212:34ff:fe12:3456(src lladdr: 0:12:34:12:34:56) (len 32, hlim
¬ 255)
]]></screen></sect3><sect3>
<title>Neighbor discovery solicitation zur Host oder Gateway-Suche</title>
<itemizedlist>
<listitem><para>Der Knoten möchte Pakete an die Adresse &rdquo;2001:0db8:0:1::10&rdquo; senden, hat hierfür aber keine Schicht 2 MAC Adresse und sendet aus diesem Grund zuerst eine Anfrage</para></listitem></itemizedlist><screen>
<![CDATA[13:07:47.664538 2002:0102:0304:1:2e0:18ff:fe90:9205 > ff02::1:ff00:10: icmp6:
¬ neighbor sol: who has 2001:0db8:0:1::10(src lladdr: 0:e0:18:90:92:5) (len 32,
¬ hlim 255)
]]></screen><itemizedlist>
<listitem><para>Der Knoten sucht nun nach der Adresse &rdquo;fe80::10&rdquo;</para></listitem></itemizedlist><screen>
<![CDATA[13:11:20.870070 fe80::2e0:18ff:fe90:9205 > ff02::1:ff00:10: icmp6: neighbor
¬ sol: who has fe80::10(src lladdr: 0:e0:18:90:92:5) (len 32, hlim 255)
]]></screen></sect3></sect2></sect1></chapter><chapter id='chapter-support-persistent-configuration' >
<title><!-- anchor id="chapter-support-persistent-configuration" -->Unterstützung einer ständigen IPv6-Konfiguration in Linux Distributionen</title>
<para>Einige Linux-Distributionen unterstützen bereits eine permanente IPv6 Konfiguration. Hierbei werden sowohl bestehende oder als auch neue Konfiguration- und Skriptdateien verwendet sowie tlw. IPv4 Skripte abgeändert.</para><sect1>
<title>Red Hat Linux und &rdquo;Klone&rdquo;</title>
<para>Seitdem der Autor begann das <ulink url="http://www.bieringer.de/linux/IPv6/">IPv6 &amp; Linux - HowTo</ulink> zu schreiben, war es seine Absicht eine permanente IPv6 Konfiguration zu ermöglichen, wobei die gebräuchlichsten Anwendungsszenarien wie Host-only, Router-only, Dual-homed-host, Router mit einem zweiten Netzwerkstrang, normale Tunnel, 6to4 Tunnel, etc. abgedeckt sein sollten. Heute gibt es eine Sammlung von Konfigurations- und Skriptdateien, die genau diesem Zweck erfüllen (es wurden nie echte Probleme gemeldet, allerdings ist unbekannt von wie vielen Personen dieses Set benutzt wird). Diese Dateien werden von Zeit zu Zeit erweitert und es gibt inzwischen eine eigene Homepage hierfür: <ulink url="http://www.deepspace6.net/projects/initscripts-ipv6.html">initscripts-ipv6 homepage</ulink> (<ulink url="http://mirrors.bieringer.de/www.deepspace6.net/projects/initscripts-ipv6.html">Spiegel</ulink>). Da der Autor seine ersten Schritte mit IPv6 auf einem Red Hat Linux 5.0 Klon gemacht habe, basieren seine IPv6 Entwicklungssysteme heute zumeist auf Red Hat Linux und die Skriptdateien sind folglich primär für diese Distributionen gedacht. Es war ebenfalls sehr einfach bestehende Konfigurationsdateien zu erweitern, neue zu erstellen und den Start des IPv6 Setup in das IPv4 Setup einzubetten.</para>
<para>Erfreulicherweise beinhaltet Red Hat Linux seit der Version 7.1 die IPv6-Skripts des Autors. Unterstützt wurde dies und wird auch weiterhin von Pekka Savola.</para>
<para>Bei Mandrake ist ab Version 8.0 ebenfalls ein IPv6-fähiges initscript Paket beinhaltet, ein kleiner Fehler verhindert aber nach wie vor die Anwendung (&rdquo;ifconfig&rdquo; vermisst &rdquo;inet6&rdquo; vor &rdquo;add&rdquo;).</para><sect2>
<title>Test der IPv6-Unterstützung bei Netzwerk-Konfigurations-Scripts</title>
<para>Sie können überprüfen, ob Ihre Distribution eine permanente IPv6 Konfiguration unter Verwendung der Skript-Sammlung des Autors unterstützt. Folgende script library sollte existieren:</para><screen>
<![CDATA[/etc/sysconfig/network-scripts/network-functions-ipv6
]]></screen><para>Automatischer Test:</para><screen>
<![CDATA[# test -f /etc/sysconfig/network-scripts/network-functions-ipv6 && echo "Main
¬ IPv6 script library exists"
]]></screen><para>Die Versionsnummer der Library ist von Interesse, wenn Sie Features vermissen sollten. Die Versionsnummer können Sie anzeigen, indem Sie folgenden Befehl ausführen (einfacher ist es sicherlich, wenn Sie im Header der Datei nachlesen):</para><screen>
<![CDATA[# source /etc/sysconfig/network-scripts/network-functions-ipv6 &&
¬ getversion_ipv6_functions 
20011124
]]></screen><para>Im obigen Beispiel ist die Versionsnummer 20011124. Um zu sehen, was sich inzwischen geändert hat, können Sie hier die neuesten Informationen nachlesen: <ulink url="http://www.deepspace6.net/projects/initscripts-ipv6.html">initscripts-ipv6 homepage</ulink> (<ulink url="http://mirrors.bieringer.de/www.deepspace6.net/projects/initscripts-ipv6.html">Spiegel</ulink>). Sie finden hier auch ein Change-Log.</para></sect2><sect2>
<title>Kurze Anleitung zum aktivieren von IPv6 bei RHL 7.1, 7.2, 7.3, ...</title>
<itemizedlist>
<listitem><para>Überprüfen Sie, ob das IPv6 Modul auf Ihrem System bereits geladen ist:</para></listitem></itemizedlist><screen>
<![CDATA[# modprobe -c | grep net-pf-10
alias net-pf-10 off
]]></screen><itemizedlist>
<listitem><para>Ist das Ergebnis &rdquo;off&rdquo;, dann aktivieren Sie IPv6 durch hinzufügen folgender Zeile in /etc/sysconfig/network</para></listitem></itemizedlist><screen>
<![CDATA[NETWORKING_IPV6=yes
]]></screen><itemizedlist>
<listitem><para>Rebooten bzw. starten Sie das Netzwerk neu mit dem Befehl</para></listitem></itemizedlist><screen>
<![CDATA[# service network restart
]]></screen><itemizedlist>
<listitem><para>Nun sollte das IPv6 Modul geladen sein</para></listitem></itemizedlist><screen>
<![CDATA[# modprobe -c | grep ipv6
alias net-pf-10 ipv6
]]></screen><para>Ist ihr System an einem Link, der Router Advertisements liefert, dann wird die automatische Konfiguration automatisch durchgeführt. Zusätzlich Informationen darüber, welche Einstellungen unterstützt werden finden Sie in der Datei /usr/share/doc/initscripts-$version/sysconfig.txt.</para></sect2></sect1><sect1>
<title>SuSE Linux</title>
<para>Seit neueren 7.x Versionen gibt es eine wirklich rudimentäre Unterstützung für IPv6, siehe /etc/rc.config für Details.</para>
<para>Aufgrund der komplett unterschiedlichen Struktur der Konfigurations- und Scriptdateien ist es sehr schwer (oder unmöglich) das Set für Red Hat Linux und seine Klone mit dieser Distribution zu verwenden.
In Version 8.x wurde das Konfigurations-Setup bei SuSE komplett abgeändert.</para><sect2>
<title>SuSE Linux 7.3</title>
<itemizedlist>
<listitem><para><ulink url="http://www.feyrer.de/IPv6/SuSE73-IPv6+6to4-setup.html">How to setup 6to4 IPv6 with SuSE 7.3</ulink></para></listitem></itemizedlist></sect2><sect2>
<title>SuSE Linux 8.0</title>
<sect3>
<title>IPv6-Adress-Konfiguration</title>
<para>Editiere Datei /etc/sysconfig/network/ifcfg-&lt;Interface-Name&gt; und setze folgende Variable entsprechend</para><screen>
<![CDATA[IP6ADDR="<ipv6-Adresse>/<prefix>"
]]></screen></sect3><sect3>
<title>Zusätzliche information</title>
<para>Siehe Datei /usr/share/doc/packages/sysconfig/README</para></sect3></sect2><sect2>
<title>SuSE Linux 8.1</title>
<sect3>
<title>IPv6-Adress-Konfiguration</title>
<para>Editiere Datei /etc/sysconfig/network/ifcfg-&lt;Interface-Name&gt; und setze folgende Variable entsprechend</para><screen>
<![CDATA[IPADDR="<ipv6-Adresse>/<prefix>"
]]></screen></sect3><sect3>
<title>Zusätzliche information</title>
<para>Siehe Datei /usr/share/doc/packages/sysconfig/Network </para></sect3></sect2></sect1><sect1 id='Configuration-Debian-Linux' >
<title><!-- anchor id="Configuration-Debian-Linux" -->Debian Linux</title>
<para>Folgende Information wurde von Stephane Bortzmeyer &lt;bortzmeyer at nic dot fr&gt; beigesteuert.</para><orderedlist>
<listitem><para>Überprüfe, ob IPv6 aktiv ist, entweder weil es in den Kernel hineinkompilier oder das Modul geladen wurde. Für die letzte Möglichkeit gibt es 3 Lösungen: Editieren der Datei /etc/modules, Benutzung des Features pre-up (siehe unten) oder Benutzung von kmod (wird hier nicht weiter erklärt).</para></listitem><listitem><para>Konfiguriere die Schnittstelle (hier im Beispiel: eth0). Editiere /etc/network/interfaces :</para></listitem></orderedlist><screen>
<![CDATA[iface eth0 inet6 static
        pre-up modprobe ipv6
        address 2001:0db8:1234:5::1:1
        # To suppress completely autoconfiguration:
        # up echo 0 > /proc/sys/net/ipv6/conf/all/autoconf
        netmask 64
        # The router is autoconfigured and has no fixed address.
        # It is magically
        # found. (/proc/sys/net/ipv6/conf/all/accept_ra). Otherwise:
        #gateway 2001:0db8:1234:5::1
]]></screen><para>Danach rebooten oder folgendes Kommando ausführen</para><screen>
<![CDATA[# ifup --force eth0
]]></screen><para>Danach sollte die statische IPv6-Adresse konfiguriert sein. </para><sect2>
<title>Weiterführende Informationen</title>
<itemizedlist>
<listitem><para><ulink url="http://ipv6.debian.net/">IPv6 with Debian Linux</ulink></para></listitem><listitem><para>Jean-Marc V. Liotier's <ulink url="http://www.ruwenzori.net/ipv6/Jims_LAN_IPv6_global_connectivity_howto.html">HOWTO for Freenet6 &amp; Debian Users</ulink> (am 24.12.2002 in der <link linkend="information-maillists">mailinglist</link> users@ipv6.org angekündigt)</para></listitem></itemizedlist></sect2></sect1></chapter><chapter id='chapter-autoconfiguration' >
<title><!-- anchor id="chapter-autoconfiguration" -->Automatische Konfiguration</title>
<sect1>
<title>Stateless Auto-Konfiguration (out-of-the-box)</title>
<para>Wird unterstützt und kann bei der zugewiesenen link-lokalen Adressen beobachtet werden, sobald ein IPv6 fähiges Interface aktiv ist.</para>
<para>Beispiel:</para><screen>
<![CDATA[# ip -6 addr show dev eth0 scope link
2: eth0: <BROADCAST,MULTICAST,UP> mtu 1500 qlen1000
    inet6 fe80::211:d8ff:fe6b:f0f5/64 scope link
       valid_lft forever preferred_lft forever 
]]></screen></sect1><sect1>
<title>Stateless Auto-Konfiguration unter Verwendung des Router Advertisement Daemon (radvd)</title>
<para>Mehr Infos hierzu in späteren Versionen. Siehe unten im Abschnitt <link linkend="hints-daemons-radvd">radvd daemon autoconfiguration</link>.</para></sect1><sect1>
<title>Dynamic Host Configuration Protocol v6 (DHCPv6)</title>
<para>Nach einer langen Zeit der Diskussion wurde <ulink url="http://www.faqs.org/rfcs/rfc3315.html">RFC 3315 / Dynamic Host Configuration Protocol for IPv6 (DHCPv6)</ulink> verabschiedet. Momentan (10/2005) existieren 2 Implementierungen:</para><itemizedlist>
<listitem><para><ulink url="http://klub.com.pl/dhcpv6/">Dibbler</ulink> von Tomasz Mrugalski &lt;thomson at klub dot com dot pl&gt;(<link linkend="hints-daemons-dibbler">Tipps zur Konfiguration</link>)</para></listitem><listitem><para><ulink url="https://fedorahosted.org/dhcpv6/">dhcpv6</ulink> (<link linkend="hints-daemons-dhcpv6.">Tipps zur Konfiguration</link>)</para></listitem><listitem><para><ulink url="http://www.isc.org/software/dhcp">ISC DHCP</ulink> (<link linkend="hints-daemons-isc-dhcp">Tipps zur Konfiguration</link>)</para></listitem></itemizedlist></sect1></chapter><chapter id='chapter-mobility' >
<title><!-- anchor id="chapter-mobility" -->Mobilität</title>
<sect1>
<title>Allgemeines</title>
<sect2>
<title>Mobilität eines Knotens (Node Mobility)</title>
<para>Die Unterstützung für IPv6-Mobilität in Linux kann durch die Installation der MIPL2-Implementierung aktviert werden, welche hier zu finden ist: <ulink url="http://www.mobile-ipv6.org/">http://www.mobile-ipv6.org/</ulink></para>
<para>Diese Implementierung ist konform zur RFC 3775. Sie besteht aus einem Kernel-Patch und einen Mobilitäts-Daemon (genannt mip6d). Die Version 2.0.1 passt für Linux kernel 2.6.15.</para>
<para>Installation und Setup sind im <ulink url="http://tldp.org/HOWTO/Mobile-IPv6-HOWTO/">Linux Mobile IPv6 HOWTO</ulink> beschrieben.</para></sect2><sect2>
<title>Netzwerk-Mobililtät</title>
<para>Zusätzlich existiert die Implementierung der Netzwerk-Mobilität für Linux, genannt NEPL, und basiert auf MIPL. Diese steht auch zur Verfügung unter: <ulink url="http://www.mobile-ipv6.org/">http://www.mobile-ipv6.org/</ulink>.</para>
<para>Folgendes HOWTO Dokument beschreibt Setup und Konfiguration: <ulink url="http://www.nautilus6.org/doc/nepl-howto/">http://www.nautilus6.org/doc/nepl-howto/</ulink>.</para></sect2><sect2>
<title>Links</title>
<itemizedlist>
<listitem><para>Mobile IPv6 for Linux (MIPL) project: <ulink url="http://www.mobile-ipv6.org/">http://www.mobile-ipv6.org/</ulink></para></listitem><listitem><para>Nautilus6 working group: <ulink url="http://nautilus6.org/">http://nautilus6.org/</ulink></para></listitem><listitem><para>Fast Handovers for Mobile IPv6 for Linux project: <ulink url="http://www.fmipv6.org/">http://www.fmipv6.org/</ulink></para></listitem><listitem><para>USAGI-patched Mobile IPv6 for Linux (UMIP):<ulink url="http://umip.linux-ipv6.org/">http://umip.linux-ipv6.org/</ulink></para></listitem><listitem><para>Deploying IPsec/IKE-protected MIPv6 under Linux:<ulink url="http://natisbad.org/MIPv6/">http://natisbad.org/MIPv6/</ulink></para></listitem><listitem><para><ulink url="http://www.faqs.org/rfcs/rfc3775.html">RFC 3775 / Mobility Support in IPv6</ulink></para></listitem><listitem><para><ulink url="http://www.faqs.org/rfcs/rfc3776.html">RFC 3776 / Using IPsec to Protect Mobile IPv6 Signaling Between Mobile Nodes and Home Agents</ulink></para></listitem><listitem><para><ulink url="http://www.faqs.org/rfcs/rfc3963.html">RFC 3963 / Network Mobility (NEMO)</ulink></para></listitem><listitem><para><ulink url="http://www.faqs.org/rfcs/rfc4068.html">RFC 4068 / Fast Handovers for Mobile IPv6</ulink></para></listitem><listitem><para><ulink url="http://www.faqs.org/rfcs/rfc4423.html">RFC 4423 / Host Identity Protocol (HIP) Architecture</ulink></para></listitem><listitem><para><ulink url="http://www.faqs.org/rfcs/rfc5201.html">RFC 5201 / Host Identity Protocol</ulink></para></listitem><listitem><para>HIP Implementierungen: <ulink url="http://infrahip.hiit.fi/">http://infrahip.hiit.fi/</ulink>, <ulink url="http://hip4inter.net/">http://hip4inter.net/</ulink>, <ulink url="http://www.openhip.org/">http://www.openhip.org/</ulink></para></listitem></itemizedlist></sect2></sect1></chapter><chapter id='chapter-firewalling-security' >
<title><!-- anchor id="chapter-firewalling-security" -->Firewall-Funktionalität</title>
<para>Die IPv6 Firewall-Funktionalität ist wichtig; vor allem dann, wenn Sie auf Ihren internen Netzen IPv6 mit globalen IPv6 Adressen einsetzen. In IPv6 werden - im Unterschied zu IPv4, wo interne Hosts automatisch durch private IPv6 Adressen geschützt werden (<ulink url="http://www.faqs.org/rfcs/rfc1918.html">RFC 1918 / Address Allocation for Private Internets</ulink> bzw. <ulink url="http://www.google.com/search?q=apipa+microsoft">Google search for Microsoft + APIPA</ulink>) - globale Adressen verwendet und jeder mit IPv6-Anbindung kann alle internen Knoten, bei denen IPv6 aktiv ist, erreichen.</para><sect1 id='firewalling-netfilter6.' >
<title><!-- anchor id="firewalling-netfilter6." -->Firewall-Funktionalität mit netfilter6 </title>
<para>Von Haus aus unterstützt wird die IPv6-Firewall-Funktionalität im Kernel erst ab Version 2.4+. In älteren 2.2+ Versionen können sie nur mit Protocol 41 das generelle Tunnel von IPv6-in-IPv4-Paketen filtern.</para>
<para>Achtung: Es gibt keine Garantie, dass die beschriebenen Regeln und Beispiele ihr System auch wirklich schützen können!</para>
<para>Beobachten Sie nach der Installation ihr Regelset, siehe Abschnitt <xref linkend="IPv6-security-auditing">.</para>
<para>Kernels ab Version 2.6.20 (Februar 2007) unterstützen den IPv6-Verbindungsstatus (connection tracking) vollständig.</para>
<para>Kernels ab Version 3.9.0 (April 2013) unterstützen NAT für IPv6 in Verbindung mit ip6tables &gt;= 1.4.18</para>
<para>Kernels ab Version 3.13 (April 2014) unterstützen ein neues Framework namens: nftables</para><sect2>
<title>Weitere Informationen</title>
<itemizedlist>
<listitem><para><ulink url="http://www.netfilter.org/">Netfilter project</ulink></para></listitem><listitem><para><ulink url="https://lists.netfilter.org/mailman/listinfo/netfilter">maillist archive of netfilter users</ulink></para></listitem><listitem><para><ulink url="https://lists.netfilter.org/mailman/listinfo/netfilter-devel">maillist archive of netfilter developers</ulink></para></listitem><listitem><para><ulink url="http://www.bieringer.de/linux/IPv6/status/IPv6+Linux-status-kernel.html#netfilter6 ">Unofficial status informations</ulink></para></listitem></itemizedlist></sect2></sect1><sect1>
<title>Vorbereitung</title>
<para>Dies ist nur notwendig, wenn der mitgelieferte Kernel und Netfilter nicht den Ansprüchen genügt und neue Featurs bereits verfügbar sind, jedoch noch nicht beinhaltet.</para><sect2>
<title>Quellen besorgen</title>
<para>Besorgen Sie sich den aktuellsten Kernel: <ulink url="http://www.kernel.org/">http://www.kernel.org/</ulink></para>
<para>Besorgen Sie sich das aktuellste iptables Paket:</para><itemizedlist>
<listitem><para>Source tarball (für Kernel Patches): <ulink url="http://www.netfilter.org/">http://www.netfilter.org/</ulink></para></listitem></itemizedlist></sect2><sect2>
<title>Quellen entpacken</title>
<para>Wechseln Sie in das Source-Verzeichnis: </para><screen>
<![CDATA[# cd /path/to/src 
]]></screen><para>Entpacken sie die Kernel-Quellen und vergeben diesen einen neuen Namen</para><screen>
<![CDATA[# tar z|jxf kernel-version.tar.gz|bz2 
# mv linux linux-version-iptables-version+IPv6 
]]></screen><para>Entpacken Sie die iptables Quellen</para><screen>
<![CDATA[# tar z|jxf iptables-version.tar.gz|bz2 
]]></screen></sect2><sect2>
<title>Neueste iptables/IPv6-relevante Patches den Kernel-Quellen hinzufügen</title>
<para>Wechseln Sie in das iptables Verzeichnis</para><screen>
<![CDATA[# cd iptables-version 
]]></screen><para>Fügen Sie relevante Patches hinzu</para><screen>
<![CDATA[# make pending-patches KERNEL_DIR=/path/to/src/linux-version-iptables-version/ 
]]></screen><para>Fügen Sie zusätzliche IPv6 relevante IPv6 Patches hinzu (die nach wie vor nicht im Standard-Kernel enthalten sind)</para><screen>
<![CDATA[# make patch-o-matic KERNEL_DIR=/path/to/src/linux-version-iptables-version/ 
]]></screen><para>Sagen Sie zu folgenden Optionen (iptables-1.2.2) Ja:</para><itemizedlist>
<listitem><para>ah-esp.patch </para></listitem><listitem><para>masq-dynaddr.patch (nur benötigt bei Systemen mit dynamischer IP-Zuweisung am WAN mittels PPP oder PPPoE) </para></listitem><listitem><para>ipv6-agr.patch.ipv6 </para></listitem><listitem><para>ipv6-ports.patch.ipv6 </para></listitem><listitem><para>LOG.patch.ipv6 </para></listitem><listitem><para>REJECT.patch.ipv6 </para></listitem></itemizedlist><para>Überprüfen Sie die Erweiterungen</para><screen>
<![CDATA[# make print-extensions 
Extensions found: IPv6:owner IPv6:limit IPv6:mac IPv6:multiport
]]></screen></sect2><sect2>
<title>Konfiguration, kompilieren und Installation eines neues Kernels</title>
<para>Wechseln Sie zu den Kernel-Quellen</para><screen>
<![CDATA[# cd /path/to/src/linux-version-iptables-version/ 
]]></screen><para>Editieren Sie das Makefile</para><screen>
<![CDATA[- EXTRAVERSION = 
+ EXTRAVERSION = -iptables-version+IPv6-try 
]]></screen><para>Starten Sie configure und aktivieren Sie IPv6 relevante Optionen</para><screen>
<![CDATA[            Code maturity level options 
                  Prompt for development and/or incomplete code/drivers : yes 
            Networking options 
                  Network packet filtering: yes 
                  The IPv6 protocol: module 
                       IPv6: Netfilter Configuration 
                             IP6 tables support: module 
                             All new options like following: 
                                   limit match support: module 
                                   MAC address match support: module 
                                   Multiple port match support: module 
                                   Owner match support: module 
                                   netfilter MARK match support: module 
                                   Aggregated address check: module 
                                   Packet filtering: module 
                                        REJECT target support: module 
                                        LOG target support: module 
                                   Packet mangling: module 
                                   MARK target support: module 
]]></screen><para>Konfigurieren Sie bei Bedarf Sonstiges abseits von IPv6.</para>
<para>Kompilieren und Installation: siehe Kapitel Kernel sowie andere HOWTOs.</para></sect2><sect2>
<title>iptables neu kompilieren und installieren</title>
<para>Stellen Sie sicher, dass obige Kernel-Sourceverzeichnisstruktur unter /usr/src/linux liegt</para>
<para>Benennen sie das ältere Verzeichnis um</para><screen>
<![CDATA[# mv /usr/src/linux /usr/src/linux.old 
]]></screen><para>Erstellen Sie einen neuen symbolischen Link</para><screen>
<![CDATA[# ln -s /path/to/src/linux-version-iptables-version /usr/src/linux 
]]></screen><para>Erstellen Sie ein neues SRPMS</para><screen>
<![CDATA[# rpm --rebuild /path/to/SRPMS/iptables-version-release.src.rpm 
]]></screen><para>Installieren Sie das neue iptables Paket (iptables + iptables-ipv6)</para><itemizedlist>
<listitem><para>Bei RH 7.1 Systemen ist normalerweise eine ältere Version hiervon bereits installiert, verwenden Sie daher die Option &rdquo;Freshen&rdquo;:</para></listitem></itemizedlist><screen>
<![CDATA[# rpm -Fhv /path/to/RPMS/cpu/iptables*-version-release.cpu.rpm 
]]></screen><itemizedlist>
<listitem><para>Ist keine ältere Version installiert, benutzen Sie die Option &rdquo;install&rdquo;:</para></listitem></itemizedlist><screen>
<![CDATA[# rpm -ihv /path/to/RPMS/cpu/iptables*-version-release.cpu.rpm 
]]></screen><itemizedlist>
<listitem><para>Bei RH 6.2 Systemen ist normalerweise kein Kernel Version 2.4.x installiert und die Anforderungen sind demnach nicht gegeben. Benutzen Sie in diesem Fall &rdquo;nodeps&rdquo;:</para></listitem></itemizedlist><screen>
<![CDATA[# rpm -ihv --nodeps /path/to/RPMS/cpu/iptables*-version-release.cpu.rpm 
]]></screen><para>Damit iptables die Libraries finden kann, ist es eventuell notwendig, einen symbolischen Link für die iptables Libraries zu erstellen:</para><screen>
<![CDATA[# ln -s /lib/iptables/ /usr/lib/iptables 
]]></screen></sect2></sect1><sect1>
<title>Verwendung</title>
<sect2>
<title>Unterstützung im Kernel</title>
<para>Laden Sie das Modul (falls dies im Kernel so kompiliert wurde):</para><screen>
<![CDATA[# modprobe ip6_tables 
]]></screen><para>Überprüfen der IPv6-Unterstützung:</para><screen>
<![CDATA[# [ ! -f /proc/net/ip6_tables_names ] && echo "Current kernel doesn't support
¬ 'ip6tables' firewalling (IPv6)!" 
]]></screen></sect2><sect2>
<title>Die Benützung von iptables lernen</title>
<sect3>
<title>Auflistung aller netfilter Einträge </title>
<itemizedlist>
<listitem><para>Kurze Auflistung:</para></listitem></itemizedlist><screen>
<![CDATA[# ip6tables -L 
]]></screen><itemizedlist>
<listitem><para>Erweiterte Auflistung:</para></listitem></itemizedlist><screen>
<![CDATA[# ip6tables -n -v --line-numbers -L 
]]></screen></sect3><sect3>
<title>Auflistung angegebener Filter </title>
<screen>
<![CDATA[# ip6tables -n -v --line-numbers -L INPUT 
]]></screen></sect3><sect3>
<title>Hinzufügen einer Log-Regel zum Input-Filter mit Optionen </title>
<screen>
<![CDATA[# ip6tables --table filter --append INPUT  -j LOG --log-prefix "INPUT:"
¬ --log-level 7 
]]></screen></sect3><sect3>
<title>Hinzufügen einer Drop-Regel zum Input-Filter </title>
<screen>
<![CDATA[# ip6tables --table filter --append INPUT  -j DROP 
]]></screen></sect3><sect3>
<title>Löschen einer Regel mit Hilfe der Regelnummer </title>
<screen>
<![CDATA[# ip6tables --table filter --delete INPUT 1 
]]></screen></sect3><sect3>
<title>Aktiviere die Auswertung des Verbindungsstatus (connection tracking)</title>
<para>Seit Kernel-Version 2.6.20 ist die Auswertung des IPv6-Verbindungsstatus gut unterstützt. Die bis dahin statuslosen Filterregeln sollten ersetzt werden..</para><screen>
<![CDATA[# ip6tables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
]]></screen></sect3><sect3>
<title>ICMPv6 erlauben</title>
<para>Bei älteren Kernelversionen (unpatched kernel 2.4.5 und iptables-1.2.2) kann keine nähere Spezifizierung des ICMPv6-Typs vorgenommen werden:</para><itemizedlist>
<listitem><para>Eingehender ICMPv6 Verkehr durch Tunnel erlauben</para></listitem></itemizedlist><screen>
<![CDATA[# ip6tables -A INPUT -i sit+ -p icmpv6 -j ACCEPT 
]]></screen><itemizedlist>
<listitem><para>Ausgehenden ICMPv6 Verkehr durch Tunnel erlauben</para></listitem></itemizedlist><screen>
<![CDATA[# ip6tables -A OUTPUT -o sit+ -p icmpv6 -j ACCEPT 
]]></screen><para>Neuere Kernel erlauben das Spezifizieren des ICMPv6-Typs:</para><screen>
<![CDATA[# ip6tables -A INPUT -p icmpv6 --icmpv6-type echo-request -j ACCEPT
]]></screen></sect3><sect3>
<title>Rate-limiting</title>
<para>Da es zu einem ICMPv6 Storm kommen kann (der Autor hat dies bereits mehrfach beobachtet), sollten sie das rate limiting zumindest für das ICMP Regelset einsetzen. Zusätzlich sollten auch die Logging Regeln mit rate limiting geschützt werden, um DoS Attacken gegen das syslog sowie gegen die Logdateien enthaltenden Patitionen entgegenzuwirken. Ein Beispiel für ein rate limited ICMPv6 sieht wie folgt aus: </para><screen>
<![CDATA[# ip6tables -A INPUT --protocol icmpv6 --icmpv6-type echo-request
¬ -j ACCEPT --match limit --limit 30/minute
]]></screen></sect3><sect3>
<title>Eingehende SSH-Verbindung erlauben</title>
<para>Im folgenden Beispiel werden eingehende SSH-Verbindungen von einer speziellen IPv6 Adresse zugelassen:</para><itemizedlist>
<listitem><para>Eingehende SSH Verbindungen werden von der Adresse 2001:0db8:100::1/128 erlaubt</para></listitem></itemizedlist><screen>
<![CDATA[# ip6tables -A INPUT -i sit+ -p tcp -s 2001:0db8:100::1/128 --sport 512:65535
¬ --dport 22 -j ACCEPT 
]]></screen><itemizedlist>
<listitem><para>Erlaube Antwortpakete (nicht mehr notwendig, wenn der IPv6-Verbindungsstatus ausgewertet wird!)</para></listitem></itemizedlist><screen>
<![CDATA[# ip6tables -A OUTPUT -o sit+ -p tcp -d 2001:0db8:100::1/128 --dport 512:65535
¬ --sport 22 ! --syn -j ACCEPT 
]]></screen></sect3><sect3>
<title>Getunnelten IPv6-in-IPv4 Datenverkehr erlauben</title>
<para>Um getunnelte IPv6-in-IPv4 Pakete zu akzeptieren, müssen Sie in Ihrem IPv4 Firewall-Setup entsprechende Regeln einzufügen, z.B.</para><itemizedlist>
<listitem><para>Akzeptiere eingehende IPv6-in-IPv4 Daten am interface ppp0</para></listitem></itemizedlist><screen>
<![CDATA[# iptables -A INPUT -i ppp0 -p ipv6 -j ACCEPT 
]]></screen><itemizedlist>
<listitem><para>Akzeptiere ausgehende IPv6-in-IPv4 Daten am interface ppp0</para></listitem></itemizedlist><screen>
<![CDATA[# iptables -A OUTPUT -o ppp0 -p ipv6 -j ACCEPT 
]]></screen><para>Haben Sie nur einen statischen Tunnel, dann können sie die IPv4 Adresse auch dediziert angeben:</para><itemizedlist>
<listitem><para>Akzeptiere eingehende IPv6-in-IPv4 Daten vom Tunnel-Endpunkt 192.0.2.2 am interface ppp0</para></listitem></itemizedlist><screen>
<![CDATA[# iptables -A INPUT -i ppp0 -p ipv6 -s 192.0.2.2 -j ACCEPT 
]]></screen><itemizedlist>
<listitem><para>Akzeptiere ausgehende IPv6-in-IPv4 Daten vom Tunnel-Endpunkt 192.0.2.2 am interface ppp0</para></listitem></itemizedlist><screen>
<![CDATA[# iptables -A OUTPUT -o ppp0 -p ipv6 -d 192.0.2.2 -j ACCEPT 
]]></screen></sect3><sect3>
<title>Schutz gegen eingehende TCP-Verbindungs-Anfragen</title>
<para>SEHR EMPFOHLEN! Aus Sicherheitsgründen sollten Sie auf jeden Fall eine Regel inkludieren, wodurch eingehende TCP-Verbindungs-Anfragen geblockt werden. Wenn Sie andere Interfacenamen verwenden, müssen Sie die Option "-i" entsprechend anpassen! </para><itemizedlist>
<listitem><para>Blockiere eingehende TCP-Verbindungs-Anfragen zu diesem Host</para></listitem></itemizedlist><screen>
<![CDATA[# ip6tables -I INPUT -i sit+ -p tcp --syn -j DROP 
]]></screen><itemizedlist>
<listitem><para>Blockiere eingehende TCP-Verbindungs-Anfragen zu Hosts hinter diesem Router</para></listitem></itemizedlist><screen>
<![CDATA[# ip6tables -I FORWARD -i sit+ -p tcp --syn -j DROP 
]]></screen><para>Eventuell müssen diese Regeln unterhalb anderer Regeln platziert werden. Nehmen Sie sich für die Reihenfolge der Regeln etwas Zeit. Sinnvoll wird es auch sein, ein Script mit den Regeln zu erstellen, damit die Regeln in der gewünschten Reihenfolge angewendet werden.</para></sect3><sect3>
<title>Schutz gegen eingehende UDP-Verbindungs-Anfragen</title>
<para>EBENFALLS SEHR EMPHOLEN! Wie bereits im Kapitel Firewall erwähnt, ist es möglich die Ports bei ausgehenden UDP/TCP-Verbindungen zu kontrollieren. Im Falle, dass all Ihre IPv6 Systeme lokale Ports verwenden, z.B. von 32768 bis 60999, dann können sie ebenfalls UDP Verbindungen filtern (bis das Verbindungs-Tracking funktioniert):</para><itemizedlist>
<listitem><para>Blockiere eingehende UDP-Pakete, die nicht Antworten ausgehender Anfragen dieses Host sein können</para></listitem></itemizedlist><screen>
<![CDATA[# ip6tables -I INPUT -i sit+ -p udp ! --dport 32768:60999 -j DROP 
]]></screen><itemizedlist>
<listitem><para>Blockiere eingehende UDP-Pakete, die nicht Antworten auf Anfragen von hinter diesem Router gelegenen Hosts sein können</para></listitem></itemizedlist><screen>
<![CDATA[# ip6tables -I FORWARD -i sit+ -p udp ! --dport 32768:60999 -j DROP 
]]></screen></sect3></sect2><sect2>
<title>Anwendungsbeispiele</title>
<sect3>
<title>Einfaches Beispiel für Fedora</title>
<para>Folgende Zeilen zeigen eine einfache Firewall-Konfiguration für Fedora 6 (ab Kernel-Version 2.6.20). Ausgehend von dem Origina (generiert durch system-config-firewall) wurden Modifikationen für die Unterstützung des Verbindungsstatus und der Rückgabe der passenden ICMPv6-Meldung für Rejects. Eingehende SSH (Port 22) Verbindungen sind erlaubt.</para><screen>
<![CDATA[Datei: /etc/sysconfig/ip6tables

*filter :INPUT ACCEPT [0:0]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [0:0]
:RH-Firewall-1-INPUT - [0:0]
-A INPUT -j RH-Firewall-1-INPUT
-A FORWARD -j RH-Firewall-1-INPUT
-A RH-Firewall-1-INPUT -i lo -j ACCEPT
-A RH-Firewall-1-INPUT -p icmpv6 -j ACCEPT
-A RH-Firewall-1-INPUT -p 50 -j ACCEPT
-A RH-Firewall-1-INPUT -p 51 -j ACCEPT
-A RH-Firewall-1-INPUT -p udp --dport 5353 -d ff02::fb -j ACCEPT
-A RH-Firewall-1-INPUT -p udp -m udp --dport 631 -j ACCEPT 
-A RH-Firewall-1-INPUT -p tcp -m tcp --dport 631 -j ACCEPT
-A RH-Firewall-1-INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
-A RH-Firewall-1-INPUT -m state --state NEW -p tcp --dport 22 -j ACCEPT
-A RH-Firewall-1-INPUT -j REJECT --reject-with icmp6-adm-prohibited
COMMIT 
]]></screen><para>Zwecks der Vollständigkeit ist hier auch die entsprechende Konfiguration für IPv4 gezeigt:</para><screen>
<![CDATA[Datei: /etc/sysconfig/iptables

*filter :INPUT ACCEPT [0:0]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [0:0]
:RH-Firewall-1-INPUT - [0:0]
-A INPUT -j RH-Firewall-1-INPUT
-A FORWARD -j RH-Firewall-1-INPUT
-A RH-Firewall-1-INPUT -i lo -j ACCEPT
-A RH-Firewall-1-INPUT -p icmp --icmp-type any -j ACCEPT
-A RH-Firewall-1-INPUT -p 50 -j ACCEPT
-A RH-Firewall-1-INPUT -p 51 -j ACCEPT
-A RH-Firewall-1-INPUT -p udp --dport 5353 -d 224.0.0.251 -j ACCEPT
-A RH-Firewall-1-INPUT -p udp -m udp --dport 631 -j ACCEPT
-A RH-Firewall-1-INPUT -p tcp -m tcp --dport 631 -j ACCEPT
-A RH-Firewall-1-INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
-A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT
-A RH-Firewall-1-INPUT -j REJECT --reject-with icmp-host-prohibited
COMMIT 
]]></screen><para>Benutzung:</para><itemizedlist>
<listitem><para>Erzeugen/Modifizieren der Konfigurationsdateien</para></listitem><listitem><para>Aktivieren von IPv4 &amp; IPv6 Firewalling</para></listitem></itemizedlist><screen>
<![CDATA[# service iptables start
# service ip6tables start
]]></screen><itemizedlist>
<listitem><para>Aktivieren des automatischen Starts nach dem Reboot</para></listitem></itemizedlist><screen>
<![CDATA[# chkconfig iptables on
# chkconfig ip6tables on
]]></screen></sect3><sect3>
<title>Umfangreicheres Beispiel</title>
<para>Folgende Zeilen zeigen ein umfangreicheres Setup. Happy netfilter6 Regelset erstellen...</para><screen>
<![CDATA[# ip6tables -n -v -L 
Chain INPUT (policy DROP 0 packets, 0 bytes) 
 pkts bytes target     prot opt in     out     source               destination
    0     0 extIN      all      sit+   *       ::/0                 ::/0 
    4   384 intIN      all      eth0   *       ::/0                 ::/0 
    0     0 ACCEPT     all      *      *       ::1/128              ::1/128 
    0     0 ACCEPT     all      lo     *       ::/0                 ::/0 
    0     0 LOG        all      *      *       ::/0                 ::/0       
¬        LOG flags 0 level 7 prefix `INPUT-default:' 
    0     0 DROP       all      *      *       ::/0                 ::/0 
 
Chain FORWARD (policy DROP 0 packets, 0 bytes) 
 pkts bytes target     prot opt in     out     source               destination
¬ 
    0     0 int2ext    all      eth0   sit+    ::/0                 ::/0 
    0     0 ext2int    all      sit+   eth0    ::/0                 ::/0 
    0     0 LOG        all      *      *       ::/0                 ::/0       
¬        LOG flags 0 level 7 prefix `FORWARD-default:' 
    0     0 DROP       all      *      *       ::/0                 ::/0 
 
Chain OUTPUT (policy DROP 0 packets, 0 bytes) 
 pkts bytes target     prot opt in     out     source               destination
¬ 
    0     0 extOUT     all      *      sit+    ::/0                 ::/0 
    4   384 intOUT     all      *      eth0    ::/0                 ::/0 
    0     0 ACCEPT     all      *      *       ::1/128              ::1/128 
    0     0 ACCEPT     all      *      lo      ::/0                 ::/0 
    0     0 LOG        all      *      *       ::/0                 ::/0       
¬        LOG flags 0 level 7 prefix `OUTPUT-default:' 
    0     0 DROP       all      *      *       ::/0                 ::/0 
 
Chain ext2int (1 references) 
 pkts bytes target     prot opt in     out     source               destination
¬ 
    0     0 ACCEPT     icmpv6    *      *       ::/0                 ::/0 
    0     0 ACCEPT     tcp      *      *       ::/0                 ::/0       
¬        tcp spts:1:65535 dpts:1024:65535 flags:!0x16/0x02 
    0     0 LOG        all      *      *       ::/0                 ::/0       
¬        LOG flags 0 level 7 prefix `ext2int-default:' 
    0     0 DROP       tcp      *      *       ::/0                 ::/0 
    0     0 DROP       udp      *      *       ::/0                 ::/0 
    0     0 DROP       all      *      *       ::/0                 ::/0 
 
Chain extIN (1 references) 
 pkts bytes target     prot opt in     out     source               destination
¬ 
    0     0 ACCEPT     tcp      *      *       3ffe:400:100::1/128  ::/0       
¬        tcp spts:512:65535 dpt:22 
    0     0 ACCEPT     tcp      *      *       3ffe:400:100::2/128  ::/0       
¬        tcp spts:512:65535 dpt:22 
    0     0 ACCEPT     icmpv6    *      *       ::/0                 ::/0 
    0     0 ACCEPT     tcp      *      *       ::/0                 ::/0       
¬        tcp spts:1:65535 dpts:1024:65535 flags:!0x16/0x02 
    0     0 ACCEPT     udp      *      *       ::/0                 ::/0       
¬        udp spts:1:65535 dpts:1024:65535 
    0     0 LOG        all      *      *       ::/0                 ::/0       
¬        limit: avg 5/min burst 5 LOG flags 0 level 7 prefix `extIN-default:' 
    0     0 DROP       all      *      *       ::/0                 ::/0 
 
Chain extOUT (1 references) 
 pkts bytes target     prot opt in     out     source               destination
¬ 
    0     0 ACCEPT     tcp      *      *       ::/0                
¬ 2001:0db8:100::1/128tcp spt:22 dpts:512:65535 flags:!0x16/0x02 
    0     0 ACCEPT     tcp      *      *       ::/0                
¬ 2001:0db8:100::2/128tcp spt:22 dpts:512:65535 flags:!0x16/0x02 
    0     0 ACCEPT     icmpv6    *      *       ::/0                 ::/0 
    0     0 ACCEPT     tcp      *      *       ::/0                 ::/0       
¬        tcp spts:1024:65535 dpts:1:65535 
    0     0 ACCEPT     udp      *      *       ::/0                 ::/0       
¬        udp spts:1024:65535 dpts:1:65535 
    0     0 LOG        all      *      *       ::/0                 ::/0       
¬        LOG flags 0 level 7 prefix `extOUT-default:' 
    0     0 DROP       all      *      *       ::/0                 ::/0 
 
Chain int2ext (1 references) 
 pkts bytes target     prot opt in     out     source               destination
¬ 
    0     0 ACCEPT     icmpv6    *      *       ::/0                 ::/0 
    0     0 ACCEPT     tcp      *      *       ::/0                 ::/0       
¬        tcp spts:1024:65535 dpts:1:65535 
    0     0 LOG        all      *      *       ::/0                 ::/0       
¬        LOG flags 0 level 7 prefix `int2ext:' 
    0     0 DROP       all      *      *       ::/0                 ::/0 
    0     0 LOG        all      *      *       ::/0                 ::/0       
¬        LOG flags 0 level 7 prefix `int2ext-default:' 
    0     0 DROP       tcp      *      *       ::/0                 ::/0 
    0     0 DROP       udp      *      *       ::/0                 ::/0 
    0     0 DROP       all      *      *       ::/0                 ::/0 
 
Chain intIN (1 references) 
 pkts bytes target     prot opt in     out     source               destination
¬ 
    0     0 ACCEPT     all      *      *       ::/0                
¬ fe80::/ffc0:: 
    4   384 ACCEPT     all      *      *       ::/0                 ff02::/16 
 
Chain intOUT (1 references) 
 pkts bytes target     prot opt in     out     source               destination
¬ 
    0     0 ACCEPT     all      *      *       ::/0                
¬ fe80::/ffc0:: 
    4   384 ACCEPT     all      *      *       ::/0                 ff02::/16 
    0     0 LOG        all      *      *       ::/0                 ::/0       
¬        LOG flags 0 level 7 prefix `intOUT-default:' 
    0     0 DROP       all      *      *       ::/0                 ::/0 
]]></screen></sect3></sect2></sect1><sect1 id='nat-netfilter6.' >
<title><!-- anchor id="nat-netfilter6." -->Network Address Translation (NAT) mit netfilter6 </title>
<para>Seit mindestens Linux Kernel-Version 3.9.0 und ip6tables ab 1.4.18 kann Network Address Translation (NAT) genutzt werden.</para><sect2>
<title>IPv6 Maskierung</title>
<para>Wie bei IPv4 können Systeme hinter einem Router versteckt werden mit Hilfe von IPv6 Maskierung (hide/overlap NAT), z.B.</para><screen>
<![CDATA[# ip6tables -t nat -A POSTROUTING -o sixxs -s fec0::/64 -j MASQUERADE
]]></screen></sect2><sect2>
<title>IPv6 Destination NAT</title>
<para>Eine dedizierte öffentliche IPv6-Adresse kann zu einer internen IPv6-Adresse weitergeleitet werden, z.B.</para><screen>
<![CDATA[# ip6tables -t nat -A PREROUTING -d 2001:db8:0:1:5054:ff:fe01:2345 -i sixxs -j DNAT --to-destination fec0::5054:ff:fe01:2345
]]></screen></sect2><sect2>
<title>IPv6 Port Weiterleitung</title>
<para>Ein dedizierter Port kann zu einem internen System weitergeleitet werden, z.B.</para><screen>
<![CDATA[# ip6tables -t nat -A PREROUTING -i sixxs -p tcp --dport 8080 -j DNAT --to-destination [fec0::1234]:80
]]></screen></sect2></sect1><sect1>
<title>Firewall-Setup mit nftables</title>
<para>Mit nftables wurde die Unterstützung einer Tabelle names &rdquo;inet&rdquo; eingeführt in welcher Regeln für IPv4/IPv6 gleichzeitig gelten</para><sect2>
<title>Präparation zur Nutzung von nftables</title>
<para>Installieren einer Linux-Distribution, welche die Unterstützung für nftables bereits eingebaut hat. Beim Schreiben dieses Absatzes (Mai 2014) war mindestens Fedora Rawhide (Vorläufer der Version 21) mit entsprechendem Support und nftables version 0.2.0 versehen.</para></sect2><sect2>
<title>Basis-nftables Konfiguration</title>
<para>Laden der Kernel-Module:</para><screen>
<![CDATA[# modprobe nf_tables
# modprobe nf_tables_ipv4
# modprobe nf_tables_ipv6
# modprobe nf_tables_inet 
]]></screen><para>Löschen der Regeln in iptables and ip6tables um Interferenzen zu vermeiden:</para><screen>
<![CDATA[# iptables -F
# ip6tables -F
]]></screen><para>Erzeugen der Filter-Tabelle:</para><screen>
<![CDATA[# nft add table inet filter 
]]></screen><para>Erzeugen einer input chain in der Filter-Tabelle:</para><screen>
<![CDATA[# nft add chain inet filter input { type filter hook input priority 0 \; }
]]></screen></sect2><sect2>
<title>Einfache Filter-Policy mit nftables</title>
<sect3>
<title>Konfiguration</title>
<para>Erlauben von Paketen, die zu existierenden Einträgen in der Connection-Tracking-Tabelle gehören</para><screen>
<![CDATA[# nft add rule inet filter input ct state established,related counter accept 
]]></screen><para>Erlauben von IPv4 und IPv6 ICMP echo-request (aka ping)</para><screen>
<![CDATA[# nft add rule inet filter input meta nfproto ipv4 icmp type { echo-request } counter accept
# nft add rule inet filter input meta nfproto ipv6 icmpv6 type echo-request counter accept 
]]></screen><para>Erlauben einiger wichtiger IPv6 ICMP Pakete, ohne Zähler, dafür mit Hop-Limit-Prüfung (erhöht die Sicherheit)</para><screen>
<![CDATA[# nft add rule inet filter input meta nfproto ipv6
¬  icmpv6 type { nd-neighbor-advert, nd-neighbor-solicit, nd-router-advert} ip6 hoplimit 1 accept
# nft add rule inet filter input meta nfproto ipv6
¬  icmpv6 type { nd-neighbor-advert, nd-neighbor-solicit, nd-router-advert} ip6 hoplimit 255 counter accept
]]></screen><para>Erlauben von eingehenden SSH-Verbindungen für IPv4 und IPv6</para><screen>
<![CDATA[# nft add rule inet filter input tcp dport 22 ct state new tcp flags \& \(syn \| ack\) == syn counter accept
]]></screen><para>Reject/drop anderer Pakete</para><screen>
<![CDATA[# nft add rule inet filter input tcp dport 0-65535 reject
# nft add rule inet filter input udp dport 0-65535 counter drop
# nft add rule inet filter input counter drop
]]></screen></sect3><sect3>
<title>Ergebnis</title>
<para>Tabelle für IP unabhängigen Filter</para><screen>
<![CDATA[table inet filter {
	chain input {
		 type filter hook input priority 0;
		 ct state established,related counter packets 0 bytes 0 accept
		 ip protocol icmp icmp type { echo-request} counter packets 0 bytes 0 accept
		 ip6 nexthdr ipv6-icmp icmpv6 type echo-request counter packets 0 bytes 0 accept
		 ip6 nexthdr ipv6-icmp ip6 hoplimit 1 icmpv6 type { nd-neighbor-advert, nd-neighbor-solicit, nd-router-advert} accept
		 ip6 nexthdr ipv6-icmp ip6 hoplimit 255 icmpv6 type { nd-neighbor-advert, nd-neighbor-solicit, nd-router-advert} accept
		 tcp dport ssh ct state new tcp flags & (syn | ack) == syn counter packets 0 bytes 0 accept
		 tcp dport >= 0 tcp dport <= 65535 counter packets 0 bytes 0 reject
		 udp dport >= 0 udp dport <= 65535 counter packets 0 bytes 0 drop
		 log prefix counter packets 0 bytes 0 drop
	}
} 
]]></screen></sect3><sect3>
<title>Tipps für's Loggen</title>
<para>Für Logging wird ein zusätzliches Kernelmodul benötigt:</para><screen>
<![CDATA[# modprobe xt_LOG
]]></screen><para>ACHTUNG, MOMENTAN KANN DER LOG-LEVEL NICHT ANGEGEBEN WERDEN, dadurch werden nftables-Ereignisse mit Log-Level kern.emerg ausgegeben - ES BESTEHT DIE GEFAHR, DASS DIE KONSOLE DADURCH ÜBERFLUTET WIRD!</para>
<para>Für erste Tests mit der Log-Option kann es nützlich sein, das Loggens für emergency-Ereignisse in z.B. /etc/rsyslog.conf zu deaktivieren mit Hilfe eines &rdquo;#&rdquo; am Anfang der Zeile und Neustart des logging-Daemons</para><screen>
<![CDATA[#*.emerg    :omusrmsg:* 
]]></screen><para>Regel von oben, welche SSH auf Port 22 erlaubt, nun mit Logging:</para><screen>
<![CDATA[# nft add rule inet filter input tcp dport 22 ct state new tcp flags \& \(syn \| ack\) == syn log prefix \"inet/input/accept: \" counter accept
]]></screen></sect3></sect2><sect2>
<title>Filter-Policy mit nftables unter Benutzung der Tablellen &rdquo;ip&rdquo;, &rdquo;ip6&rdquo; und &rdquo;inet&rdquo;</title>
<para>Wie oben schon beschrieben, wenn die Regeln in den einzelnen Tabellen konfiguriert werden, muss gesichert sein, dass frühere &rdquo;accepts&rdquo; nicht aufgehoben werden. Eine einfache Lösung ist die Benutzung von Markierungen. Regeln, die Pakete erlauben, setzen die Marke mit &rdquo;meta mark set xxxx&rdquo;. Eine generische Regel erlaubt Pakete mit gesetzter Marke &rdquo;mark xxxx&rdquo;. Beispiel für ein resultierendes Filter-Regelwerk:</para><screen>
<![CDATA[# for table in ip ip6 inet; do nft list table $table filter; done
table ip filter {
	chain input {
		 type filter hook input priority 0;
		 ct state established,related counter packets 241 bytes 25193 accept
		 counter packets 2 bytes 120 mark 0x00000100 accept
		 icmp type { echo-request} counter packets 0 bytes 0 meta mark set 0x00000100 accept
	}
}
table ip6 filter {
	chain input {
		 type filter hook input priority 0;
		 ct state established,related counter packets 14 bytes 4077 accept
		 counter packets 4 bytes 408 mark 0x00000100 accept
		 icmpv6 type echo-request counter packets 1 bytes 104 meta mark set 0x00000100
		 icmpv6 type { nd-neighbor-advert, nd-neighbor-solicit, nd-router-advert} counter packets 2 bytes 224 meta mark set 0x00000100 accept
	}
}
table inet filter {
	chain input {
		 type filter hook input priority 0;
		 ct state established,related counter packets 307 bytes 31974 accept
		 counter packets 6 bytes 528 mark 0x00000100 accept
		 tcp dport ssh ct state new tcp flags & (syn | ack) == syn log prefix "inet/input/accept: " meta mark set 0x00000100 counter packets 3 bytes 200 accept
		 log prefix "inet/input/reject: " counter packets 0 bytes 0 reject
	}
}
]]></screen></sect2></sect1></chapter><chapter id='chapter-security' >
<title><!-- anchor id="chapter-security" -->Sicherheit</title>
<sect1>
<title>Sicherheit des Knoten</title>
<para>Es wird sehr empfohlen alle verfügbaren Patches einzuspielen sowie alle nicht benötigten Dienste zu deaktivieren. Ebenfalls sollten Sie lokales firewalling aktivieren und binden Sie die Dienste ausschließlich an benötigte IPv4/IPv6 Adressen.</para>
<para>Mehr Infos hierzu in späteren Versionen.</para></sect1><sect1>
<title>Zugangsbeschränkungen</title>
<para>Viele Dienste setzen die tcp_wrapper Bibliothek für die Zugangskontrolle ein. Eine Beschreibung finden Sie unter <link linkend="hints-daemons-tcpwrapper">use of tcp_wrapper</link>.</para>
<para>Mehr Infos hierzu in späteren Versionen.</para></sect1><sect1 id='IPv6-security-auditing' >
<title><!-- anchor id="IPv6-security-auditing" -->IPv6 Sicherheitsüberwachung</title>
<para>Aktuell gibt es keine komfortablen Sicherheitstools mit denen man ein System über ein Netzwerk nach IPv6 relevanten Sicherheitslücken hin überprüfen kann. Weder <ulink url="http://www.nessus.org/">Nessus</ulink> noch irgendein kommerzieller Security Scanner ist zur Zeit dazu in der Lage, IPv6-Adressen scannen zu können.</para><sect2>
<title>Rechtsfragen</title>
<para>ACHTUNG: Bitte stellen Sie immer sicher, dass Sie ausschließlich ihr eigenes Netzwerk scannen oder einen Scan nur nach Erhalt einer schriftlichen Erlaubnis durchführen. Andernfalls haben sie mit rechtlichen Konsequenzen zu rechnen! 
ÜBERPRÜFEN Sie die Ziel-IPv6-Adresse ZWEIMAL, bevor Sie einen Scan starten.</para></sect2><sect2>
<title>Sicherheitsüberwachung mit IPv6 fähigen netcat</title>
<para>Mit dem IPv6 fähigen netcat (siehe <ulink url="http://www.bieringer.de/linux/IPv6/status/IPv6+Linux-status-apps.html#security-auditing">IPv6+Linux-status-apps/security-auditing</ulink> für Details) können Sie einen Portscan durchführen. Es wird ein Script abgearbeitet, wobei u.a. ein Port-Bereich überprüft und Banners mitprotokolliert werden. Anwendungsbeispiel:</para><screen>
<![CDATA[# nc6 ::1 daytime
13 JUL 2002 11:22:22 CEST
]]></screen></sect2><sect2>
<title>Sicherheitsüberwachung mit IPv6 fähigen NMap</title>
<para><ulink url="http://www.insecure.org/nmap/">NMap</ulink>, einer der weltweit besten Portscanner, unterstützt IPv6 seit der Version 3.10ALPHA1. Anwendungsbeispiel:</para><screen>
<![CDATA[# nmap -6 -sT ::1
Starting nmap V. 3.10ALPHA3 ( www.insecure.org/nmap/ ) 
Interesting ports on localhost6 (::1): 
(The 1600 ports scanned but not shown below are in state: closed) 
Port       State       Service 
22/tcp     open        ssh 
53/tcp     open        domain 
515/tcp    open        printer 
2401/tcp   open        cvspserver
Nmap run completed -- 1 IP address (1 host up) scanned in 0.525 seconds
]]></screen></sect2><sect2>
<title>Sicherheitsüberprüfung IPv6 fähigen strobe</title>
<para>Strobe ist (im Vergleich zu NMap) ein low budget Portscanner. Allerdings gibt es für Strobe einen IPv6 Patch (siehe <ulink url="http://www.bieringer.de/linux/IPv6/status/IPv6+Linux-status-apps.html#security-auditing">IPv6+Linux-status-apps/security-auditing</ulink> für Details). Anwendungsbeispiel:</para><screen>
<![CDATA[# ./strobe ::1 strobe 1.05 (c) 1995-1999 Julian Assange <proff@iq.org>.
::1 2401 unassigned unknown
::1 22 ssh Secure Shell - RSA encrypted rsh 
::1 515 printer spooler (lpd)
::1 6010 unassigned unknown 
::1 53 domain Domain Name Server
]]></screen><para>Hinweis: strobe wird nicht wirklich weiterentwickelt, die abgebildete Versionsnummer ist zudem falsch.</para></sect2><sect2>
<title>Sicherheitsüberprüfung mit Online-Werkzeugen</title>
<para>Es gibt einige IPv6-fähige Online-Werkzeuge, welche das Testen einer Firewall-Konfiguration bzgl. eingehenden Verbindungen unterstützen können:</para><itemizedlist>
<listitem><para><ulink url="http://ipv6.chappell-family.com/ipv6tcptest/">Tim's Online IPv6 TCP/UDP Port Scanner</ulink></para></listitem><listitem><para><ulink url="http://www.subnetonline.com/pages/ipv6-network-tools/online-ipv6-port-scanner.php">SubnetOnline IPv6 Scanner</ulink></para></listitem></itemizedlist></sect2><sect2>
<title>Überprüfungsergebnisse</title>
<para>Falls das Ergebnis einer Überwachung nicht Ihren IPv6 Sicherheitsrichtlinien entspricht, schließen Sie die Lücken mit Hilfe der IPv6-Firewall-Funktionalität, z.B. mit netfilter6 (siehe <link linkend="firewalling-netfilter6.">Firewalling/Netfilter6</link> für Details). </para>
<para>Hinweis: Detailliertere Informationen zum Thema IPv6 Sicherheit finden Sie unter folgenden Links:</para><itemizedlist>
<listitem><para><ulink url="http://www.ietf.org/ids.by.wg/v6ops.html">IETF drafts - IPv6 Operations (v6ops)</ulink></para></listitem><listitem><para><ulink url="http://www.faqs.org/rfcs/rfc3964.html">RFC 3964 / Security Considerations for 6to4</ulink></para></listitem></itemizedlist></sect2></sect1></chapter><chapter id='chapter-encryption-authentication' >
<title><!-- anchor id="chapter-encryption-authentication" -->Verschlüsselung und Authentifizierung</title>
<para>Zum Unterschied zu IPv4 ist die Verschlüsselung und die Authentifizierung ein zwingendes Feature bei IPv6. Diese Features werden normalerweise mit IPsec implementiert (das auch von IPv4 verwendet wird). </para><sect1>
<title>Nutzungsarten von Verschlüsselung und Authentifizierung</title>
<para>Zwei Arten von Verschlüsselung und Authentifzierung einer Verbindung sind möglich:</para><sect2>
<title>Transport-Modus</title>
<para>Der Transport-Modus ist ein Modus nur für Ende-zu-Ende-Verbindungen. Hier wird nur die Nutzlast (üblicherweise ICMP, TCP oder UDP) mit deren entsprechenden Headern verschlüsselt, wogegen der IP-Header nicht verschlüsselt wird (aber üblicherweise in die Authentifizierung eingebunden wird).</para>
<para>Bei Nutzung von AES-128 für Verschlüsselung und SHA1 für Authentifizierung reduziert dieser Modus die MTU um 42 Oktetts.</para></sect2><sect2>
<title>Tunnel-Modus</title>
<para>Der Tunnel-Modus kann einerseits für eine Ende-zu-Ende wie auch für eine Gatewas-zu-Gateway-Verbindung genutzt werden. Hier wird das komplette IP-Paket verschlüsselt und ein neuer IP-Header vorangestellt .</para>
<para>Dieser Modus reduziert die MTU um weitere 40 Oktetts (bei IPv6), ausgehend von der MTU des Transport-Modus.</para></sect2></sect1><sect1>
<title>Unterstützung im Kernel (ESP und AH)</title>
<sect2>
<title>Unterstützung im vanilla Linux Kernel 2.4.x</title>
<para>Fehlt in vanilla 2.4. In der Vergangenheit gab es einen Grund, die Linux Kernel Quellen frei von Export/Import-Kontrollgesetzen bzgl. Verschlüsselungs-Techniken zu halten. Dies ist auch ein Grund, wieso <ulink url="http://www.freeswan.org/">FreeS/WAN project</ulink> nicht in die vanilla Quellen miteingebunden wurde.</para></sect2><sect2>
<title>Unterstützung im vanilla Linux kernel 2.6.x</title>
<para>Aktuelle Versionen (zum Zeitpunkt des Schreibens 2.6.9 und neuer) unterstützt IPsec für IPv4 und IPv6.</para>
<para>Die Implementierung wurde u.a. vom USAGI project unterstützt.</para></sect2></sect1><sect1>
<title>Automatischer Schlüssel-Austausch (IKE)</title>
<para>IPsec benötigt einen Schlüsselaustausch mit einem &rdquo;Geheimnis&rdquo;. Dieser Vorgang wird meistens automatisch durch sogenannte IKE-Daemons durchgeführt. Diese führen ebenso die Authentifizierung der Partner durch, entweder durch ein gemeinsam bekanntes Geheimnis (auch &rdquo;pre-shared secret&rdquo; genannt) oder bei RSA-Schlüssel (z.B. aus X.509 Zertifikaten).</para>
<para>Momentan stehen (für Linux) zwei verschiedene IKE-Daemons zur Verfügung, die aber sich ziemlich in Konfiguration und Benutzung unterscheiden.</para>
<para>Ich präferiere &rdquo;pluto&rdquo; von der *S/WAN Implementierung, wei dieser eine überschaubare (und nur eine) Konfiguration.</para><sect2>
<title>IKE-Daemon &rdquo;racoon&rdquo;</title>
<para>Der IKE-Daemon &rdquo;racoon&rdquo; ist vom KAME-Project und auf Linux portiert worden. Aktuelle Linux-Distributionen beinhalten diesen Daemon im Paket &rdquo;ipsec-tools&rdquo;. Zwei Programme sind für ein funktionierendes IPsec-Setup notwendig. Siehe dazu auch das <ulink url="http://lartc.org/howto/lartc.ipsec.html">Linux Advanced Routing &amp; Traffic Control HOWTO / IPSEC</ulink>.</para><sect3>
<title>Manipulation der IPsec SA/SP Datenbank mit dem Werkzeug &rdquo;setkey&rdquo;</title>
<para>&rdquo;setkey&rdquo; ist für die Definition der Security Policy (SP) im Kernel wichtig.</para>
<para>Datei: /etc/racoon/setkey.sh</para><itemizedlist>
<listitem><para>Beispiel für eine Ende-zu-Ende verschlüsselte Verbindung im Transport-Modus</para></listitem></itemizedlist><screen>
<![CDATA[#!/sbin/setkey -f
flush;
spdflush;
spdadd 2001:db8:1:1::1 2001:db8:2:2::2 any -P out ipsec esp/transport//require;
spdadd 2001:db8:2:2::2 2001:db8:1:1::1 any -P in  ipsec esp/transport//require;

]]></screen><itemizedlist>
<listitem><para>Beispiel für eine Ende-zu-Ende verschlüsselte Verbindung im Tunnel-Modus</para></listitem></itemizedlist><screen>
<![CDATA[#!/sbin/setkey -f
flush;
spdflush;
spdadd 2001:db8:1:1::1 2001:db8:2:2::2 any -P out ipsec
¬ esp/tunnel/2001:db8:1:1::1-2001:db8:2:2::2/require;
spdadd 2001:db8:2:2::2 2001:db8:1:1::1 any -P in  ipsec
¬ esp/tunnel/2001:db8:2:2::2-2001:db8:1:1::1/require;
]]></screen><para>Beim anderen Partner ist &rdquo;in&rdquo; mit &rdquo;out&rdquo; zu vertauschen.</para></sect3><sect3>
<title>Konfiguration des IKE-Daemon &rdquo;racoon&rdquo;</title>
<para>&rdquo;racoon&rdquo; benötigt eine Konfigurationsdatei zur Ausführung. Es beinhaltet zu der Security Policy entprechenden Einstellungen, welche vorher mit &rdquo;setkey&rdquo; definiert wurde.</para>
<para>Datei: /etc/racoon/racoon.conf</para><screen>
<![CDATA[# Racoon IKE daemon configuration file.
# See 'man racoon.conf' for a description of the format and entries.
path include "/etc/racoon";
path pre_shared_key "/etc/racoon/psk.txt";

listen
{
        isakmp 2001:db8:1:1::1;
}

remote 2001:db8:2:2::2
{
        exchange_mode main;
        lifetime time 24 hour;
        proposal
        {
                encryption_algorithm 3des;
                hash_algorithm md5;
                authentication_method pre_shared_key;
                dh_group 2;
        }
}

# gateway-to-gateway
sainfo address 2001:db8:1:1::1 any address 2001:db8:2:2::2 any
{
        lifetime time 1 hour;
        encryption_algorithm 3des;
        authentication_algorithm hmac_md5;
        compression_algorithm deflate;
}

sainfo address 2001:db8:2:2::2 any address 2001:db8:1:1::1 any
{
        lifetime time 1 hour;
        encryption_algorithm 3des;
        authentication_algorithm hmac_md5;
        compression_algorithm deflate;
} 
]]></screen><para>Zudem muss das gemeinsame Geheimnis definiert werden:</para>
<para>Datei: /etc/racoon/psk.txt</para><screen>
<![CDATA[# file for pre-shared keys used for IKE authentication
# format is: 'identifier' 'key'

2001:db8:2:2::2 verysecret 
]]></screen></sect3><sect3>
<title>IPsec mit IKE-Daemon &rdquo;racoon&rdquo; starten</title>
<para>Zum Schluss muss der Daemon gestartet werden. Beim ersten Mal sollte Debug- &amp; Vordergrund-Modus aktiviert werden. Das folgende Beispiel zeigt eine erfolgreiche Aushandlung von IKE-Phase 1 (ISAKMP-SA) und 2 (IPsec-SA):</para><screen>
<![CDATA[# racoon -F -v -f /etc/racoon/racoon.conf
Foreground mode. 
2005-01-01 20:30:15: INFO: @(#)ipsec-tools 0.3.3 (http://ipsec-tools.sourceforge.net)
2005-01-01 20:30:15: INFO: @(#)This product linked
¬ OpenSSL 0.9.7a Feb 19 2003 (http://www.openssl.org/)
2005-01-01 20:30:15: INFO: 2001:db8:1:1::1[500] used as isakmp port (fd=7)
2005-01-01 20:31:06: INFO: IPsec-SA request for 2001:db8:2:2::2
¬ queued due to no phase1 found.
2005-01-01 20:31:06: INFO: initiate new phase 1 negotiation:
¬ 2001:db8:1:1::1[500]<=>2001:db8:2:2::2[500]
2005-01-01 20:31:06: INFO: begin Identity Protection mode.
2005-01-01 20:31:09: INFO: ISAKMP-SA established
¬ 2001:db8:1:1::1[500]-2001:db8:2:2::2[500] spi:da3d3693289c9698:ac039a402b2db401
2005-01-01 20:31:09: INFO: initiate new phase 2 negotiation:
¬ 2001:6f8:900:94::2[0]<=>2001:db8:2:2::2[0]
2005-01-01 20:31:10: INFO: IPsec-SA established:
¬ ESP/Tunnel 2001:db8:2:2::2->2001:db8:1:1::1 spi=253935531(0xf22bfab) 
2005-01-01 20:31:10: INFO: IPsec-SA established:
¬ ESP/Tunnel 2001:db8:1:1::1->2001:db8:2:2::2 spi=175002564(0xa6e53c4) 
]]></screen><para>Jede Richtung bekommt einen eigenen SPI (wie im IPsec-Standard definiert). Mit &rdquo;tcpdump&rdquo; kann an der entprechenden Schnittstelle dann das Ergebnis eines IPv6-pings gesehen werden:</para><screen>
<![CDATA[20:35:55.305707 2001:db8:1:1::1 > 2001:db8:2:2::2: ESP(spi=0x0a6e53c4,seq=0x3)
20:35:55.537522 2001:db8:2:2::2 > 2001:db8:1:1::1: ESP(spi=0x0f22bfab,seq=0x3)
]]></screen><para>Wie erwartet, werden die ausgehandelten SPIs angezeigt.</para>
<para>Mit &rdquo;setkey&rdquo; werden die aktiven Parameter angezeigt:</para><screen>
<![CDATA[# setkey -D
2001:db8:1:1::1 2001:db8:2:2::2
        esp mode=tunnel spi=175002564(0x0a6e53c4) reqid=0(0x00000000)
        E: 3des-cbc  bd26bc45 aea0d249 ef9c6b89 7056080f 5d9fa49c 924e2edd
        A: hmac-md5  60c2c505 517dd8b7 c9609128 a5efc2db
        seq=0x00000000 replay=4 flags=0x00000000 state=mature
        created: Jan  1 20:31:10 2005   current: Jan  1 20:40:47 2005
        diff: 577(s)    hard: 3600(s)   soft: 2880(s)
        last: Jan  1 20:35:05 2005      hard: 0(s)      soft: 0(s)
        current: 540(bytes)     hard: 0(bytes)  soft: 0(bytes)
        allocated: 3    hard: 0 soft: 0
        sadb_seq=1 pid=22358 refcnt=0
2001:db8:2:2::2 2001:db8:1:1::1
        esp mode=tunnel spi=253935531(0x0f22bfab) reqid=0(0x00000000)
        E: 3des-cbc  c1ddba65 83debd62 3f6683c1 20e747ac 933d203f 4777a7ce
        A: hmac-md5  3f957db9 9adddc8c 44e5739d 3f53ca0e
        seq=0x00000000 replay=4 flags=0x00000000 state=mature
        created: Jan  1 20:31:10 2005   current: Jan  1 20:40:47 2005
        diff: 577(s)    hard: 3600(s)   soft: 2880(s)
        last: Jan  1 20:35:05 2005      hard: 0(s)      soft: 0(s)
        current: 312(bytes)     hard: 0(bytes)  soft: 0(bytes)
        allocated: 3    hard: 0 soft: 0
        sadb_seq=0 pid=22358 refcnt=0 
]]></screen></sect3></sect2><sect2>
<title>IKE-Daemon &rdquo;pluto&rdquo;</title>
<para>Der IKE-Daemon &rdquo;pluto&rdquo; ist in den Paketen der *S/WAN-Projekte beinhaltet. Das *S/WAN-Projekt startete zu Anfags als <ulink url="http://www.freeswan.org/">FreeS/WAN</ulink>. Leider wurde die Weiterentwicklung von FreeS/WAN in 2004 eingestellt. Aufgrund der langsamen Entwicklungsgeschwindigkeit in der Vergangenheit entstanden zwei Spin-Offs: <ulink url="http://www.strongswan.org/">strongSwan</ulink> und <ulink url="http://www.openswan.org/">Openswan</ulink>. Heutzutage stehen installationsfertige Pakete bereit, u.a. von Openswan (in Fedora Core 3 beinhaltet).</para>
<para>Ein großer Unterschied zu &rdquo;racoon&rdquo; ist, dass nur eine Konfigurationsdatei notwendig ist. Zudem steht ein initscript für automatisches Starten beim Booten zur Verfügung.</para><sect3>
<title>Konfiguration des IKE-Daemon &rdquo;pluto&rdquo;</title>
<para>Die Konfiguration ist der zu IPv4 sehr ähnlich, nur eine wichtige Option ist notwendig.</para>
<para>Datei: /etc/ipsec.conf</para><screen>
<![CDATA[# /etc/ipsec.conf - Openswan IPsec configuration file
#
# Manual:     ipsec.conf.5
version 2.0     # conforms to second version of ipsec.conf specification

# basic configuration
config setup
        # Debug-logging controls:  "none" for (almost) none, "all" for lots.
        # klipsdebug=none
        # plutodebug="control parsing"

#Disable Opportunistic Encryption
include /etc/ipsec.d/examples/no_oe.conf

conn ipv6-p1-p2
        connaddrfamily=ipv6       # Important for IPv6, but no longer needed since StrongSwan 4
        left=2001:db8:1:1::1
        right=2001:db8:2:2::2
        authby=secret
        esp=aes128-sha1
        ike=aes128-sha-modp1024
        type=transport
        #type=tunnel
        compress=no
        #compress=yes
        auto=add
        #auto=up

]]></screen><para>Zudem muss das gemeinsame Geheimnis definiert werden:</para>
<para>Datei: /etc/ipsec.secrets</para><screen>
<![CDATA[2001:db8:1:1::1 2001:db8:2:2::2 : PSK      "verysecret"
]]></screen></sect3><sect3>
<title>IPsec mit IKE daemon &rdquo;pluto&rdquo; starten</title>
<para>Wenn die Installation von Openswan erfolgreich war, sollte ein initscript zum Starten von IPsec zur Verfügung stehen. Dann einfach auf jedem Partner folgendes ausführen:</para><screen>
<![CDATA[# /etc/rc.d/init.d/ipsec start
]]></screen><para>Danach kann die Verbindung auf einem Partner gestartet werden. Wenn im folgenden die Zeile &rdquo;IPsec SA established&rdquo; erscheint, hat die Aushandlung funktioniert.</para><screen>
<![CDATA[# ipsec auto --up ipv6-peer1-peer2
104 "ipv6-p1-p2" #1: STATE_MAIN_I1: initiate
106 "ipv6-p1-p2" #1: STATE_MAIN_I2: sent MI2, expecting MR2
108 "ipv6-p1-p2" #1: STATE_MAIN_I3: sent MI3, expecting MR3
004 "ipv6-p1-p2" #1: STATE_MAIN_I4: ISAKMP SA established
112 "ipv6-p1-p2" #2: STATE_QUICK_I1: initiate
004 "ipv6-p1-p2" #2: STATE_QUICK_I2: sent QI2,
¬ IPsec SA established {ESP=>0xa98b7710 <0xa51e1f22} 
]]></screen><para>Weil *S/WAN und setkey/racoon die gleiche IPsec-Implementation im Linux kernel 2.6.x benutzen, zeigt &rdquo;setkey&rdquo; auch hier die aktiven Parameter:</para><screen>
<![CDATA[# setkey -D
2001:db8:1:1::1 2001:db8:2:2::2
        esp mode=transport spi=2844489488(0xa98b7710) reqid=16385(0x00004001)
        E: aes-cbc  082ee274 2744bae5 7451da37 1162b483
        A: hmac-sha1  b7803753 757417da 477b1c1a 64070455 ab79082c
        seq=0x00000000 replay=64 flags=0x00000000 state=mature
        created: Jan  1 21:16:32 2005   current: Jan  1 21:22:20 2005
        diff: 348(s)    hard: 0(s)      soft: 0(s)
        last:                           hard: 0(s)      soft: 0(s)
        current: 0(bytes)       hard: 0(bytes)  soft: 0(bytes)
        allocated: 0    hard: 0 soft: 0
        sadb_seq=1 pid=23825 refcnt=0
2001:db8:2:2::2 2001:db8:1:1::1
        esp mode=transport spi=2770214690(0xa51e1f22) reqid=16385(0x00004001)
        E: aes-cbc  6f59cc30 8d856056 65e07b76 552cac18
        A: hmac-sha1  c7c7d82b abfca8b1 5440021f e0c3b335 975b508b
        seq=0x00000000 replay=64 flags=0x00000000 state=mature
        created: Jan  1 21:16:31 2005   current: Jan  1 21:22:20 2005
        diff: 349(s)    hard: 0(s)      soft: 0(s)
        last:                           hard: 0(s)      soft: 0(s)
        current: 0(bytes)       hard: 0(bytes)  soft: 0(bytes)
        allocated: 0    hard: 0 soft: 0
        sadb_seq=0 pid=23825 refcnt=0 
]]></screen></sect3></sect2></sect1><sect1>
<title>Anmerkungen:</title>
<para>Bei Linux Kernel 2.6.x kann der IPsec-Status und die Policy auch mit &rdquo;ip&rdquo; angezeigt werden:</para><screen>
<![CDATA[# ip xfrm policy
...

# ip xfrm state
...
]]></screen></sect1></chapter><chapter id='chapter-qos' >
<title><!-- anchor id="chapter-qos" -->Quality of Service (QoS)</title>
<para>IPv6 unterstützt QoS durch die Anwendung von Flow Labels und Traffic Classes. </para>
<para>Zusätzliche Infos:</para><itemizedlist>
<listitem><para><ulink url="http://www.faqs.org/rfcs/rfc3697.html">RFC 3697 / IPv6 Flow Label Specification</ulink></para></listitem></itemizedlist><sect1>
<title>General</title>
<para>Vernünftig funktionierendes QoS ist nur an der ausgehenden Schnittstelle eines Routers oder Host möglich, wo der Flaschenhals anfängt. Alles andere bereitet nur Probleme und funktioniert wahrscheinlich nicht so, wie erwartet.</para><screen>
<![CDATA[------------------->-------
                Queue 1    \
                --->---     ---->--------->--------->-------------------
Dicke Leitung   Queue 2      Queue 1 / Queue 2 / Queue 3   Dünne Leitung
                --->----    ---->--------->--------->-------------------
                Queue 3    /
------------------->-------
]]></screen></sect1><sect1>
<title>Linux QoS mit &rdquo;tc&rdquo;</title>
<para>Linux benutzt &rdquo;tc&rdquo; vom Paket &rdquo;iproute2&rdquo;, um das Bandbreitenmanagement zu konfigurieren, allgemein beschrieben in <ulink url="http://lartc.org/">Linux Advanced Routing &amp; Traffic Control HOWTO</ulink>.</para><sect2>
<title>Beispiel für eine Warteschlange mit konstanter Bitrate</title>
<para>Mit dem &rdquo;cbq&rdquo; Planer können Röhren mit konstanter Bitrate definiert werden.</para><sect3>
<title>Root qdisc Definition</title>
<para>Definition einer root qdisc mit einer Bandbreite von 1000 MBit/s an eth1</para><screen>
<![CDATA[# tc qdisc add dev eth1 root handle 1: cbq avpkt 1000 bandwidth 1000Mbit
]]></screen></sect3><sect3>
<title>QoS class Definition</title>
<para>Definition einer Klasse 1:1 mit 1 MBit/s</para><screen>
<![CDATA[# tc class add dev eth1 parent 1: classid 1:1 cbq rate   1Mbit allot 1500 bounded 
]]></screen><para>Definition einer Klasse 1:2 mit 50 MBit/s</para><screen>
<![CDATA[# tc class add dev eth1 parent 1: classid 1:2 cbq rate  50Mbit allot 1500 bounded
]]></screen><para>Definition einer Klasse 1:3 mit 10 MBit/s</para><screen>
<![CDATA[# tc class add dev eth1 parent 1: classid 1:3 cbq rate  10Mbit allot 1500 bounded
]]></screen><para>Definition einer Klasse 1:4 mit 200 kBit/s</para><screen>
<![CDATA[# tc class add dev eth1 parent 1: classid 1:4 cbq rate 200kbit allot 1500 bounded
]]></screen></sect3><sect3>
<title>QoS filter Definition</title>
<para>Definition eines Filters für IPv4 (<emphasis>protocol ip</emphasis>), TCP (<emphasis>match ip protocol 6 0xff</emphasis>) Zielport 5001 (<emphasis>match ip dport 5001 0xffff</emphasis>) unter Benutzung der Klasse 1:2 von oben</para><screen>
<![CDATA[# tc filter add dev eth1 parent 1: protocol ip   u32 match ip  protocol 6 0xff match ip dport 5001 0xffff flowid 1:1
]]></screen><para>Definition eines Filters für IPv6 (<emphasis>protocol ip</emphasis>), TCP (<emphasis>match ip6 protocol 6 0xff</emphasis>) Zielport 5001 unter der Benutzung der Klasse 1:2 von oben</para><screen>
<![CDATA[# tc filter add dev eth1 parent 1: protocol ipv6 u32 match ip6 protocol 6 0xff match ip6 dport 5001 0xffff flowid 1:2
]]></screen><para>Definition eines Filters für IPv6 für Pakete mit Flowlabel 12345 (<emphasis>match ip6 flowlabel 0x12345 0x3ffff</emphasis>) unter der Benutzung der Klasse 1:3 von oben</para><screen>
<![CDATA[# tc filter add dev eth1 parent 1: protocol ipv6 u32 match ip6 flowlabel 12345 0x3ffff flowid 1:3 
]]></screen><para>Definition eines Filters für IPv6 für Pakete mit der Linux iptables Markierung 32 (<emphasis>handle 32 fw</emphasis>) unter der Benutzung der Klasse 1:4 von oben</para><screen>
<![CDATA[# tc filter add dev eth1 parent 1: protocol ipv6 handle 32 fw flowid 1:4
]]></screen><para>Die letzte Filterdefinition benötigt auch einen Eintrag in ip6tables um das Paket zu markieren</para><screen>
<![CDATA[# ip6tables -A POSTROUTING -t mangle -p tcp --dport 5003 -j MARK --set-mark 32 
]]></screen></sect3><sect3>
<title>Testen der Filterdefinition mit iperf</title>
<para>Starten auf Serverseite in separaten Konsolen:</para><screen>
<![CDATA[# iperf -V -s -p 5001
# iperf -V -s -p 5002
# iperf -V -s -p 5003
]]></screen><para>Starten auf Clientseite und Vergleichen der Ergebnisse:</para><screen>
<![CDATA[# iperf -V -c SERVER-IPv4 -p 5001    (erwartet:      1 MBit/s)
# iperf -V -c SERVER-IPv6 -p 5001    (erwartet:     50 MBit/s)
# iperf -V -c SERVER-IPv4 -p 5002    (erwartet:  >> 50 MBit/s && <= 1000 MBit/s)
# iperf -V -c SERVER-IPv6 -p 5002    (erwartet:  >> 50 MBit/s && <= 1000 MBit/s)
# iperf -V -c SERVER-IPv4 -p 5003    (erwartet:  >> 50 MBit/s && <= 1000 MBit/s)
# iperf -V -c SERVER-IPv6 -p 5003    (erwartet:    200 kBit/s)
]]></screen><para>Das Ergebnis der Transferraten sollten der Definitionen von oben entsprechen, das Ergebnis auf Port 5002 sollte ziemlich identisch unabhängig von der benutzten IP-Version sein.</para>
</sect3></sect2></sect1></chapter><chapter id='chapter-hints-daemons' >
<title><!-- anchor id="chapter-hints-daemons" -->Hinweise zu IPv6 kompatiblen Daemons</title>
<para>Im folgenden Kapitel werden einige Hinweise zu IPv6 kompatiblen Daemons gegeben.</para><sect1 id='hints-daemons-bind' >
<title><!-- anchor id="hints-daemons-bind" -->Berkeley Internet Name Domain (BIND) daemon &rdquo;named&rdquo;</title>
<para>Seit der Version 9 wird IPv6 unterstützt. Setzen Sie immer die neuest verfügbare Version ein. Zumindest muss Version 9.1.3 eingesetzt werden, da ältere Versionen Sicherheitslöcher beinhalten können, die von Remote entsprechend ausgenutzt werden können.</para><sect2>
<title>Auf IPv6 Adressen hören</title>
<para>Anmerkung: Im Gegensatz zu IPv4 können bei aktuellen Versionen Server Sockets nicht an dedizierte IPv6 Adressen gebunden werden, es ist folglich <emphasis>jede</emphasis> oder <emphasis>keine</emphasis> Adresse gültig. Da dies ein Sicherheitsproblem sein kann, lesen Sie diesbezüglich ebenfalls den Abschnitt Access Control Lists (ACL) weiter unten!</para><sect3>
<title>BIND named konfigurieren, damit er auf IPv6 Adressen antwortet</title>
<para>Folgende Optionen müssen geändert werden, damit IPv6 aktiviert wird</para><screen>
<![CDATA[options {
        # sure other options here, too
        listen-on-v6 { any; };
};
]]></screen><para>Nach einem Neustart (des Dienstes) sollte z.B. Folgendes zu sehen sein:</para><screen>
<![CDATA[# netstat -lnptu |grep "named\W*$" 
tcp 0 0 :::53         :::*      LISTEN 1234/named
¬ # incoming TCP requests
udp 0 0 1.2.3.4:53    0.0.0.0:*        1234/named
¬ # incoming UDP requests to IPv4 1.2.3.4
udp 0 0 127.0.0.1:53  0.0.0.0:*        1234/named
¬ # incoming UDP requests to IPv4 localhost
udp 0 0 0.0.0.0:32868 0.0.0.0:*        1234/named
¬ # dynamic chosen port for outgoing queries
udp 0 0 :::53         :::*             1234/named
¬ # incoming UDP request to any IPv6
]]></screen><para>Ein kleiner Test sieht wie folgt aus:</para><screen>
<![CDATA[# dig localhost @::1
]]></screen><para>und sollte Ihnen ein Ergebnis anzeigen...</para></sect3><sect3>
<title>BIND named konfigurieren, damit er auf IPv6 Adressen nicht antwortet</title>
<para>Folgende Optionen müssen geändert werden, damit IPv6 deaktiviert wird:</para><screen>
<![CDATA[options {
        # sure other options here, too
        listen-on-v6 { none; };
};
]]></screen></sect3></sect2><sect2>
<title>Access Control Lists (ACL) mit IPv6 Unterstützung</title>
<para>ACLs mit IPv6 Adressen sind realisierbar und sollten wann immer möglich eingesetzt werden. Ein Beispiel:</para><screen>
<![CDATA[acl internal-net { 
        127.0.0.1; 
        1.2.3.0/24;  
        2001:0db8:100::/56; 
        ::1/128; 
        ::ffff:1.2.3.4/128; 
};
acl ns-internal-net { 
        1.2.3.4;  
        1.2.3.5;  
        2001:0db8:100::4/128; 
        2001:0db8:100::5/128; 
};
]]></screen><para>Diese ACLs können für Client-Anfragen und Zonentransfers zu Secondary Nameserver eingesetzt werden. Es kann auch unterbunden werden, dass ihr Caching-Nameserver mittels IPv6 von der Außenwelt verwendet wird.</para><screen>
<![CDATA[options {
        # sure other options here, too
        listen-on-v6 { none; };
        allow-query { internal-net; }; 
        allow-transfer { ns-internal-net; }; 
};
]]></screen><para>Es ist ebenfalls möglich, dass die Optionen <emphasis>allow-query</emphasis> und <emphasis>allow-transfer</emphasis> bei den meisten Single-Zonen-Definitionen verwendet werden.</para></sect2><sect2>
<title>Anfragen mit festen IPv6 Adressen senden</title>
<para>Diese Option ist nicht verpflichtend, ev. aber benötigt:</para><screen>
<![CDATA[query-source-v6 address <ipv6address|*> port <port|*>;
]]></screen></sect2><sect2>
<title>Pro Zone definierte feste IPv6 Adressen</title>
<para>Es ist möglich pro Zone mehrere IPv6 Adressen zu definieren.</para><sect3>
<title>Transfer source Adresse </title>
<para>Die Transfer source Adresse wird für ausgehende Zonentransfers verwendet:</para><screen>
<![CDATA[transfer-source-v6 <ipv6addr|*> [port port];
]]></screen></sect3><sect3>
<title>Notify source Adresse </title>
<para>Die Notify source Adresse wird für ausgehende notify Mitteilungen verwendet:</para><screen>
<![CDATA[notify-source-v6 <ipv6addr|*> [port port];
]]></screen></sect3></sect2><sect2>
<title>IPv6 DNS zone files Beispiele</title>
<para>Einige Informationen finden Sie auch unter <ulink url="http://www.isi.edu/~bmanning/v6DNS.html">IPv6 DNS Setup Information (article)</ulink>. Eventuell ebenfalls hilfreich ist folgendes Tool: <ulink url="http://tools.fpsn.net/ipv6-inaddr/">IPv6 Reverse DNS zone builder for BIND 8/9 (webtool)</ulink>.</para></sect2><sect2>
<title>IPv6 bezogene DNS-Daten bereitstellen</title>
<para>Für IPv6 wurden neue Reverse Lookup Arten und Root Zonen definiert:</para><itemizedlist>
<listitem><para>AAAA und reverse IP6.INT: beschrieben in <ulink url="http://www.faqs.org/rfcs/rfc1886.html">RFC 1886 / DNS Extensions to support IP version 6</ulink> sowie seit BIND Version 4.9.6 in Verwendung</para></listitem><listitem><para>A6, DNAME (WURDE ABGELEHNT!) und reverse IP6.ARPA: beschrieben in <ulink url="http://www.faqs.org/rfcs/rfc2874.html">RFC 2874 / DNS Extensions to Support IPv6 Address Aggregation and Renumbering</ulink> sowie seit BIND 9 in Verwendung. Informationen zum aktuellen Stand sind unter <ulink url="http://www.ietf.org/ids.by.wg/dnsext.html">Domain Name System Extension (dnsext)</ulink> zu finden.</para></listitem></itemizedlist><para>Mehr Inhalt zu diesem Thema wird eventuell in späteren Versionen eingearbeitet, inzwischen können Sie in den RFCs und in folgenden Quellen nachlesen:</para><itemizedlist>
<listitem><para>AAAA und reverse IP6.INT: <ulink url="http://www.isi.edu/~bmanning/v6DNS.html">IPv6 DNS Setup Information</ulink></para></listitem><listitem><para>A6, DNAME (WURDE ABGELEHNT!) und reverse IP6.ARPA: lesen Sie im Kapitel 4 und 6 des BIND 9 Administrator Reference Manual (ARM) nach, welches mit dem bind-Paket mitgeliefert wird. Sie können es auch hier lesen: <ulink url="http://www.isc.org/sw/bind/arm93/">BIND manual version 9.3</ulink></para></listitem></itemizedlist><para>Da IP6.INT (ebenfalls) ABGELEHNT WURDE, (jedoch nach wie vor in Verwendung ist,) muss ein DNS Server, der IPv6 Informationen anbieten will, beide reverse Zonen bereitstellen.</para><sect3>
<title>Aktuell beste Praxis</title>
<para>Da es mit den neuen Formaten noch Probleme gibt, ist die aktuell beste Praxis:</para>
<para>Vorwärts-Auflösung mit:</para><itemizedlist>
<listitem><para>AAAA</para></listitem></itemizedlist><para>Rückwärts-Auflösung mit:</para><itemizedlist>
<listitem><para>Reverse nibble format für die Zone ip6.int (FÜR RÜCKWÄRTSKOMPATIBILITÄT)</para></listitem><listitem><para>Reverse nibble format für die Zone ip6.arpa (EMPFHOHLEN)</para></listitem></itemizedlist></sect3></sect2><sect2>
<title>IPv6 Verbindung überprüfen</title>
<para>Ob BIND auf einen IPv6 socket hört bzw. IPv6 Daten bereitstellt, können Sie anhand folgender Beispiele überprüfen.</para><sect3>
<title>IPv6 Verbindung durch ACL abgelehnt</title>
<para>Eine IPv6 Verbindung kann durch Angabe eines dedizierten Server, der abgefragt werden soll, erzwungen werden:</para><screen>
<![CDATA[$ host -t aaaa www.6bone.net 2001:0db8:200:f101::1 
Using domain server: 
Name: 2001:0db8:200:f101::1 
Address: 2001:0db8:200:f101::1#53 
Aliases:

Host www.6bone.net. not found: 5(REFUSED)
]]></screen><para>Ein entsprechender Log-Eintrag sieht wie folgt aus:</para><screen>
<![CDATA[Jan 3 12:43:32 gate named[12347]: client
¬ 2001:0db8:200:f101:212:34ff:fe12:3456#32770: 
 query denied
]]></screen><para>Wenn Sie diesen Eintrag in der Logdatei finden, prüfen Sie, ob von diesem Client Anfragen akzeptiert werden sollen und ggf. ändern Sie Ihre ACL Konfiguration.</para></sect3><sect3>
<title>Erfolgreiche IPv6 Verbindung</title>
<para>Eine erfolgreiche IPv6 Verbindung sieht wie folgt aus:</para><screen>
<![CDATA[$ host -t aaaa www.6bone.net 2001:0db8:200:f101::1 
Using domain server: 
Name: 2001:0db8:200:f101::1 
Address: 2001:0db8:200:f101::1#53 
Aliases:

www.6bone.net. is an alias for 6bone.net. 
6bone.net. has AAAA address 3ffe:b00:c18:1::10
]]></screen></sect3></sect2></sect1><sect1 id='hints-daemons-xinetd' >
<title><!-- anchor id="hints-daemons-xinetd" -->Internet super daemon (xinetd)</title>
<para>IPv6 wird ungefähr seit der <ulink url="https://github.com/xinetd-org/xinetd">xinetd</ulink> Version 1.8.9 unterstützt. Verwenden sie immer die neueste Version, zumindest aber Version 2.3.3, da ältere Versionen Sicherheitslöcher beinhalten können, die von Remote entsprechend ausgenutzt werden können.</para>
<para>Einige Linux Distributionen beinhalten ein separates IPv6 kompatibles Paket des xinetd, bei anderen Distributionen wird der IPv6 kompatible xinetd mit folgender Variable zumeist in der Datei /etc/sysconfig/network (bei Red Hat kompatible Distributionen) gestartet: NETWORKING_IPV6="yes". In neuere Versionen unterstützt eine Binärdatei sowohl IPv4 als auch IPv6.</para>
<para>Wenn Sie nun einen "eingebauten" Service wie z.B. daytime durch folgende Änderung der Konfigurationsdatei /etc/xinetd.d/daytime aktivieren</para><screen>
<![CDATA[# diff -u /etc/xinetd.d/daytime.orig /etc/xinetd.d/daytime 
--- /etc/xinetd.d/daytime.orig Sun Dec 16 19:00:14 2001 
+++ /etc/xinetd.d/daytime Sun Dec 16 19:00:22 2001 
@@ -10,5 +10,5 @@ 
        protocol = tcp 
        user = root 
        wait = no 
-       disable = yes 
+       disable = no 
 }
]]></screen><para>dann sollten Sie nach einem Neustart des xinetd-Dienstes z.B. folgendes positive Ergebnis sehen:</para><screen>
<![CDATA[# netstat -lnptu -A inet6 |grep "xinetd*" 
tcp 0 0 ::ffff:192.168.1.1:993  :::*  LISTEN  12345/xinetd-ipv6 
tcp 0 0 :::13                   :::*  LISTEN  12345/xinetd-ipv6 <- service
¬ daytime/tcp
tcp 0 0 ::ffff:192.168.1.1:143  :::*  LISTEN  12345/xinetd-ipv6
]]></screen><para>Das Beispiel zeigt auch die xinetd Dienste IMAP und IMAP-SSL, die nur auf IPv4 Adressen hören.</para>
<para>Hinweis: frühere Versionen hatten ein Problem, dass der nur für IPv4 kompilierte xinetd nicht bei einem IPv6-aktivierten Knoten startete, und eine IPv6-aktivierte nicht bei einem Knoten, der nur IPv4 aktiv hatte. Dies sollte aber mindestens seit Version 2.3.11 gefixt sein.</para></sect1><sect1 id='hints-daemons-apache2.' >
<title><!-- anchor id="hints-daemons-apache2." -->Webserver Apache2 (httpd2)</title>
<para>IPv6 wird beim Apache Webserver durch die Entwickler seit der Version 2.0.14 unterstützt. Verfügbare Patches für die alte 1.3.x Serie sind inzwischen nicht mehr aktuell und sollten nicht mehr in öffentlich zugänglichen Umgebungen eingesetzt werden. Verfügbar sind die Patches noch unter <ulink url="ftp://ftp.kame.net/pub/kame/misc/">KAME / Misc</ulink>.</para><sect2>
<title>Auf IPv6 Adressen hören</title>
<para>Anmerkung: Virtuelle Hosts mit IPv6 Adressen sind bis zur Version 2.0.28 nicht operabel (es gibt für die Version 2.0.28 einen Patch). Testen Sie aber immer zuerst die neueste Version, da ältere Versionen mitunter auch Sicherheitsprobleme mit sich bringen können.</para><sect3>
<title>Virtueller Host mit IPv6 Adresse</title>
<screen>
<![CDATA[Listen [2001:0db8:100::1]:80
<VirtualHost [2001:0db8:100::1]:80>
        ServerName ipv6only.yourdomain.yourtopleveldomain
        # ...sure more config lines
</VirtualHost>
]]></screen></sect3><sect3>
<title>Virtueller Host mit IPv4 und IPv6 Adresse</title>
<screen>
<![CDATA[Listen [2001:0db8:100::2]:80 
Listen 1.2.3.4:80
<VirtualHost [2001:0db8:100::2]:80 1.2.3.4:80>
        ServerName ipv6andipv4.yourdomain.yourtopleveldomain
        # ...sure more config lines
</VirtualHost>
]]></screen><para>Das Ergebnis sollten nach einen Neustart des Dienstes etwa Folgendes sein:</para><screen>
<![CDATA[# netstat -lnptu |grep "httpd2\W*$" 
tcp 0 0 1.2.3.4:80          0.0.0.0:* LISTEN 12345/httpd2 
tcp 0 0 2001:0db8:100::1:80 :::*      LISTEN 12345/httpd2 
tcp 0 0 2001:0db8:100::2:80 :::*      LISTEN 12345/httpd2
]]></screen><para>Für einfache Tests können Sie auf das bereits gezeigte telnet-Beispiel zurückgreifen.</para></sect3><sect3>
<title>Zusätzliche Anmerkungen</title>
<para>Apache2 unterstützt eine Methode namens &rdquo;sendfile&rdquo;, um die Auslieferung von Datenn zu beschleunigen. Einige NIC-Treiber unterstützen auch offline das Berechnen der Checksumme. In einigen Fällen kann dies zu Verbindungsproblemen und ungültigen TCP-Checksummen führen. In diesen Fällen ist &rdquo;sendfile&rdquo; zu deaktivieren, entweder durch Rekompilieren unter der Benützung der configure-Option &rdquo;--without-sendfile&rdquo; oder durch Benützung der Direktive "EnableSendfile off" in der Konfigurationsdatei.</para></sect3></sect2></sect1><sect1 id='hints-daemons-radvd' >
<title><!-- anchor id="hints-daemons-radvd" -->Router Advertisement Daemon (radvd)</title>
<para>Der Router Advertisement Daemon ist auf einem LAN dann sehr sinnvoll, wenn die Clients automatisch konfiguriert werden sollen. Der Daemon selbst sollte auf einem Linux Gateway Router eingerichtet sein (es hat nicht notwendigerweise das default IPv4 Gateway zu sein, Vorsicht also wer am LAN Router Advertisements versendet).</para>
<para>Sie können einige Flags und Informationen im Advertisement spezifizieren. Allgemein werden verwendet:</para><itemizedlist>
<listitem><para>Präfix (notwendige Angabe)</para></listitem><listitem><para>Lebensdauer des Präfix</para></listitem><listitem><para>Intervall der Advertisements (optional)</para></listitem></itemizedlist><para>Nach der korrekten Konfiguration sendet der Daemon die Advertisements über angegebene Interfaces. Die Clients empfangen die Advertisements und konfigurieren automatisch Ihre Adressen mit dem empfangenen Präfix und der Default-Route.</para><sect2>
<title>radvd konfigurieren</title>
<sect3>
<title>Einfache Konfiguration</title>
<para>Die Konfigurationsdatei des radvd ist normalerweise die Datei /etc/radvd.conf. Eine einfache Konfiguration sieht wie folgt aus:</para><screen>
<![CDATA[interface eth0 { 
        AdvSendAdvert on;
        MinRtrAdvInterval 3; 
        MaxRtrAdvInterval 10;
        prefix 2001:0db8:0100:f101::/64 { 
                AdvOnLink on; 
                AdvAutonomous on; 
                AdvRouterAddr on; 
        };
};
]]></screen><para>Als Ergebnis auf der Client-Seite ergibt sich hieraus:</para><screen>
<![CDATA[# ip -6 addr show eth0 
3: eth0: <BROADCAST,MULTICAST,UP> mtu 1500 qdisc pfifo_fast qlen 100 
    inet6 2001:0db8:100:f101:2e0:12ff:fe34:1234/64 scope global dynamic 
       valid_lft 2591992sec preferred_lft 604792sec 
    inet6 fe80::2e0:12ff:fe34:1234/10 scope link
]]></screen><para>Ein hoher Wert für die Lebensdauer wurde verwendet, da der Wert nicht manuell konfiguriert wurde. </para></sect3><sect3>
<title>Spezielle 6to4 Konfiguration</title>
<para>Seit der Version 0.6.2pl3 wird die automatische (Neu)-Erstellung des Präfixes abhängig von der IPv4 Adresse eines angegebenen Interfaces unterstützt. Dies kann dazu eingesetzt werden, die Advertisements dann in einem LAN zu verteilen, nachdem das 6to4 tunneling geändert wurde. Zumeist eingesetzt wird dies hinter einem dynamischen dial-on-demand Linux Router. Wegen der sicherlich kürzeren Lebensdauer dieser Präfixe (nach jedem dial-up ist ein anderes Präfix gültig), wird der Wert der Lebensdauer auf einen minimalen Wert gesetzt:</para><screen>
<![CDATA[interface eth0 { 
        AdvSendAdvert on;
        MinRtrAdvInterval 3; 
        MaxRtrAdvInterval 10;
        prefix 0:0:0:f101::/64 { 
                AdvOnLink off; 
                AdvAutonomous on; 
                AdvRouterAddr on; 
                Base6to4Interface ppp0;
                AdvPreferredLifetime 20; 
                AdvValidLifetime 30;
        };
};
]]></screen><para>Das Ergebnis auf Clientseite ist (unter der Annahme, dass ppp0 die lokale IPv4 Adresse 1.2.3.4 hat):</para><screen>
<![CDATA[# /sbin/ip -6 addr show eth0
3: eth0: <BROADCAST,MULTICAST,UP> mtu 1500 qdisc pfifo_fast qlen 100 
   inet6 2002:0102:0304:f101:2e0:12ff:fe34:1234/64 scope global dynamic 
      valid_lft 22sec preferred_lft 12sec
   inet6 fe80::2e0:12ff:fe34:1234/10 scope link
]]></screen><para>Da eine kurze Lebensdauer definiert wurde, wird das Präfix bald verworfen werden, sollte kein entsprechendes Advertisement empfangen werden.</para>
<para>Achtung: wenn keine spezielle 6to4-Unterstützung der initscripts benutzt wird, ist eine spezielle Route am internen Interface des Routers notwendig, sonst gibt es Probleme bei eingehenden Paketen. Für das gezeigte Beispiel lautet diese:</para><screen>
<![CDATA[# /sbin/ip -6 route add 2002:0102:0304:f101::/64 dev eth0 metric 1
]]></screen><para>Diese Route muß jedesmal, wenn der Prefix wechselt, ersetzt werden. Die ist dann der Fall, wenn das Dial-Up-Interface eine neue IPv4-Adresse bekommen hat.</para></sect3></sect2><sect2>
<title>Fehlersuche</title>
<para>Mit dem Programm &rdquo;radvdump&rdquo; können Sie gesendete und empfangene Advertisements detailliert betrachten. Die Anwendung ist einfach:</para><screen>
<![CDATA[# radvdump 
Router advertisement from fe80::280:c8ff:feb9:cef9 (hoplimit 255) 
        AdvCurHopLimit: 64 
        AdvManagedFlag: off 
        AdvOtherConfigFlag: off 
        AdvHomeAgentFlag: off 
        AdvReachableTime: 0 
        AdvRetransTimer: 0 
        Prefix 2002:0102:0304:f101::/64 
                AdvValidLifetime: 30 
                AdvPreferredLifetime: 20 
                AdvOnLink: off 
                AdvAutonomous: on 
                AdvRouterAddr: on 
        Prefix 2001:0db8:100:f101::/64 
                AdvValidLifetime: 2592000 
                AdvPreferredLifetime: 604800 
                AdvOnLink: on 
                AdvAutonomous: on 
                AdvRouterAddr: on 
        AdvSourceLLAddress: 00 80 12 34 56 78
]]></screen><para>Im Output wird jedes Advertisement in einem lesbarem Format dargestellt. Zu sehen sollten die von Ihnen eingestellten Werte sein; falls dem nicht so ist, wurde das Advertisement eventuell nicht von Ihrem radvd gesendet... (für die Rückverfolgung des Routers können Sie die LLAddress, die MAC Adresse des Routers, verwenden...) </para></sect2></sect1><sect1 id='hints-daemons-dhcpv6.' >
<title><!-- anchor id="hints-daemons-dhcpv6." -->Dynamic Host Configuration v6 Server (dhcp6s)</title>
<para>dhcp6s kann für stateful Konfiguration benutzt werden. Der Daemon selbst muß nicht unbedingt auf dem Linux-Standard-Router laufen. </para>
<para>Man kann hier mehr Informationen als bei radvd spezifizieren. Die meisten sind denen des IPv4 DHCP-Servers ähnlich.</para>
<para>Nach einer passenden Konfiguration reagiert der Daemon auf empfangene IPv6-Multicast-Pakete, die von einem Client an die Adresse ff02::1:2 gesendet werden.</para><sect2>
<title>Konfiguration des DHCPv6-Servers (dhcp6s)</title>
<sect3>
<title>Einfache Konfiguration</title>
<para>Die Konfigurationsdatei des dhcp6s ist normalerweise /etc/dhcp6s.conf. Ein einfaches Beispiel sieht wie folgt aus:</para><screen>
<![CDATA[interface eth0 {
        server-preference 255;
        renew-time 60;
        rebind-time 90;
        prefer-life-time 130;
        valid-life-time 200;
        allow rapid-commit;
        option dns_servers 2001:db8:0:f101::1 sub.domain.example;
        link AAA {
                range 2001:db8:0:f101::1000 to 2001:db8:0:f101::ffff/64;
                prefix 2001:db8:0:f101::/64;
        };
};
]]></screen></sect3></sect2><sect2>
<title>Konfiguration des DHCPv6-Client (dhcp6s)</title>
<sect3>
<title>Einfache Konfiguration</title>
<para>Die Konfigurationsdatei von dhcp6c ist normalerweise /etc/dhcp6c.conf. Ein einfaches Beispiel sieht wie folgt aus:</para><screen>
<![CDATA[interface eth0 {
        send rapid-commit;
        request domain-name-servers;
}; 
]]></screen></sect3></sect2><sect2>
<title>Benutzung</title>
<sect3>
<title>dhcp6s</title>
<para>Starten des Servers, z.B. durch</para><screen>
<![CDATA[# service dhcp6s start
]]></screen></sect3><sect3>
<title>dhcp6c</title>
<para>Starten des Clients im Vordergrund, z.B. durch</para><screen>
<![CDATA[# dhcp6c -f eth0
...
]]></screen></sect3></sect2><sect2>
<title>Fehlersuche</title>
<sect3>
<title>dhcp6s</title>
<para>Der Server hat einen Vordergrund und zwei Debug-Schalter (von denen beide benutzt werden sollten), hier ein Beispiel:</para><screen>
<![CDATA[# dhcp6c -d -D -f eth0
]]></screen></sect3><sect3>
<title>dhcp6c</title>
<para>Mit einem IPv6 Ping an die DHCP Multicast-Adresse kann getestet werden, ob der IPv6 DHCP Server überhaupt erreichbar ist am Link.</para><screen>
<![CDATA[# ping6 -I eth0 ff02::1:2
]]></screen><para>Der Client hat einen Vordergrund und zwei Debug-Schalter, hier ein Beispiel:</para><screen>
<![CDATA[# dhcp6c -d -f eth0
Oct/03/2005 17:18:16 dhcpv6 doesn't support hardware type 776 
Oct/03/2005 17:18:16 doesn't support sit0 address family 0 
Oct/03/2005 17:18:16 netlink_recv_rtgenmsg error 
Oct/03/2005 17:18:16 netlink_recv_rtgenmsg error 
Oct/03/2005 17:18:17 status code for this address is: success 
Oct/03/2005 17:18:17 status code: success 
Oct/03/2005 17:18:17 netlink_recv_rtgenmsg error 
Oct/03/2005 17:18:17 netlink_recv_rtgenmsg error 
Oct/03/2005 17:18:17 assigned address 2001:db8:0:f101::1002 prefix len is not in any RAs prefix length using 64 bit instead 
Oct/03/2005 17:18:17 renew time 60, rebind time 9
]]></screen><para>Bemerkung: die netlink-Fehlermeldungen haben keinen Einfluß auf die Funktionalität.</para></sect3></sect2></sect1><sect1 id='hints-daemons-isc-dhcp' >
<title><!-- anchor id="hints-daemons-isc-dhcp" -->ISC Dynamic Host Configuration Server (dhcpd)</title>
<para>ISC DHCP unterstützt IPv6 seit der Version 4.x.</para><sect2>
<title>Konfiguration des ISC DHCP Server für IPv6 (dhcpd)</title>
<para>Es ist zu beachten, daß der ISC DHCP Server aktuell entweder IPv4 oder IPv6 bedienen kann, nicht beides, d.h. der Daemon muß zweimal gestartet werden (für IPv6 mit Option &rdquo;-6&rdquo;) um beide Protokolle zu unterstützen.</para><sect3>
<title>Einfache Configuration</title>
<para>Erstellen einer eigenen Konfigurationsdatei /etc/dhcp/dhcpd6.conf für den IPv6-Teil des dhcpd. Es ist zu beachten, daß der router natürlich eine Schnittstelle mit einer IPv6-Adresse aus dem definierten Subnetz konfiguriert haben muß.</para><screen>
<![CDATA[default-lease-time 600;
max-lease-time 7200; 
log-facility local7; 
subnet6 2001:db8:0:1::/64 {
        # Range for clients
        range6 2001:db8:0:1::129 2001:db8:0:1::254;

        # Range for clients requesting a temporary address
        range6 2001:db8:0:1::/64 temporary;

        # Additional options
        option dhcp6.name-servers fec0:0:0:1::1;
        option dhcp6.domain-search "domain.example";

        # Prefix range for delegation to sub-routers
        prefix6 2001:db8:0:100:: 2001:db8:0:f00:: /56;

        # Example for a fixed host address
        host specialclient {
    		host-identifier option dhcp6.client-id 00:01:00:01:4a:1f:ba:e3:60:b9:1f:01:23:45;
        	fixed-address6 2001:db8:0:1::127;
    	} 
} 
]]></screen><para>Es ist zu beachten, dass die &rdquo;dhcp.client-id&rdquo; nicht länger die MAC-Adresse ist, sondern eine per System eindeutige ID! &rdquo;dhcp6c&rdquo; (siehe oben) benutzt die Datei /var/lib/dhcpv6/dhcp6c_duid (wird beim ersten Start erstellt, falls nicht vorhanden) als eindeutige ID. Es ist eine 14 Byte lange ID, welche mit einer 2 Byte Längeninformation startet (üblicherweise &rdquo;0x000e&rdquo;):</para><screen>
<![CDATA[# hexdump -e '"%07.7_ax " 1/2 "%04x" " " 14/1 "%02x:" "\n"' /var/lib/dhcpv6/dhcp6c_duid 0000000 000e 00:01:00:01:4a:1f:ba:e3:60:b9:1f:01:23:45:
]]></screen></sect3></sect2><sect2>
<title>Benutzung</title>
<sect3>
<title>dhcpd</title>
<para>Starte den Server im Vordergrund:</para><screen>
<![CDATA[# /usr/sbin/dhcpd -6 -d -cf /etc/dhcp/dhcpd6.conf eth1 
Internet Systems Consortium DHCP Server 4.1.0 
Copyright 2004-2008 Internet Systems Consortium. 
All rights reserved. 
For info, please visit http://www.isc.org/sw/dhcp/ 
Not searching LDAP since ldap-server, ldap-port and ldap-base-dn were not specified in the config file 
Wrote 0 leases to leases file. 
Bound to *:547 
Listening on Socket/5/eth1/2001:db8:0:1::/64 
Sending on   Socket/5/eth1/2001:db8:0:1::/64
]]></screen></sect3></sect2></sect1><sect1 id='hints-daemons-dibbler' >
<title><!-- anchor id="hints-daemons-dibbler" -->DHCP Server Dibbler</title>
<para>Dibbler ist auch ein DHCP server.</para><sect2>
<title>Konfiguration des Dibbler DHCP server für IPv6</title>
<sect3>
<title>Einfache Konfuration</title>
<para>Erstellen der Konfigurationsdatei /etc/dibbler/server.conf . Es ist zu beachten, daß der router natürlich eine Schnittstelle mit einer IPv6-Adresse aus dem definierten Subnetz konfiguriert haben muß.</para><screen>
<![CDATA[log-level 8 
log-mode short 
preference 0 
iface "eth1" {
  prefered-lifetime 3600
  valid-lifetime 7200
  class {
    pool 2001:db8:0:1::/64
  }
  option dns-server fec0:0:0:1::1
  option domain domain.example
} 
]]></screen></sect3></sect2><sect2>
<title>Benutzung</title>
<sect3>
<title>dibbler-server</title>
<para>Start Server im Vorgergrund:</para><screen>
<![CDATA[# dibbler-server run 
| Dibbler - a portable DHCPv6, version 0.7.3 (SERVER, Linux port) 
| Authors : Tomasz Mrugalski<thomson(at)klub.com.pl>,Marek Senderski<msend(at)o2.pl> 
| Licence : GNU GPL v2 only. Developed at Gdansk University of Technology. 
| Homepage: http://klub.com.pl/dhcpv6/ 
2009.05.28 10:18:48 Server Notice    My pid (1789) is stored in /var/lib/dibbler/server.pid 
2009.05.28 10:18:48 Server Notice    Detected iface eth0/3, MAC=54:52:00:01:23:45. 
2009.05.28 10:18:48 Server Notice    Detected iface eth1/2, MAC=54:52:00:67:89:ab. 
2009.05.28 10:18:48 Server Notice    Detected iface lo/1, MAC=00:00:00:00:00:00. 
2009.05.28 10:18:48 Server Debug     Skipping database loading. 
2009.05.28 10:18:48 Server Debug     Cache:server-cache.xml file: parsing started, expecting 0 entries. 
2009.05.28 10:18:48 Server Notice    Parsing /etc/dibbler/server.conf config file... 
18:48 Server Debug     Setting 0 generic option(s). 
18:48 Server Debug     0 per-client configurations (exceptions) added. 
18:48 Server Debug     Parsing /etc/dibbler/server.conf done. 
18:48 Server Info      0 client class(es) defined. 
18:48 Server Debug     1 interface(s) specified in /etc/dibbler/server.conf 
18:48 Server Info      Mapping allow, deny list to class 0:0 allow/deny entries in total. 
18:48 Server Info      Interface eth1/2 configuration has been loaded. 
18:48 Server Notice    Running in stateful mode. 
18:48 Server Info      My DUID is 00:01:00:01:11:aa:6d:a7:54:52:00:67:89:ab. 
18:48 Server Notice    Creating multicast (ff02::1:2) socket on eth1/2 (eth1/2) interface. 
18:48 Server Debug     Cache: size set to 1048576 bytes, 1 cache entry size is 87 bytes, so maximum 12052 address-client pair(s) may be cached. 
18:48 Server Notice    Accepting connections. Next event in 4294967295 second(s).
]]></screen></sect3></sect2></sect1><sect1 id='hints-daemons-tcpwrapper' >
<title><!-- anchor id="hints-daemons-tcpwrapper" -->tcp_wrapper</title>
<para>Mit der tcp_wrapper Programmbibliothek können Sie Ihre Dienste gegen Missbrauch schützen.</para><sect2>
<title>Filter-Funktionalität</title>
<para>Sie können tcp_wrapper für folgende Zwecke einsetzen:</para><itemizedlist>
<listitem><para>Nach Source-Adressen filtern (IPv4 oder IPv6)</para></listitem><listitem><para>Nach Benutzern filtern (benötigt einen aktiven ident Daemon auf der Client-Seite)</para></listitem></itemizedlist></sect2><sect2>
<title>Welches Programm benützt tcp_wrapper</title>
<para>Folgende Programme sind bekannt:</para><itemizedlist>
<listitem><para>Jeder Dienst, der durch den xinetd aufgerufen wird (und wenn der xinetd mit der tcp_wrapper Bibliothek kompiliert wurde)</para></listitem><listitem><para>sshd (wenn der mit der tcp_wrapper Bibliothek kompiliert wurde)</para></listitem></itemizedlist></sect2><sect2>
<title>Anwendung</title>
<para>Der tcp_wrapper wird durch zwei Dateien konfiguriert und kontrolliert: /etc/hosts.allow sowie /etc/hosts.deny. Weitere Informationen finden Sie mit:</para><screen>
<![CDATA[$ man hosts.allow
]]></screen><sect3>
<title>Beispiel für /etc/hosts.allow</title>
<para>In dieser Datei wird ein Dienst pro Zeile eingetragen, der positiv gefiltert werden soll (d.h. Verbindungen werden erlaubt).</para><screen>
<![CDATA[sshd:           1.2.3. [2001:0db8:100:200::]/64
daytime-stream: 1.2.3. [2001:0db8:100:200::]/64
]]></screen><para>Achtung: es existieren fehlerhafte Implementierungen, welche folgende fehlerhafte IPv6-Netzwerk-Beschreibung unterstützen: [2001:0db8:100:200::/64]. Hoffentlich werden diese Versionen bald gefixt.</para></sect3><sect3>
<title>Beispiel für /etc/hosts.deny</title>
<para>In dieser Datei werden alle Einträge negativ gefiltert. Und normalerweise sollen alle Verbindungen unterbunden werden:</para><screen>
<![CDATA[ALL: ALL
]]></screen><para>Sie können bei Bedarf obige Standardzeile auch durch Folgende ersetzen, jedoch wird dadurch bei zu vielen Verbindungen in kurzer Zeitz eine DoS Angriff möglich (Last des Mailers sowie des Spool-Verzeichnisses). Ein logwatch ist somit wahrscheinlich die bessere Lösung.</para><screen>
<![CDATA[ALL: ALL: spawn (echo "Attempt from %h %a to %d at `date`" 
 | tee -a /var/log/tcp.deny.log | mail root@localhost)
]]></screen></sect3></sect2><sect2>
<title>Protokollierung</title>
<para>Entsprechend der Syslog Daemon Konfiguration in der Datei /etc/syslog.conf protokolliert der tcp_wrapper normalerweise in die Datei /var/log/secure.</para><sect3>
<title>Abgelehnte Verbindung</title>
<para>Das Logging einer abgelehnten IPv4-Verbindung zu einem durch den xinetd überwachten Daytime Dienst sieht wie folgt aus:</para><screen>
<![CDATA[Jan 2 20:40:44 gate xinetd-ipv6[12346]: FAIL: daytime-stream libwrap
¬ from=::ffff:1.2.3.4
Jan 2 20:32:06 gate xinetd-ipv6[12346]: FAIL: daytime-stream libwrap 
 from=2001:0db8:100:200::212:34ff:fe12:3456
]]></screen><para>Das Logging einer abgelehnten IPv4-Verbindung zu einem durch den xinetd überwachten sshd Daemon (auf IPv4 und IPv6 auf Verbindungen wartend) sieht wie folgt aus:</para><screen>
<![CDATA[Jan 2 20:24:17 gate sshd[12345]: refused connect from ::ffff:1.2.3.4
¬ (::ffff:1.2.3.4)
Jan 2 20:39:33 gate sshd[12345]: refused connect 
 from 2001:0db8:100:200::212:34ff:fe12:3456
¬ (2001:0db8:100:200::212:34ff:fe12:3456)
]]></screen></sect3><sect3>
<title>Akzeptierte Verbindung</title>
<para>Das Logging einer akzeptierten IPv4-Verbindung zu einem durch den xinetd überwachten Daytime Dienst sieht wie folgt aus:</para><screen>
<![CDATA[Jan 2 20:37:50 gate xinetd-ipv6[12346]: START: daytime-stream pid=0
¬ from=::ffff:1.2.3.4 
Jan 2 20:37:56 gate xinetd-ipv6[12346]: START: daytime-stream pid=0 
 from=2001:0db8:100:200::212:34ff:fe12:3456
]]></screen><para>Das Logging einer akzeptierten IPv4-Verbindung zu einem auf zwei Ports hörenden sshd sieht wie folgt aus:</para><screen>
<![CDATA[Jan 2 20:43:10 gate sshd[21975]: Accepted password for user from ::ffff:1.2.3.4
¬ port 33381 ssh2
Jan 2 20:42:19 gate sshd[12345]: Accepted password for user 
 from 2001:0db8:100:200::212:34ff:fe12:3456 port 33380 ssh2
]]></screen></sect3></sect2></sect1><sect1 id='hints-daemons-vsftpd' >
<title><!-- anchor id="hints-daemons-vsftpd" -->vsftpd</title>
<sect2>
<title>Auf IPv6-Adressen lauschen</title>
<para>Editiere die Konfigurationsdatei, üblicherweise /etc/vsftpd/vsftpd.conf, und setze die Option für das &rdquo;listen&rdquo; wie folgt:</para><screen>
<![CDATA[listen_ipv6=yes
]]></screen><para>Mehr ist nicht zu tun.</para></sect2></sect1><sect1 id='hints-daemons-proftpd' >
<title><!-- anchor id="hints-daemons-proftpd" -->proftpd</title>
<sect2>
<title>Auf IPv6-Adressen lauschen</title>
<para>Editiere die Konfigurationsdatei, üblicherweise /etc/proftpd.conf, allerdings ist hier zu beachten, daß dies in der Konfigurationsart virtueller Host nicht 100% logisch ist</para><screen>
<![CDATA[<VirtualHost 192.0.2.1>
        ...
        Bind 2001:0DB8::1
        ...
</VirtualHost>
]]></screen><para>Mehr ist nicht zu tun.</para></sect2></sect1><sect1 id='hints-daemons-others' >
<title><!-- anchor id="hints-daemons-others" -->Andere Daemons</title>
<para>Seit einiger Zeit ist dies meist einfach, suchen Sie einfach nach einer Kommandozeilen-Option oder einer Konfigurationsvariable, um das Lauschen an IPv6-Adressen zu aktivieren. Schauen Sie dazu in den Manual-Seiten des Daemons oder in den entsprechenden FAQs nach. Es kann allerdings durchaus sein, daß sich der Daemon nur an die IPv6-&rdquo;any&rdquo;-Adresse (::) binden läßt und kein dediziertes Binden an eine spezielle IPv6-Adresse möglich ist (das hängt von der Unterstützung des Programmierers ab).</para></sect1></chapter><chapter id='chapter-programming' >
<title><!-- anchor id="chapter-programming" -->Programmierung</title>
<sect1 id='chapter-section-using-API' >
<title><!-- anchor id="chapter-section-using-API" --><!-- anchor id="chapter-programming-using-API" -->Programmierung mit Nutzung der C-API</title>
<para>Dieser Abschnitt ist momentan nicht in Deutsch verfügbar, die englische Version ist verfügbar unter: <ulink url="http://www.tldp.org/HOWTO/Linux+IPv6-HOWTO/chapter-section-using-api.html">TLDP / Linux+IPv6-HOWTO / Programming using C-API</ulink></para></sect1><sect1>
<title>Andere Programmiersprachen</title>
<sect2>
<title>JAVA</title>
<para>In Sun Java Versionen ab 1.4 ist Unterstützung für IPv6 vorhanden, siehe dazu auch die Klasse <ulink url="http://java.sun.com/j2se/1.5.0/docs/api/java/net/Inet6Address.html">Inet6Address (1.5/5.0)</ulink>. Weitere Tipps sind verfügbar im <emphasis>Networking IPv6 User Guide for JDK/JRE</emphasis> <ulink url="http://java.sun.com/j2se/1.4.2/docs/guide/net/ipv6_guide/index.html">1.4</ulink> und <ulink url="http://java.sun.com/j2se/1.5.0/docs/guide/net/ipv6_guide/index.html">1.5 (5.0)</ulink>.</para></sect2><sect2>
<title>Perl</title>
<para>Stand Mai 2007 ist nichts bekannt, daß der Kern von Perl IPv6 nativ unterstützt. Dies kann allerdings aktiviert werden durch Benützung des folgenden Moduls:</para><itemizedlist>
<listitem><para><ulink url="http://search.cpan.org/~umemoto/Socket6/">Socket6</ulink></para></listitem></itemizedlist><para>Zudem existieren weitere Module für/mit IPv6 Unterstützung (z.B. Net::IP), suche nach &rdquo;IPv6&rdquo; bei <ulink url="http://search.cpan.org/">http://search.cpan.org/</ulink>.</para></sect2></sect1></chapter><chapter id='chapter-interoperability' >
<title><!-- anchor id="chapter-interoperability" -->Interoperabilität</title>
<para>Das <ulink url="http://www.tahi.org/">TAHI Project</ulink> prüft das Zusammenspiel der verschiedenen Betriebssysteme in Hinblick auf IPv6 Funktionalität und Implementierung. Der Linux Kernel hat bereits das <ulink url="http://www.linux-ipv6.org/v6ready/">IPv6 Ready Logo Phase 1</ulink> bekommen.</para></chapter><chapter id='chapter-information' >
<title><!-- anchor id="chapter-information" -->Weitere Informationen und URLs</title>
<sect1 id='information-books' >
<title><!-- anchor id="information-books" -->Gedruckte Bücher, Artikel, Onlinerezensionen</title>
<sect2>
<title>Gedruckte Bücher (Englisch)</title>
<sect3>
<title>Cisco</title>
<itemizedlist>
<listitem><para>Cisco Self-Study: Implementing IPv6 Networks (IPV6), von Regis Desmeules. Cisco Press; ISBN 1587050862; 500 Seiten; 1. Edition (April 11, 2003).
Anmerkung: Dieser Titel wird am 11. April 2003 publiziert.</para></listitem><listitem><para>Configuring IPv6 with Cisco IOS, von Sam Brown, Sam Browne, Neal Chen, Robbie Harrell, Edgar, Jr. Parenti (Editor), Eric Knipp (Editor), Paul Fong (Editor) 362 Seiten; Syngress Media Inc; ISBN 1928994849; (July 12, 2002).</para></listitem></itemizedlist></sect3><sect3>
<title>Allgemein</title>
<itemizedlist>
<listitem><para><ulink url="http://www.benedikt-stockebrand.de/books_e.html#ipv6-in-practice">IPv6 in Practice: A Unixer's Guide to the Next Generation Internet</ulink> von Benedikt Stockebrand, November 2006; ISBN 3-540-24524-3</para></listitem><listitem><para><ulink url="http://www.sunny.ch/publications/f_ipv6.htm">IPv6 Essentials</ulink> von Silvia Hagen, zweite Auflage, Mai 2006; ISBN 0-5961-0058-2
<ulink url="http://www.oreilly.com/catalog/ipv6ess/">ToC, Index, Sample Chapter etc.</ulink>; <ulink url="http://press.oreilly.com/ipv6ess.html">O'Reilly Pressrelease</ulink></para></listitem><listitem><para>IPv6: The New Internet Protocol. Von Christian Huitema; Publiziert von Prentice-Hall; ISBN 0138505055. 
Beschreibung: Dieses Buch, geschrieben von Christian Huitema - einem Mitglied des Internet Architecture Board, bietet eine exzellente Beschreibung von IPv6, die Unterschiede zu IPv4 sowie die 'wies' und 'warums' der IPv6 Entwicklung. 
Quelle: <ulink url="http://www.cs.uu.nl/wais/html/na-dir/internet/tcp-ip/resource-list.html">http://www.cs.uu.nl/wais/html/na-dir/internet/tcp-ip/resource-list.html</ulink></para></listitem><listitem><para><ulink url="http://www.epinions.com/book_mu-3402412/display_~full_specs">IPv6 Networks</ulink> von Niles, Kitty; (ISBN 0070248079); 550 Seiten; Datum der Veröffentlichung: 05/01/1998.</para></listitem><listitem><para>Implementing IPV6. Supporting the Next Generation Internet Protocols von P. E. Miller, Mark A. Miller; Hrsg.: John Wiley &amp; Sons; ISBN 0764545892; 2. Edition (15.März 2000); 402 Seiten.</para></listitem><listitem><para>Big Book of Ipv6 Addressing Rfcs von Peter H. Salus (Compiler), Morgan Kaufmann (Hrsg.), April 2000, 450 Seiten ISBN 0126167702. </para></listitem><listitem><para><ulink url="http://www.epinions.com/book_mu-3922588/display_~full_specs">Understanding IPV6</ulink> von Davies, Joseph; ISBN 0735612455; Datum der Veröffentlichung: 05/01/2001; 350 Seiten.</para></listitem><listitem><para>Migrating to IPv6 - IPv6 in Practice von Marc Blanchet; John Wiley &amp; Sons (Hrsg.); ISBN 0471498920; 1. Edition (November 2002); 368 Seiten.</para></listitem><listitem><para>Ipv6 Network Programming von Jun-ichiro Hagino; ISBN 1555583180</para></listitem><listitem><para><ulink url="http://www.nwfusion.com/news/2000/1023ipv6.html">Wireless boosting IPv6</ulink> von Carolyn Duffy Marsan, 10/23/2000.</para></listitem><listitem><para><ulink url="http://www.oreillynet.com/search/index.ncsp?sp-q=IPv6">O'reilly Network search for keyword IPv6</ulink> ergibt 29 Treffer (28. Januar 2002)</para></listitem></itemizedlist></sect3></sect2><sect2>
<title>Artikel, eBooks, Online Rezensionen</title>
<itemizedlist>
<listitem><para><ulink url="http://www.onlamp.com/pub/a/onlamp/2001/06/01/ipv6_tutorial.html">Getting Connected with 6to4</ulink> von Huber Feyrer, 06/01/2001</para></listitem><listitem><para>Transient Addressing for Related Processes: Improved Firewalling by Using IPv6 and Multiple Addresses per Host; geschrieben von Peter M. Gleiz, Steven M. Bellovin (<ulink url="http://www.securiteinfo.com/ebooks/pdf/tarp.pdf">PC-PDF-Version</ulink>; <ulink url="http://www.securiteinfo.com/ebooks/palm/tarp.pdf">Palm-PDF-Version</ulink>; <ulink url="http://www.securiteinfo.com/ebooks/pdb/tarp.pdb">PDB-Version</ulink>)</para></listitem><listitem><para><ulink url="http://www.ip6.com/index.html">Internetworking IPv6 with Cisco Routers</ulink> von Silvano Gai, McGrawHill Italia, 1997. Die 13 Kapitel und der Anhang A-D sind als PDF-Dokument 'downladbar'.</para></listitem><listitem><para><ulink url="http://www.csc.fi/~psavola/residential.html">Migration and Co-existence of IPv4 and IPv6 in Residential Networks</ulink> von Pekka Savola, CSC/FUNET, 2002</para></listitem></itemizedlist></sect2><sect2 id='information-sciencepublication' >
<title><!-- anchor id="information-sciencepublication" -->Wissenschaftliche Publikationen (Kurzbeschreibungen, Bibliographien, Online Quellen)</title>
<para>Siehe auch: <ulink url="http://liinwww.ira.uka.de/mpsbib?query=ipv6&amp;maxnum=200">liinwww.ira.uka.de/ipv6</ulink> bzw. <ulink url="http://www.google.com/scholar?q=ipv6">Google / Scholar / IPv6</ulink></para><itemizedlist>
<listitem><para><ulink url="http://www.ipv6.ac.uk/gtpv6/workplan.html">GEANT IPv6 Workplan</ulink></para></listitem><listitem><para><ulink url="http://www.ipv6.ac.uk/bermuda2/">IPv6 Trials on UK Academic Networks: Bermuda Project Aug.2002</ulink>: Participants - Getting connected - Project deliverables - Network topology - Address assignments - Wireless IPv6 access - IPv6 migration - Project presentations - Internet 2 - Other IPv6 projects - IPv6 fora and standards Bermuda 2...</para></listitem><listitem><para><ulink url="http://www.ipv6.ac.uk/">http://www.ipv6.ac.uk/</ulink></para></listitem><listitem><para><ulink url="http://www.ipv6.ecs.soton.ac.uk/">IPv6 at the University of Southampton</ulink></para></listitem><listitem><para>Microsoft Research IPv6 Implementation (MSRIPv6): <ulink url="http://www.research.microsoft.com/msripv6/">MSRIPv6 Configuring 6to4 - Connectivity with MSR IPv6 - Our 6Bone Node... </ulink></para></listitem></itemizedlist></sect2><sect2>
<title>Sonstiges</title>
<para>Mehr Infos gibt es unter: <ulink url="http://www.switch.ch/lan/ipv6/references.html">SWITCH IPv6 Pilot / References</ulink></para></sect2></sect1><sect1 id='information-conferences' >
<title><!-- anchor id="information-conferences" -->Konferenzen und Meetings</title>
<para>Fehlt etwas? Vorschläge sind willkommen!</para><sect2>
<title>2004</title>
<itemizedlist>
<listitem><para>1st Global IPv6 Summit in Sao Paul, Brasil</para></listitem></itemizedlist></sect2></sect1><sect1 id='information-onlineinformation' >
<title><!-- anchor id="information-onlineinformation" -->Online-Informationen</title>
<sect2 id='information-joinipv6.' >
<title><!-- anchor id="information-joinipv6." -->Mit dem IPv6 Backbone verbinden</title>
<para>Mehr Infos in späteren Versionen... Vorschläge sind Willkommen!</para><sect3 id='information-globalregistries' >
<title><!-- anchor id="information-globalregistries" -->Globale Registrierungsstellen</title>
<para>Siehe regionale Registrierungsstellen.</para></sect3><sect3 id='information-majorregionregistries' >
<title><!-- anchor id="information-majorregionregistries" -->Regionale Haupt-Registrierungsstellen</title>
<itemizedlist>
<listitem><para>Amerika: <ulink url="http://www.arin.net/">ARIN</ulink>, <ulink url="http://www.arin.net/registration/ipv6/index.html">ARIN / registration page</ulink>, <ulink url="http://www.arin.net/registration/ipv6/index.html">ARIN / IPv6 guidelines</ulink></para></listitem><listitem><para>EMEA: <ulink url="http://www.ripe.net/">Ripe NCC</ulink>, <ulink url="http://www.ripe.net/ripencc/mem-services/registration/">Ripe NCC / registration page</ulink>, <ulink url="http://www.ripe.net/ripencc/mem-services/registration/ipv6/">Ripe NCC / IPv6 registration</ulink></para></listitem><listitem><para>Asien/Pazifik: <ulink url="http://www.apnic.net/">APNIC</ulink>, <ulink url="http://www.apnic.net/services/ipv6_guide.html">APNIC / IPv6 ressource guide</ulink></para></listitem><listitem><para>Latein Amerika und Karikik: <ulink url="http://lacnic.org/">LACNIC</ulink>, <ulink url="http://lacnic.net/en/bt-IPv6.html">IPv6 Registration Services</ulink>, <ulink url="http://lacnic.net/en/chapter-4-en.pdf">IPv6 Allocation Policy</ulink></para></listitem><listitem><para>Afrika: <ulink url="http://www.afrinic.org/">AfriNIC</ulink></para></listitem></itemizedlist><para>Es existiert auch eine Liste der größten Zuteilungen sortiert nach lokalen Registrierungsstellen: <ulink url="http://www.ripe.net/ripencc/mem-services/registration/ipv6/ipv6allocs.html">Ripe NCC / IPv6 allocations</ulink>.</para></sect3><sect3 id='information-joinipv6-tunnelbrokers' >
<title><!-- anchor id="information-joinipv6-tunnelbrokers" -->Tunnel-Broker</title>
<para>Anmerkung: Eine Tunnel-Broker Liste ist im Abschnitt <link linkend="information-Tunnelbroker">Tunnel broker</link> weiter unten zu finden. </para><itemizedlist>
<listitem><para>Former IPng. Tunnelbroker and IPv6 resources, now migrated to the <ulink url="http://www.sixxs.net/main/">SixXs System</ulink>.</para></listitem><listitem><para>Eckes <ulink url="http://sites.inka.de/lina/linux/ipv6.html">IPv6-with-Linux</ulink> Seite.</para></listitem><listitem><para>tunnelc - ein Perl basiertes Tunnel Client Script:
freshmeat.net: <ulink url="http://freshmeat.net/projects/tunnelc">Project details for tunnel client</ulink>
SourceForge: <ulink url="http://sourceforge.net/projects/tunnelc">Project Info - tunnelc</ulink> (also <ulink url="http://tunnelc.sourceforge.net/">here</ulink>)</para></listitem><listitem><para>Linux Advanced Routing &amp; Traffic Control HOWTO, <ulink url="http://howtos.linuxbroker.com/howtoreader.shtml?file=Adv-Routing-HOWTO.html#LARTC.TUNNEL-IPV6.ADDRESSING">Chapter 6: IPv6 tunneling with Cisco and/or 6bone</ulink>.</para></listitem></itemizedlist></sect3><sect3 id='information-joinipv6-6to4-tunneling' >
<title><!-- anchor id="information-joinipv6-6to4-tunneling" -->6to4</title>
<itemizedlist>
<listitem><para><ulink url="http://www.kfu.com/~nsayer/6to4/">NSayer's 6to4 information</ulink></para></listitem><listitem><para><ulink url="http://www.faqs.org/rfcs/rfc3068.html">RFC 3068 / An Anycast Prefix for 6to4 Relay Routers</ulink></para></listitem></itemizedlist></sect3><sect3 id='information-joinipv6-isatap-tunneling' >
<title><!-- anchor id="information-joinipv6-isatap-tunneling" -->ISATAP</title>
<itemizedlist>
<listitem><para><ulink url="http://www.join.uni-muenster.de/Dokumente/Howtos/Howto_ISATAP.php?lang=en">ISATAP (Intra-Site Automatic Tunnel Access Protocol) Information</ulink> by <ulink url="http://www.join.uni-muenster.de/">JOIN</ulink></para></listitem></itemizedlist></sect3></sect2><sect2>
<title>Neueste Nachrichten und URLs zu anderen Dokumenten</title>
<itemizedlist>
<listitem><para><ulink url="http://www.estoile.com/links/ipv6">Viele URLs zu anderen Dokumenten</ulink> von Anil Edathara</para></listitem><listitem><para><ulink url="http://www.go6.net/">go6 - The IPv6 Portal</ulink>: ein IPv6 Online-Portal mit einem WIKI-basierenden IPv6-Know-How-Schwerpunkt, einem IPv6-Diskussionsforum, einer aktuellen Sammlung von IPv6-Events und Nachrichten, freiem IPv6-Zugang und Services, IPv6 Software-Applikationen und viel mehr</para></listitem></itemizedlist></sect2><sect2>
<title>Protokoll-Informationen</title>
<sect3>
<title>IPv6 bezogene Request For Comments (RFCs)</title>
<para>Das veröffentlichen einer Liste mit IPv6 relevanter RFCs geht über den Rahmen dieses Dokumentes hinaus, unter folgenden Links können Sie jedenfalls diverse Listen finden:</para><itemizedlist>
<listitem><para>sortierte Liste:<ulink url="http://playground.sun.com/pub/ipng/html/specs/standards.html">IPng Standardization Status</ulink> oder <ulink url="http://playground.sun.com/pub/ipng/html/specs/specifications.html">IPng Current Specifications</ulink> von Robert Hinden</para></listitem><listitem><para><ulink url="http://www.ipv6.org/specs.html">IPv6 Related Specifications</ulink> auf IPv6.org</para></listitem></itemizedlist></sect3><sect3>
<title>Aktuelle Entwürfe diverser Arbeitsgruppen</title>
<para>Aktuelle (auch) IPv6-bezogene Drafts finden Sie hier:</para><itemizedlist>
<listitem><para><ulink url="http://www.ietf.org/ids.by.wg/ipv6.html">IP Version 6 (ipv6)</ulink></para></listitem><listitem><para><ulink url="http://www.ietf.org/ids.by.wg/ngtrans.html">Next Generation Transition (ngtrans)</ulink></para></listitem><listitem><para><ulink url="http://www.ietf.org/ids.by.wg/dhc.html">Dynamic Host Configuration (dhc)</ulink></para></listitem><listitem><para><ulink url="http://www.ietf.org/ids.by.wg/dnsext.html">Domain Name System Extension (dnsext)</ulink></para></listitem><listitem><para><ulink url="http://www.ietf.org/ids.by.wg/v6ops.html">IPv6 Operations (v6ops)</ulink></para></listitem><listitem><para><ulink url="http://www.ietf.org/ids.by.wg/mobileip.html">Mobile IP (mobileip)</ulink></para></listitem><listitem><para><ulink url="http://playground.sun.com/pub/ipng/html/ipng-main.html">Get any information about IPv6, from overviews, through RFCs &amp; drafts, to implementations</ulink> (inklusive Verfügbarkeit der Stacks auf verschiedenen Plattformen &amp; Quellcode diverser IPv6 Stacks)</para></listitem></itemizedlist></sect3><sect3>
<title>Sonstige</title>
<itemizedlist>
<listitem><para><ulink url="http://www.switch.ch/lan/ipv6/references.html">SWITCH IPv6 Pilot / References</ulink>, umfangreiche Liste mit IPv6 Quellen betreut von Simon Leinen </para></listitem></itemizedlist></sect3></sect2><sect2>
<title>Weitere Informationen</title>
<para><ulink url="http://www.deepspace6.net/sections/links.html">DeepSpace6 / Weitere interessante Links</ulink></para><sect3>
<title>Linux Informationen</title>
<itemizedlist>
<listitem><para><ulink url="http://www.deepspace6.net/">DeepSpace6 / (Not only) Linux IPv6 Portal</ulink> - Italien (<ulink url="http://mirrors.bieringer.de/www.deepspace6.net/">Spiegel</ulink>)</para></listitem><listitem><para><ulink url="http://www.bieringer.de/linux/IPv6/">IPv6-HowTo for Linux by Peter Bieringer</ulink> - Deutschland, und sein <ulink url="ftp://ftp.bieringer.de/pub/linux/IPv6/">Bieringer / IPv6 - software archive</ulink></para></listitem><listitem><para><ulink url="http://www.bieringer.de/linux/IPv6/status/IPv6+Linux-status.html">Linux+IPv6 status by Peter Bieringer</ulink> - Deutschland</para></listitem><listitem><para><ulink url="http://www.deepspace6.net/docs/ipv6_status_page_apps.html">DeepSpace6 / IPv6 Status Page</ulink> - Italien (<ulink url="http://mirrors.bieringer.de/www.deepspace6.net/docs/ipv6_status_page_apps.html">Spiegel</ulink>) (ersetzt das oben genannte in Zukunft)</para></listitem><listitem><para><ulink url="http://www.linux-ipv6.org/">USAGI project</ulink> - Japan, und deren <ulink url="ftp://ftp.linux-ipv6.org/pub/">USAGI project - software archive</ulink></para></listitem><listitem><para><ulink url="http://www.tldp.org/HOWTO/OLSR-IPv6-HOWTO/">Linux Optimized Link State Routing Protocol (OLSR) IPv6 HOWTO</ulink></para></listitem><listitem><para><ulink url="http://inl.info.ucl.ac.be/LinShim6/">LinShim6</ulink></para></listitem></itemizedlist></sect3><sect3>
<title>Informationen zu Linux-Distributionen</title>
<variablelist>
<varlistentry><term>PLD</term><listitem><para><ulink url="http://www.pld-linux.org/">PLD Linux Distribution</ulink> (&rdquo;Marktführer&rdquo; bei inkludierten IPv6 fähigen Paketen))</para></listitem></varlistentry><varlistentry><term>Red&nbsp;Hat</term><listitem><para><ulink url="http://www.redhat.com/">Red Hat Enterprise Linux</ulink>, <ulink url="http://www.netcore.fi/pekkas/linux/ipv6/"> Pekka Savola's IPv6 packages (historisch)</ulink></para></listitem></varlistentry><varlistentry><term>Fedora</term><listitem><para><ulink url="https://fedoraproject.org/">Fedora (Project) Linux</ulink></para></listitem></varlistentry><varlistentry><term>Debian</term><listitem><para><ulink url="http://www.debian.org/">Debian Linux</ulink>, <ulink url="http://ipv6.debian.net/">IPv6 with Debian Linux</ulink></para></listitem></varlistentry><varlistentry><term>SuSE</term><listitem><para><ulink url="https://www.suse.com/">SuSE Linux</ulink></para></listitem></varlistentry><varlistentry><term>Mandriva</term><listitem><para><ulink url="http://wiht.link/mandrivalinux">Mandriva (historisch)</ulink></para></listitem></varlistentry></variablelist><para>Weitere Details siehe unter <ulink url="http://www.bieringer.de/linux/IPv6/status/IPv6+Linux-status-distributions.html">IPv6+Linux Status Distributions</ulink>.</para></sect3><sect3>
<title>Allgemeine Informationen</title>
<itemizedlist>
<listitem><para><ulink url="http://www.ipv6.org/">IPv6.org</ulink></para></listitem><listitem><para><ulink url="http://www.6bone.net/">6bone</ulink></para></listitem><listitem><para><ulink url="http://www.v6.wide.ad.jp/">WIDE project</ulink> - Japan</para></listitem><listitem><para><ulink url="http://www.switch.ch/lan/ipv6/">SWITCH IPv6 Pilot</ulink> - Schweiz</para></listitem><listitem><para><ulink url="http://www.feyrer.de/IPv6/">IPv6 Corner of Hubert Feyrer</ulink> - Deutschland</para></listitem><listitem><para><ulink url="http://www.ipv6forum.com/">IPv6 Forum</ulink> - ein weltweites Konsortium führender Internet-Hersteller, Forschungs- &amp; Bildungseinrichtungen... </para></listitem><listitem><para><ulink url="http://playground.sun.com/pub/ipng/html/ipng-main.html">Playground.sun.com / IPv6 Info Page</ulink> - betreut von Robert Hinden, Nokia. Hier gibt es jede Information zum Thema IPv6: Zusammenfassungen, RFCs &amp; Drafts, Implementierungen (Verfügbarkeit der Stacks auf verschiedenen Plattformen &amp; Quellcode diverser IPv6 Stacks). </para></listitem><listitem><para><ulink url="http://www.6init.com/">6INIT</ulink> - IPv6 Internet Initiative - ein Fifth Framework Projekt der EU im Rahmen des IST Programmes.</para></listitem><listitem><para><ulink url="http://www.ipv6-taskforce.org/">IPv6 Task Force (European Union)</ulink></para></listitem><listitem><para><ulink url="http://www.6init.org/">6init</ulink> - IPv6 INternet IniTiative </para></listitem><listitem><para><ulink url="http://www.usenix.org/publications/library/proceedings/ana97/summaries/deering.html">IPv6: The New Version of the Internet Protocol</ulink>, von Steve Deering.</para></listitem><listitem><para><ulink url="http://www.garykessler.net/library/ipv6_exp.html">IPv6: The Next Generation Internet Protocol</ulink>, von Gary C. Kessler. </para></listitem><listitem><para><ulink url="http://www.3com.com/nsc/ipv6.html">IPv6: Next Generation Internet Protocol</ulink> - 3Com</para></listitem><listitem><para><ulink url="http://www.internet2.org/">internet || site</ulink> und <ulink url="http://ipv6.internet2.edu/">internet2 Working Group</ulink></para></listitem><listitem><para>NetworkWorldFusion: Search / Doc Finder: <ulink url="http://search.nwfusion.com/query.html?qt=IPv6&amp;qp=&amp;ch=cn&amp;">searched for IPv6</ulink> (102 Dokumente gefunden - 22.12.2002) </para></listitem><listitem><para><ulink url="http://www.theregister.co.uk/">The Register</ulink> (Suche nach IPv6 ergab 30 Dokumente, 22.12.2002) </para></listitem><listitem><para><ulink url="http://zdnet.search.com/search?cat=279&amp;q=IPv6">ZDNet Search for IPv6</ulink></para></listitem><listitem><para><ulink url="http://whatis.techtarget.com/wsearchResults/1,290214,sid9,00.html?query=IPv6">TechTarget Search for IPv6</ulink></para></listitem><listitem><para><ulink url="http://www.faqs.org/faqs/internet/tcp-ip/resource-list/index.html">IPv6 &amp; TCP Resources List</ulink></para></listitem></itemizedlist><para>Fehlt etwas? Vorschläge sind Willkommen!</para></sect3><sect3 id='information-marketresearch' >
<title><!-- anchor id="information-marketresearch" -->Marktforschung</title>
<itemizedlist>
<listitem><para><ulink url="http://www.statista.com/search/internet+america/">statista - The Statistics Portal</ulink></para></listitem><listitem><para><ulink url="http://www.marketresearch.com/">Market Research</ulink></para></listitem></itemizedlist></sect3><sect3 id='information-patents' >
<title><!-- anchor id="information-patents" -->Patente</title>
<itemizedlist>
<listitem><para>Delphion Research: <ulink url="http://www.delphion.com/research/">Patent Search Page</ulink>. Basic (kostenlose) Registrierung ist notwendig. Beispiele für die Suche nach IPv6 (vom 21.12.2002): 
<ulink url="http://www.delphion.com/details?pn=US06118784__">Communicating method between IPv4 terminal and IPv6 terminal and IPv4-IPv6 converting apparatus</ulink>
<ulink url="http://www.delphion.com/details?pn=US06038233__">Translator for IP networks, network system using the translator, and IP network coupling method therefor</ulink></para></listitem></itemizedlist></sect3></sect2><sect2>
<title>Sortiert nach Ländern</title>
<sect3>
<title>Europa</title>
<itemizedlist>
<listitem><para><ulink url="http://www.ist-ipv6.org/">www.ist-ipv6.org</ulink>: IST IPv6 Cluster, European IPv6 Research and Development Projects</para></listitem><listitem><para><ulink url="http://www.euro6ix.org/">Euro6IX</ulink>: European IPv6 Internet Exchanges Backbone</para></listitem></itemizedlist></sect3><sect3>
<title>Australien</title>
<itemizedlist>
<listitem><para><ulink url="http://oversteer.bl.echidna.id.au/IPv6/">Carl's Australian IPv6 Pages</ulink> (alter Inhalt)</para></listitem></itemizedlist></sect3><sect3>
<title>Belgien</title>
<para>Vorschläge sind Willkommen!</para></sect3><sect3>
<title>Brasilien</title>
<itemizedlist>
<listitem><para><ulink url="http://www.ipv6dobrasil.com.br/">IPv6 do Brasil</ulink></para></listitem></itemizedlist></sect3><sect3>
<title>China</title>
<para>Vorschläge sind Willkommen!</para></sect3><sect3>
<title>Deutschland</title>
<itemizedlist>
<listitem><para><ulink url="https://www.xing.com/net/ipv6/">OpenBC / IPv6</ulink></para></listitem></itemizedlist></sect3><sect3>
<title>Frankreich</title>
<itemizedlist>
<listitem><para><ulink url="http://www.renater.fr/Projets/IPv6/index.htm">Renater</ulink>: Renater IPv6 Projekt Seite</para></listitem><listitem><para><ulink url="http://www.inria.fr/recherche/equipes/ipv6.fr.html">IPv6 - RSVP - ATM at INRIA</ulink></para></listitem><listitem><para><ulink url="http://www.netbsd.org/fr/Documentation/network/ipv6/">NetBSD IPv6 Dokumentation</ulink></para></listitem></itemizedlist></sect3><sect3>
<title>Großbritannien</title>
<itemizedlist>
<listitem><para><ulink url="http://www.bt.com/ipv6/">British Telecom IPv6 Home</ulink>: BT's ISP IPv6 Versuch, Englands erster IPv6 Internet Exchange etc.</para></listitem></itemizedlist></sect3><sect3>
<title>Indien</title>
<para>Vorschläge sind willkommen!</para></sect3><sect3>
<title>Italien</title>
<itemizedlist>
<listitem><para><ulink url="http://project6.ferrara.linux.it/">Project6</ulink>: IPv6 mit Linux</para></listitem></itemizedlist></sect3><sect3>
<title>Japan</title>
<itemizedlist>
<listitem><para><ulink url="http://www.rtpro.yamaha.co.jp/RT/ipv6/">Yamaha IPv6</ulink> (sorry, alles in japanischer Sprache ...)</para></listitem></itemizedlist></sect3><sect3>
<title>Korea</title>
<itemizedlist>
<listitem><para><ulink url="http://www.krv6.net/">ETRI</ulink>: Electronics and Telecommunications Research Institut</para></listitem><listitem><para><ulink url="http://www.ipv6.or.kr/english/index.new.htm">IPv6 Forum Korea</ulink>: IPv6 Infrastruktur Projekt in Korea</para></listitem></itemizedlist></sect3><sect3>
<title>Mexiko</title>
<itemizedlist>
<listitem><para><ulink url="http://www.ipv6.unam.mx/">IPv6 Mexico</ulink> (spanische &amp; englische Version) - IPv6 Projekt Homepage der National Autonomous University of Mexico (UNAM)</para></listitem></itemizedlist></sect3><sect3>
<title>Niederlande</title>
<itemizedlist>
<listitem><para><ulink url="http://www.ipv6.surfnet.nl/">SURFnet</ulink>: SURFnet IPv6 Backbone</para></listitem><listitem><para><ulink url="http://www.stack.nl/">STACK</ulink>, <ulink url="http://www.stack.nl/ipv6/">STACK (IPv6)</ulink>: Computer-Studendten-Verband der Eindhoven University of Technology, Niederlande. </para></listitem><listitem><para><ulink url="http://www.ipng.nl/">IPng.nl</ulink>: Zusammenarbeit zwischen WiseGuys und Intouch.</para></listitem></itemizedlist></sect3><sect3>
<title>Österreich</title>
<itemizedlist>
<listitem><para><ulink url="http://www.ikn.tuwien.ac.at/~ipv6/">IPv6@IKNnet and MIPv6 Research Group</ulink>: TU Vienna, Austria (IPv6: Projekte, Publikationen, Diplom- / Doktorarbeiten, Konferenzunterlagen etc.)</para></listitem></itemizedlist></sect3><sect3>
<title>Portugal </title>
<para>Vorschläge sind willkommen!</para></sect3><sect3>
<title>Russland</title>
<itemizedlist>
<listitem><para><ulink url="http://www.ipv6.ru/">IPv6 Forum for Russia</ulink>: Yaroslavl State University Internet Center</para></listitem></itemizedlist></sect3><sect3>
<title>Schweiz</title>
<para>Vorschläge sind willkommen!</para></sect3></sect2><sect2>
<title>Sortiert nach Betriebssystemen</title>
<sect3>
<title>*BSD</title>
<itemizedlist>
<listitem><para><ulink url="http://www.kame.net/">KAME project</ulink> (*BSD)</para></listitem><listitem><para><ulink url="http://www.netbsd.org/Documentation/network/ipv6/">NetBSD's IPv6 Networking FAQ</ulink></para></listitem><listitem><para><ulink url="http://www.freebsd.org/ports/ipv6.html">FreeBSD Ports: Ipv6</ulink></para></listitem></itemizedlist></sect3><sect3>
<title>Cisco IOS</title>
<itemizedlist>
<listitem><para><ulink url="http://www.cisco.com/warp/public/732/Tech/ipv6/">Cisco IOS IPv6 Entry Page</ulink></para></listitem><listitem><para><ulink url="http://www.cisco.com/univercd/cc/td/doc/product/software/ios122/122newft/122t/122t2/ipv6/ftipv6c.htm">IPv6 for Cisco IOS Software</ulink>, Datei 2 von 3: Aug 2002 -- Inhalt: IPv6 for Cisco IOS Software; Configuring Documentation Specifics; Enabling IPv6 Routing and Configuring; IPv6 Addressing; Enabling IPv6 Processing Globally.</para></listitem><listitem><para>Cisco Internet Networking Handbook, <ulink url="http://www.cisco.com/univercd/cc/td/doc/cisintwk/ito_doc/ipv6.htm">Chapter IPv6</ulink></para></listitem></itemizedlist></sect3><sect3>
<title>HPUX</title>
<itemizedlist>
<listitem><para><ulink url="http://www.faqs.org/faqs/hp/hpux-faq/index.html">comp.sys.hp.hpux FAQ</ulink></para></listitem></itemizedlist></sect3><sect3>
<title>IBM</title>
<itemizedlist>
<listitem><para>Now that IBM's announced the availability of z/OS V1.4, <ulink url="http://search390.techtarget.com/ateQuestionNResponse/0,289625,sid10_cid486367_tax292523,00.html">what's new in this release?</ulink> Die Frage wurde am 15. August 2002 'geposted'.</para></listitem></itemizedlist></sect3><sect3>
<title>Microsoft</title>
<itemizedlist>
<listitem><para><ulink url="http://www.microsoft.com/windows2000/technologies/communications/ipv6/default.asp">Microsoft Windows 2000 IPv6</ulink> </para></listitem><listitem><para><ulink url="http://www.research.microsoft.com/msripv6">MSRIPv6</ulink> - Microsoft Research Network - IPv6 Homepage </para></listitem><listitem><para><ulink url="http://support.microsoft.com/default.aspx?scid=kb;en-us;306203">Internet Connection Firewall Does Not Block Internet Protocol Version 6 Traffic</ulink> (6.11.2001)</para></listitem><listitem><para><ulink url="http://support.microsoft.com/default.aspx?scid=kb;en-us;289892">Internet Protocol Numbers</ulink> (8.10.2002)</para></listitem><listitem><para><ulink url="http://support.microsoft.com/default.aspx?scid=kb;en-us;273826">IPv6 Technology Preview Refresh</ulink> (16.10.2002)</para></listitem><listitem><para><ulink url="http://support.microsoft.com/default.aspx?scid=kb;en-us;325449">HOW TO: Install and Configure IP Version 6 in Windows .NET Enterprise Server</ulink> (26.10.2002)</para></listitem><listitem><para><ulink url="http://support.microsoft.com/default.aspx?scid=kb;en-us;329984">Windows .NET Server 6to4 Router Service Quits When You Advertise a 2002 Address on the Public Interface</ulink> (28.10.2002)</para></listitem><listitem><para><ulink url="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/wcetcpip/htm/cmconIPv6exe.asp">msdn - Microsoft Windows CE .NET - IPv6 commands</ulink></para></listitem></itemizedlist></sect3><sect3>
<title>Solaris</title>
<itemizedlist>
<listitem><para><ulink url="http://www.sun.com/software/solaris/">Sun Microsystems Solaris</ulink></para></listitem><listitem><para><ulink url="http://www.cs.uu.nl/wais/html/na-dir/Solaris2/FAQ.html">Solaris 2 Frequently Asked Questions (FAQ) 1.73</ulink></para></listitem></itemizedlist></sect3><sect3>
<title>Sumitoma </title>
<itemizedlist>
<listitem><para><ulink url="http://playground.sun.com/pub/ipng/html/ipng-implementations.html#Sumitomo">Sumitomo Electric has implemented IPv6 on Suminet 3700 family routers</ulink></para></listitem></itemizedlist></sect3><sect3>
<title>ZebOS</title>
<itemizedlist>
<listitem><para>IpInfusion's <ulink url="http://www.ipinfusion.com/products/server/products_server.html">ZebOS Server Routing Software</ulink></para></listitem></itemizedlist></sect3></sect2><sect2 id='information-ipv6andsecurity' >
<title><!-- anchor id="information-ipv6andsecurity" -->IPv6 Sicherheit</title>
<itemizedlist>
<listitem><para><ulink url="http://csrc.nist.gov/ipsec/">NIST IPsec Project</ulink> ( National Institute of Standards and Technology, NIST)</para></listitem><listitem><para><ulink url="http://www.infosecuritymag.com/index.shtml">Information Security</ulink></para></listitem><listitem><para><ulink url="http://neworder.box.sk/search.php3?srch=IPv6">NewOrder.box.sk (search for IPv6)</ulink> (Artikel, Exploits, Datei-Datenbank etc.)</para></listitem></itemizedlist></sect2><sect2>
<title>Programm-Listen</title>
<itemizedlist>
<listitem><para><ulink url="http://www.deepspace6.net/docs/ipv6_status_page_apps.html">DeepSpace6 / IPv6 Status Page</ulink> (<ulink url="http://mirrors.bieringer.de/www.deepspace6.net/docs/ipv6_status_page_apps.html">Mirror</ulink>)</para></listitem><listitem><para><ulink url="http://www.ipv6.org/v6-apps.html">IPv6.org / IPv6 enabled applications</ulink></para></listitem><listitem><para><ulink url="http://freshmeat.net/search/?q=IPv6">Freshmeat / IPv6 search</ulink>, aktuell (14 Dez. 2002) 62 Projekte</para></listitem><listitem><para><ulink url="http://www.ipv6forum.com/modules.php?op=modload&amp;name=Web_Links&amp;file=index">IPv6 Forum / Web Links</ulink></para></listitem></itemizedlist><sect3>
<title>Analyse-Werkzeuge</title>
<itemizedlist>
<listitem><para><ulink url="http://www.wireshark.org/">Wireshark</ulink> (ehemals <emphasis>Ethereal</emphasis>) is ein kostenloser Netzwerkprotokoll-Analyseprogramm für Unix und Windows </para></listitem><listitem><para><ulink url="http://www.ip6.com/us/analyzer.htm">Radcom RC100-WL</ulink> - Download Radcom RC100-WL Protokollanalyseprogramm version 3.20</para></listitem></itemizedlist></sect3><sect3>
<title>IPv6 Produkte</title>
<itemizedlist>
<listitem><para><ulink url="http://www.6wind.com/">6wind</ulink> - Lösungen für IPv4/IPv6 Router, QoS, Multicast, Mobility, Security/VPN/Firewall.</para></listitem><listitem><para><ulink url="http://www.fefe.de/dns/">Fefe's patches for IPv6 with djbdns</ulink> - Aug 2002 - Was ist djbdns und warum es IPv6 benötigt? djbdns ist ein vollwertiger DNS Server, welcher &rdquo;outperforms BIND in nearly all respects&rdquo;.</para></listitem><listitem><para><ulink url="http://www.ipinfusion.com/products/server/products_server.html">ZebOS Server Routing Suite </ulink></para></listitem><listitem><para><ulink url="http://download.cnet.com/Inframail-Advantage-Server-Edition/3000-10248_4-8202652.html">Inframail (Advantage Server Edition)</ulink></para></listitem><listitem><para><ulink url="http://download.cnet.com/HTTrack-Website-Copier/3000-2377_4-10149393.html">HTTrack Website Copier</ulink></para></listitem><listitem><para><ulink url="http://download.cnet.com/CommView/3000-2085_4-10132748.html">CommView</ulink></para></listitem><listitem><para><ulink url="http://download.cnet.com/Posadis/3000-2155_4-10149750.html">Posadis</ulink></para></listitem></itemizedlist></sect3><sect3 id='information-snmp' >
<title><!-- anchor id="information-snmp" -->SNMP</title>
<itemizedlist>
<listitem><para><ulink url="http://www.cs.uu.nl/wais/html/na-dir/snmp-faq/part1.html">comp.protocpols.snmp SNMP FAQ Part 1 of 2</ulink></para></listitem></itemizedlist></sect3></sect2></sect1><sect1>
<title>IPv6 Infrastruktur</title>
<sect2>
<title>Statistiken</title>
<itemizedlist>
<listitem><para><ulink url="http://www.space.net/~gert/RIPE/">IPv6 routing table history</ulink> erstellt von Gert Döring, <ulink url="http://www.space.net/">Space.Net</ulink></para></listitem><listitem><para><ulink url="http://6bone.informatik.uni-leipzig.de/ipv6/stats/stats.php3">Official 6bone Webserver list Statisic</ulink></para></listitem></itemizedlist></sect2><sect2>
<title>Internet Exchanges</title>
<para>Eine weitere Liste von IPv6 Internet Exchanges gibt es unter: <ulink url="http://www.euro-ix.net/isp/choosing/search/matrix.php">IPv6 status of IXPs in Europe</ulink></para><sect3 id='information-ipv6exchanges-germany' >
<title><!-- anchor id="information-ipv6exchanges-germany" -->Deutschland</title>
<itemizedlist>
<listitem><para><ulink url="http://www.inxs.de/">INXS</ulink>: (Cable &amp; Wireless) München und Hamburg</para></listitem></itemizedlist></sect3><sect3 id='information-ipv6exchanges-estonia' >
<title><!-- anchor id="information-ipv6exchanges-estonia" -->Estlanda</title>
<itemizedlist>
<listitem><para><ulink url="http://tix.estpak.ee/">TIX</ulink> (Tallinn Interneti eXchange mit IPv6 Support) </para></listitem></itemizedlist></sect3><sect3 id='information-ipv6exchanges-europe' >
<title><!-- anchor id="information-ipv6exchanges-europe" -->Europa</title>
<itemizedlist>
<listitem><para><ulink url="http://www.euro6ix.net/">Euro6IX</ulink>, European IPv6 Internet Exchange Backbone</para></listitem></itemizedlist></sect3><sect3 id='information-ipv6exchanges-france' >
<title><!-- anchor id="information-ipv6exchanges-france" -->Frankreich</title>
<itemizedlist>
<listitem><para><ulink url="http://www.fnix6.net/">French National Internet  Exchange IPv6</ulink> (seit 1.11.2002 aktiv).
FNIX6 bietet ISPs im Großraum Paris den Dienst eines kostenlosen und zuverlässlichen High Speed FastEthernet Internet Exchange.</para></listitem></itemizedlist></sect3><sect3 id='information-ipv6exchanges-uk' >
<title><!-- anchor id="information-ipv6exchanges-uk" -->Großbritannien</title>
<itemizedlist>
<listitem><para><ulink url="http://www.uk6x.com/">UK6X</ulink>: London</para></listitem><listitem><para><ulink url="http://www.xchangepoint.net/">XchangePoint</ulink>: London</para></listitem></itemizedlist></sect3><sect3 id='information-ipv6exchanges-japan' >
<title><!-- anchor id="information-ipv6exchanges-japan" -->Japan</title>
<itemizedlist>
<listitem><para><ulink url="http://www.wide.ad.jp/nspixp6/">NSPIXP-6</ulink>: IPv6--basierter Internet Exchange in Tokio</para></listitem><listitem><para><ulink url="http://www.jpix.co.jp/">JPIX</ulink>, Tokio</para></listitem></itemizedlist></sect3><sect3 id='information-ipv6exchanges-korea' >
<title><!-- anchor id="information-ipv6exchanges-korea" -->Korea</title>
<itemizedlist>
<listitem><para><ulink url="http://www.ngix.ne.kr/">6NGIX</ulink></para></listitem></itemizedlist></sect3><sect3 id='information-ipv6exchanges-netherlands' >
<title><!-- anchor id="information-ipv6exchanges-netherlands" -->Niederlande</title>
<itemizedlist>
<listitem><para><ulink url="http://www.ams-ix.net/">AMS-IX</ulink>: Amsterdam Internet Exchange</para></listitem></itemizedlist></sect3><sect3 id='information-ipv6exchanges-usa' >
<title><!-- anchor id="information-ipv6exchanges-usa" -->USA</title>
<itemizedlist>
<listitem><para><ulink url="http://www.6tap.net/">6TAP</ulink>: Chicago. Bietet weltweit Peerings an.</para></listitem><listitem><para><ulink url="http://www.paix.net/">PAIX</ulink>: Palo Alto</para></listitem></itemizedlist></sect3></sect2><sect2 id='information-Tunnelbroker' >
<title><!-- anchor id="information-Tunnelbroker" -->Tunnel broker</title>
<para>Auch interessant: <ulink url="http://www.deepspace6.net/docs/tunnelbrokers.html">http://www.deepspace6.net/docs/tunnelbrokers.html</ulink></para><sect3 id='information-tunnelbroker-belgium' >
<title><!-- anchor id="information-tunnelbroker-belgium" -->Belgien</title>
<para>Fehlt etwas? Vorschläge sind willkommen!</para></sect3><sect3 id='information-tunnelbroker-canada' >
<title><!-- anchor id="information-tunnelbroker-canada" -->Canada</title>
<itemizedlist>
<listitem><para><ulink url="http://www.freenet6.net/">Freenet6</ulink> - /48 Delegation, Canada
<ulink url="http://www.linuxjournal.com/article.php?sid=5963&amp;mode=thread&amp;order=0">Getting IPv6 Using Freenet6 on Debian</ulink>
<ulink url="http://www.viagenie.qc.ca/en/index.shtml">Freenet6 creater</ulink></para></listitem></itemizedlist></sect3><sect3 id='information-tunnelbroker-china' >
<title><!-- anchor id="information-tunnelbroker-china" -->China</title>
<para>Fehlt etwas? Vorschläge sind willkommen!</para></sect3><sect3 id='information-tunnelbroker-germany' >
<title><!-- anchor id="information-tunnelbroker-germany" -->Deutschland</title>
<itemizedlist>
<listitem><para><ulink url="http://6bone.informatik.uni-leipzig.de/">6bone Knoten Leipzig</ulink>
<ulink url="http://www.mail-archive.com/ipv6@uni-muenster.de/msg00056.html">Info bez. Hackangriff (2001)</ulink></para></listitem></itemizedlist></sect3><sect3 id='information-tunnelbroker-estonia' >
<title><!-- anchor id="information-tunnelbroker-estonia" -->Estlanda</title>
<itemizedlist>
<listitem><para><ulink url="http://tunnelbroker.ipv6.estpak.ee/?tunnel&amp;PHPSESSID=aa2184190cc2cc6d3a6f6ddd01ae3635">Estpak</ulink></para></listitem></itemizedlist></sect3><sect3 id='information-tunnelbroker-uk' >
<title><!-- anchor id="information-tunnelbroker-uk" -->Großbritannien</title>
<itemizedlist>
<listitem><para><ulink url="http://www.nttv6.net/">NTT</ulink>, Großbritannien - IPv6 Versuch. IPv4 Tunnel und native IPv6 Standleitungs-Verbindungen. POPs gibt es in: London, Düsseldorf, New Jersey (USA, East Coast) Cupertino (USA, West Coast) Tokio</para></listitem></itemizedlist></sect3><sect3 id='information-tunnelbroker-italy' >
<title><!-- anchor id="information-tunnelbroker-italy" -->Italien</title>
<itemizedlist>
<listitem><para><ulink url="http://www.comv6.com/">Comv6</ulink></para></listitem><listitem><para><ulink url="http://www.bersafe.it/">Bersafe</ulink> (italienische Sprache)</para></listitem></itemizedlist></sect3><sect3 id='information-tunnelbroker-japan' >
<title><!-- anchor id="information-tunnelbroker-japan" -->Japan</title>
<para>Fehlt etwas? Vorschläge sind willkommen!</para></sect3><sect3 id='information-tunnelbroker-malaysia' >
<title><!-- anchor id="information-tunnelbroker-malaysia" -->Malaysia</title>
<para>Fehlt etwas? Vorschläge sind willkommen!</para></sect3><sect3 id='information-tunnelbroker-netherlands' >
<title><!-- anchor id="information-tunnelbroker-netherlands" -->Niederlande</title>
<itemizedlist>
<listitem><para><ulink url="http://www.ipng.nl/">IPng Netherland</ulink> - Intouch, SurfNet, AMS-IX, UUNet, Cistron, RIPE NCC und AT&amp;T sind am AMS-IX angeschlossen. Unter bestimmten Voraussetzungen ist es möglich, einen statischen Tunnel zu bekommen.</para></listitem><listitem><para><ulink url="http://www.ipv6.surfnet.nl/">SURFnet Customers</ulink></para></listitem></itemizedlist></sect3><sect3 id='information-tunnelbroker-norway' >
<title><!-- anchor id="information-tunnelbroker-norway" -->Norwegen</title>
<itemizedlist>
<listitem><para><ulink url="http://www.uninett.no/testnett/index.en.html">UNINETT</ulink> - Pilot IPv6 Service (für Kunden): tunnelbroker &amp; address allocation 
<ulink url="http://www.guruz.de/Uninett-Autoupdate-HOWTO">Uninett-Autoupdate-HOWTO</ulink></para></listitem></itemizedlist></sect3><sect3 id='information-tunnelbroker-spain' >
<title><!-- anchor id="information-tunnelbroker-spain" -->Spanien</title>
<itemizedlist>
<listitem><para><ulink url="http://tb.consulintel.euro6ix.org/">Consulintel</ulink></para></listitem></itemizedlist></sect3><sect3 id='information-tunnelbroker-switzerland' >
<title><!-- anchor id="information-tunnelbroker-switzerland" -->Schweiz</title>
<para>Fehlt etwas? Vorschläge sind willkommen!</para></sect3><sect3 id='information-tunnelbroker-usa' >
<title><!-- anchor id="information-tunnelbroker-usa" -->USA</title>
<itemizedlist>
<listitem><para><ulink url="http://www.es.net/hypertext/welcome/pr/ipv6.html">ESnet</ulink>, USA - Energy Sciences Network: Tunnel Registry &amp; Address Delegation für direkt angeschlossene ESnet Sites und ESnet Partner.</para></listitem><listitem><para><ulink url="http://ipv6tb.he.net/">Hurricane Electric</ulink>, US backbone; 
<ulink url="http://tunnelbroker.net/">Hurrican Electric Tunnelbroker</ulink> (also available under <ulink url="http://tunnelbroker.com/">http://tunnelbroker.com/</ulink>)
Presseaussendung: <ulink url="http://www.he.net/releases/release6.html">Hurricane Electric Upgrades IPv6 Tunnel Broker</ulink>
<ulink url="http://ipv6.he.net/tunnelbroker-update.php">Tunnel Broker Endpoint Autoupdate</ulink>, Perl Skript</para></listitem></itemizedlist></sect3><sect3 id='information-tunnelbroker-singapore' >
<title><!-- anchor id="information-tunnelbroker-singapore" -->Singapore</title>
<para>Fehlt etwas? Vorschläge sind Willkommen!</para></sect3><sect3 id='information-tunnelbroker-more' >
<title><!-- anchor id="information-tunnelbroker-more" -->Weitere Tunnel broker...</title>
<itemizedlist>
<listitem><para><ulink url="http://www.kfu.com/~nsayer/6to4/">Public 6to4 relay routers</ulink> (MS IIE Boycott!)</para></listitem></itemizedlist></sect3></sect2><sect2 id='information-infrastructure-nativeipv6service' >
<title><!-- anchor id="information-infrastructure-nativeipv6service" -->Native IPv6 Dienste</title>
<para>Anmerkung: Die folgenden Dienste sind meist nur mit einer gültigen IPv6 Verbbindung erreichbar!</para><sect3 id='information-nativeipv6nntp' >
<title><!-- anchor id="information-nativeipv6nntp" -->Net News (NNTP)</title>
<para>Fehlt etwas? Vorschläge sind Willkommen!</para></sect3><sect3 id='information-nativeipv6gameserver' >
<title><!-- anchor id="information-nativeipv6gameserver" -->Spiele Server</title>
<itemizedlist>
<listitem><para><ulink url="http://www.viagenie.qc.ca/en/ipv6/quake2/ipv6-quake2.shtml">Quake2</ulink> über IPv6</para></listitem></itemizedlist></sect3><sect3 id='information-nativeipv6ircserver' >
<title><!-- anchor id="information-nativeipv6ircserver" -->IRC Server</title>
<para>Fehlt etwas? Vorschläge sind Willkommen!</para></sect3><sect3>
<title>Radiosender, Musik-Streams</title>
<para>Fehlt etwas? Vorschläge sind Willkommen!</para></sect3><sect3 id='information-nativeipv6webserver' >
<title><!-- anchor id="information-nativeipv6webserver" -->Web Server</title>
<itemizedlist>
<listitem><para><ulink url="http://www.ipv6.bieringer.de/">Peter Bieringer's Home of Linux IPv6 HOWTO </ulink></para></listitem></itemizedlist><para>Fehlt etwas? Vorschläge sind Willkommen!</para></sect3></sect2></sect1><sect1 id='information-maillists' >
<title><!-- anchor id="information-maillists" -->Mailinglisten</title>
<para>Weitere Listen von Mailinglisten sind verfügbar unter:</para><itemizedlist>
<listitem><para><ulink url="http://www.deepspace6.net/sections/lists.html">DeepSpace6 / Mailling Lists</ulink></para></listitem></itemizedlist><para>Die größten Mailinglisten sind in folgender Tabelle zusammengefasst:</para>
<para>.</para>
<informaltable><tgroup cols="6" colsep="1" rowsep="1">
<colspec colname="col0" align="center">
<colspec colname="col1" align="center">
<colspec colname="col2" align="center">
<colspec colname="col3" align="center">
<colspec colname="col4" align="center">
<colspec colname="col5" align="center">
<tbody>
<row>
<entry align="center" valign="top">Schwerpunkt</entry>
<entry align="center" valign="top">Request e-mail Adresse</entry>
<entry align="center" valign="top">Abonnieren</entry>
<entry align="center" valign="top">e-mail Adresse der Mailingliste</entry>
<entry align="center" valign="top">Sprache</entry>
<entry align="center" valign="top">Zugang via WWW</entry>
</row>
<row>
<entry align="center" valign="top">Linux Kernel Networking inkl. IPv6</entry>
<entry align="center" valign="top">majordomo (at) vger.kernel.org</entry>
<entry align="center" valign="top">netdev</entry>
<entry align="center" valign="top">netdev (at) vger.kernel.org</entry>
<entry align="center" valign="top">Englisch</entry>
<entry align="center" valign="top"><ulink url="http://vger.kernel.org/vger-lists.html#netdev">Info</ulink>, <ulink url="http://www.spinics.net/lists/netdev/">Archive</ulink></entry>
</row>
<row>
<entry align="center" valign="top">Mobile IP(v6) für Linux</entry>
<entry align="center" valign="top">Web-based, see URL</entry>
<entry align="center" valign="top">mipl</entry>
<entry align="center" valign="top">mipl (at) mobile-ipv6.org</entry>
<entry align="center" valign="top">Englisch</entry>
<entry align="center" valign="top"><ulink url="http://www.mobile-ipv6.org/cgi-bin/mailman/listinfo">Info</ulink>, <ulink url="http://www.mobile-ipv6.org/pipermail/mipl/">Archive</ulink></entry>
</row>
<row>
<entry align="center" valign="top">Linux IPv6 User &amp; USAGI</entry>
<entry align="center" valign="top">usagi-users-ctl (at) linux-ipv6.org</entry>
<entry align="center" valign="top"></entry>
<entry align="center" valign="top">usagi-users (at) linux-ipv6.org</entry>
<entry align="center" valign="top">Englisch</entry>
<entry align="center" valign="top"><ulink url="http://www.linux-ipv6.org/ml/index.html#usagi-users">Info / Search</ulink>, <ulink url="http://www.linux-ipv6.org/ml/usagi-users/">Archive</ulink></entry>
</row>
<row>
<entry align="center" valign="top">IPv6 und Debian Linux</entry>
<entry align="center" valign="top">Web-based, siehe URL</entry>
<entry align="center" valign="top"></entry>
<entry align="center" valign="top">debian-ipv6 (at) lists.debian.org</entry>
<entry align="center" valign="top">Englisch</entry>
<entry align="center" valign="top"><ulink url="http://lists.debian.org/debian-ipv6/">Info/Subscription/Archive</ulink></entry>
</row>
<row>
<entry align="center" valign="top">6bone</entry>
<entry align="center" valign="top">majordomo (at) isi.edu</entry>
<entry align="center" valign="top">6bone</entry>
<entry align="center" valign="top">6bone (at) isi.edu</entry>
<entry align="center" valign="top">Englisch</entry>
<entry align="center" valign="top"><ulink url="http://www.6bone.net/6bone_email.html">Info</ulink>, <ulink url="http://mailman.isi.edu/pipermail/6bone/">Archive</ulink></entry>
</row>
<row>
<entry align="center" valign="top">IPv6 User allgemein</entry>
<entry align="center" valign="top">majordomo (at) ipv6.org</entry>
<entry align="center" valign="top">users</entry>
<entry align="center" valign="top">users (at) ipv6.org</entry>
<entry align="center" valign="top">Englisch</entry>
<entry align="center" valign="top"><ulink url="http://www.ipv6.org/mailing-lists.html">Info</ulink>, <ulink url="http://www.mail-archive.com/users@ipv6.org/">Archive</ulink></entry>
</row>
<row>
<entry align="center" valign="top">Bugtracking Internet Programme (1)</entry>
<entry align="center" valign="top">bugtraq-subscribe (at) securityfocus.com</entry>
<entry align="center" valign="top"></entry>
<entry align="center" valign="top">bugtraq (at) securityfocus.com (3)</entry>
<entry align="center" valign="top">Englisch</entry>
<entry align="center" valign="top"><ulink url="http://online.securityfocus.com/popups/forums/bugtraq/intro.shtml">Info</ulink>, <ulink url="http://online.securityfocus.com/archive/1">Archive</ulink></entry>
</row>
</tbody>
</tgroup></informaltable>
<para>.</para>
<para>(1) sehr empfohlen wenn Sie Server-Programme zur Verfügung stellen.</para>
<para>(2) Mailingliste ist moderiert.
</para>
<para>Fehlt etwas? Vorschläge sind Willkommen!
</para>
<para>Via Web sind auch folgende Mailinglisten &amp; Newsgroups verfügbar:</para><itemizedlist>
<listitem><para><ulink url="http://groups.yahoo.com/group/student-ipv6">student-ipv6 (India)</ulink>
Beschreibung: Dies ist eine Newsgruppe für die 'Student Awareness group of IPv6' in Indien</para></listitem><listitem><para><ulink url="http://groups.yahoo.com/group/sun-ipv6-users">sun-ipv6-users</ulink>
Beschreibung: Bitte berichten Sie Probleme/Vorschläge in Bezug auf die IPng Implementation von SUN Microsystems</para></listitem><listitem><para><ulink url="http://groups.yahoo.com/group/IPv6-BITS">IPv6-BITS</ulink>
Beschreibung: Diese Liste dient der Koordination des Projekts Vertebrae.</para></listitem><listitem><para><ulink url="http://groups.yahoo.com/group/linux-bangalore-ipv6">linux-bangalore-ipv6</ulink>
Beschreibung: Die IPv6 deployment Liste der Bangalore Linux User Group</para></listitem><listitem><para><ulink url="http://groups.yahoo.com/group/packet-switching">packet-switching</ulink>
Beschreibung: Dies Liste behandelt folgende Themen: packet switching theory, technology, implementation and application in any relevant aspect including without limitation LAPB, X.25, SDLC, P802.1d, LLC, IP, IPv6, IPX, DECNET, APPLETALK, FR, PPP, IP Telephony, LAN PBX systems, management protocols like SNMP, e-mail, network transparent window systems, protocol implementation, protocol verification, conformance testing and tools used in maintaining or developing packet switching systems.</para></listitem><listitem><para>de.comm.protocols.tcp-ip 
Beschreibung: Umstellung auf IPv6
Quelle: <ulink url="http://www.faqs.org/faqs/de-newsgroups/chartas/index.html">Chartas der Newsgruppen in de.*</ulink></para></listitem><listitem><para>Google Group: <ulink url="http://groups.google.com/groups?hl=en&amp;lr=&amp;ie=UTF-8&amp;oe=UTF8&amp;safe=off&amp;group=comp.protocols.tcp-ip">comp.protocols.tcp-ip</ulink></para></listitem><listitem><para>Google Group: <ulink url="http://groups.google.com/groups?hl=en&amp;lr=&amp;ie=UTF-8&amp;oe=UTF8&amp;safe=off&amp;group=linux.debian.maint.ipv6">linux.debian.maint.ipv6</ulink></para></listitem><listitem><para>Google Group: <ulink url="http://groups.google.com/groups?hl=en&amp;lr=&amp;ie=UTF-8&amp;oe=UTF8&amp;safe=off&amp;group=microsoft.public.platformsdk.networking.ipv6">microsoft.public.platformsdk.networking.ipv6</ulink></para></listitem><listitem><para>Google Group: <ulink url="http://groups.google.com/groups?hl=en&amp;lr=&amp;ie=UTF-8&amp;oe=UTF8&amp;safe=off&amp;group=fa.openbsd.ipv6">fa.openbsd.ipv6</ulink></para></listitem></itemizedlist></sect1><sect1 id='information-onlinetesttools' >
<title><!-- anchor id="information-onlinetesttools" -->Online-Werkzeuge</title>
<sect2>
<title>Test-Werkzeuge</title>
<itemizedlist>
<listitem><para>ping, traceroute, tracepath, 6bone registry, DNS: <ulink url="http://www.join.uni-muenster.de/lab/testtools.html">JOIN / Testtools</ulink> (nur in deutscher Sprache, sollte aber keine Probleme für nicht Deutsch sprechende Personen sein)</para></listitem><listitem><para>traceroute6, whois: <ulink url="http://www.ipng.nl/">IPng.nl</ulink></para></listitem><listitem><para>AAAA Lookup Checker <ulink url="http://www.cnri.dit.ie/cgi-bin/check_aaaa.pl">http://www.cnri.dit.ie/cgi-bin/check_aaaa.pl</ulink></para></listitem></itemizedlist></sect2><sect2>
<title>Informationsbeschaffung</title>
<itemizedlist>
<listitem><para><ulink url="http://www.ripe.net/ripencc/mem-services/registration/ipv6/ipv6allocs.html">List of worldwide all IPv6-aggregated IP-Blocks</ulink></para></listitem></itemizedlist></sect2><sect2>
<title>IPv6 Looking Glasses</title>
<itemizedlist>
<listitem><para><ulink url="http://www.v6.dren.net/lg/">DRENv6 Looking Glass</ulink></para></listitem></itemizedlist></sect2><sect2>
<title>Hilfsapplikationen</title>
<itemizedlist>
<listitem><para><ulink url="http://www.tdoi.org/prefcalc.php">IPv6 Prefix Calculator</ulink> von <ulink url="http://www.tdoi.org/">TDOI</ulink></para></listitem><listitem><para><ulink url="http://www.maths.tcd.ie/cgi-bin/check_dns.pl">DNS record checker</ulink></para></listitem></itemizedlist></sect2></sect1><sect1 id='information-trainingsandseminars' >
<title><!-- anchor id="information-trainingsandseminars" -->Trainings, Seminare</title>
<itemizedlist>
<listitem><para><ulink url="http://www.e-trainonline.com/html/ciw_internetworking_profession.html#IPv6">CIW Internetworking Professional Training CBT CD</ulink></para></listitem><listitem><para><ulink url="http://www.trainingpages.com/x/category,kw-1628,.html">Training Pages</ulink>, U.K. - Suche nach IPv6 (8 Kurse, 2006-08-21)</para></listitem><listitem><para><ulink url="http://www.erion.co.uk/ipv6.html">Erion IPv6 Training</ulink>. UK</para></listitem></itemizedlist><para>Fehlt etwas? Vorschläge sind willkommen!</para></sect1><sect1 id='information-onlinediscovery' >
<title><!-- anchor id="information-onlinediscovery" -->'Die Online Entdeckung' ...</title>
<para>IPv6: Addressing The Needs Of the Future von Yankee Group (Autor)</para>
<para>Listenpreis:   $595.00</para>
<para>Edition: e-book (Acrobat Reader)</para>
<para>Seiten: 3 (drei)</para>
<para>Hrsg.: MarketResearch.com; ISBN B00006334Y; (1. November 2001)
</para>
<para>;-) Die Auflagenhöhe dieses eBooks wäre doch sehr interessant...
</para></sect1></chapter><chapter>
<title>Versions-Überblick / Danksagung / Zum Schluss</title>
<sect1 id='revision-history' >
<title><!-- anchor id="revision-history" -->Versions-Überblick</title>
<para>Die Versionen x.y. werden im Internet veröffentlicht.</para>
<para>Die Versionen x.y.z stellen Zwischenschritte dar, die nur als LyX- und SGML-Datei im TLDP-CVS veröffentlicht werden. Dadurch, dass allerdings Deep Space 6 diese SGML-Dateien spiegelt und daraus öffentliche Versionen generiert, sind diese auch dort und auf den Servern, die Deep Space 6 spiegeln, verfügbar.</para><sect2>
<title>Ausgabe 0.x</title>
<sect3>
<title>Englische Sprachversion (Peter Bieringer's Original)</title>
<para>Die Historie der Änderungen der englischen Sprachversion finden Sie dort: <ulink url="http://www.tldp.org/HOWTO/Linux+IPv6-HOWTO/revision-history.html">TLDP / Linux+IPv6-HOWTO / Revision History</ulink>.</para></sect3><sect3>
<title>Deutsche Sprachversion</title>
<variablelist>
<varlistentry><term>0.67.de.1</term><listitem><para>2017-01-14/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.66.de.1</term><listitem><para>2010-04-20/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.65.de.1</term><listitem><para>2009-12-13/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.64.de.1</term><listitem><para>2009-06-11/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.63.de.2</term><listitem><para>2009-03-13/PB: remove original transator contact address, no longer responsible for further changes</para></listitem></varlistentry><varlistentry><term>0.63.de.1</term><listitem><para>2009-02-14/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.62.de.1</term><listitem><para>2008-11-09/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.61.1.de.3</term><listitem><para>2007-08-25/PB: Fix Typo</para></listitem></varlistentry><varlistentry><term>0.61.1.de.2</term><listitem><para>2007-08-17/PB: Fix Typo</para></listitem></varlistentry><varlistentry><term>0.61.1.de.1</term><listitem><para>2007-11-11/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.61.de.1</term><listitem><para>2007-10-06/PB: Sync mit Original, kleine Korrekturen</para></listitem></varlistentry><varlistentry><term>0.60.de.1</term><listitem><para>2007-05-31/PB: Sync mit Original (bis auf C-API), kleine Korrekturen</para></listitem></varlistentry><varlistentry><term>0.51.de.1</term><listitem><para>2006-11-08/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.50.2.de.1</term><listitem><para>2006-10-25/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.50.1.de.1</term><listitem><para>2006-09-23/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.50.de.1</term><listitem><para>2006-08-24/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.49.5.de.1</term><listitem><para>2006-08-23/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.49.4.de.1</term><listitem><para>2006-08-21/PB: Sync mit Original, Korrektur bei Adresstypen (Übersetzungsfehler)</para></listitem></varlistentry><varlistentry><term>0.49.3.de.1</term><listitem><para>2006-08-20/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.49.2.de.1</term><listitem><para>2006-08-20/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.49.1.de.1</term><listitem><para>2006-06-13/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.49.de.1</term><listitem><para>2005-10-03/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.48.de.1</term><listitem><para>2005-01-11/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.47.de.1</term><listitem><para>2004-08-30/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.46.5.de.1</term><listitem><para>2004-07-22/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.46.4.de.1</term><listitem><para>2004-07-19/PB: Sync mit Original und kleine Korrekturen der Übersetzung</para></listitem></varlistentry><varlistentry><term>0.46.2.de.1</term><listitem><para>2004-05-22/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.46.1.de.1</term><listitem><para>2004-04-18/PB: Sync mit Original</para></listitem></varlistentry><varlistentry><term>0.46.de.1</term><listitem><para>2004-04-04/PB: Sync mit Original (Italienische Übersetzung verfügbar, Informationen über DHCPv6, kleinere Updates)</para></listitem></varlistentry><varlistentry><term>0.45.1.de.1</term><listitem><para>2004-01-12/PB: Sync mit Original (kleine Erweiterung)</para></listitem></varlistentry><varlistentry><term>0.45.de.1</term><listitem><para>2004-01-11/PB: Sync mit Original (kleine Korrekturen, URL-Korrekturen und Erweiterungen)</para></listitem></varlistentry><varlistentry><term>0.44.2.de.1</term><listitem><para>2003-10-30/PB: Sync mit Original (kleine Korrektur)</para></listitem></varlistentry><varlistentry><term>0.44.de.1</term><listitem><para>2003-08-15/PB: Sync mit Original (URL-Korrekturen, Tipp bei tcp_wrappers und Apache2)</para></listitem></varlistentry><varlistentry><term>0.43.2.de.2</term><listitem><para>2003-07-26/PB: Sync mit Original (URL-Korrekturen)</para></listitem></varlistentry><varlistentry><term>0.43.2.de.1</term><listitem><para>2003-06-11/PB: Sync mit Original (URL-Korrekturen)</para></listitem></varlistentry><varlistentry><term>0.43.1.de.2</term><listitem><para>2003-06-11/PB: Typo gefixt</para></listitem></varlistentry><varlistentry><term>0.43.1.de.1</term><listitem><para>2003-06-07/PB: Sync mit Original (Links, IPsec)</para></listitem></varlistentry><varlistentry><term>0.43.de.1</term><listitem><para>2003-06-05/PB: Sync mit Original (SuSe-Linux-Tipps)</para></listitem></varlistentry><varlistentry><term>0.41.4.de.1</term><listitem><para>2003-05-02/PB: Sync mit Original (URL-Korrekturen)</para></listitem></varlistentry><varlistentry><term>0.41.3.de.1</term><listitem><para>2003-04-23/PB: Sync mit Original (URL-Korrektur)</para></listitem></varlistentry><varlistentry><term>0.41.1.de.1</term><listitem><para>2003-03-31/PB: Sync mit Original (URL-Korrektur)</para></listitem></varlistentry><varlistentry><term>0.41.de.1</term><listitem><para>2003-03-22/PB: Angabe der URL dieser Übersetzung</para></listitem></varlistentry><varlistentry><term>0.40.2.de.1</term><listitem><para>2003-02-27/PB: Sync mit Original (URL-Korrektur)</para></listitem></varlistentry><varlistentry><term>0.40.1.de.1</term><listitem><para>2003-02-12/PB: Sync mit Original (Debian-Linux-Konfiguration), Ersetzen der Info über verfügbare Übersetzungen durch einen Link zum Original.</para></listitem></varlistentry><varlistentry><term>0.40.de.1</term><listitem><para>2003-02-10/PB: Kleine sprachliche Änderungen und paar kleine Verbesserungen.</para></listitem></varlistentry><varlistentry><term>0.39.2.de.1</term><listitem><para>2003-02-10/GK: Erste öffentliche Version in deutscher Sprache. Diese Version entspricht inhaltlich der englischen Version 0.39.2. Der Zusatz de.1 bezeichnet die Revision der deutschen Sprachversion. Diese Version wurde unter Mandrake Linux 9.0 mit LyX Version 1.2.1 und der Klasse DocBook book (SGML) erstellt.</para></listitem></varlistentry></variablelist></sect3></sect2></sect1><sect1 id='credits' >
<title><!-- anchor id="credits" -->Danksagung</title>
<para>Dieser feinen Liste hinzugefügt werden können Sie am schnellsten, indem Sie mir Bug fixes, Korrekturen und/oder Updates schicken ;-)</para>
<para>Wenn Sie eine größere Überarbeitung vornehmen wollen, können Sie dazu die LyX Datei (siehe <link linkend="general-original-source">original source</link>) verwenden und mir entsprechende diffs dann zusenden, diffs der SGML-Version sind hingegen nicht sehr nützlich.</para><sect2 id='major-credits' >
<title><!-- anchor id="major-credits" -->Primärer Dank...</title>
<itemizedlist>
<listitem><para>David Ranch &lt;dranch at trinnet dot net&gt;: Er ermutigte mich zum Schreiben dieses HOWTOs, für seine Anmerkungen zu den ersten englischen Versionen, für seine Beiträge zu den IPv6 Test-Ergebnissen auf der IPv6-Homepage des Autors. Ebenfalls für seine größeren Überarbeitungen und Vorschläge.</para></listitem><listitem><para>Pekka Savola &lt;pekkas at netcore dot fi&gt;: Für größere Überarbeitungen der englischen Version, seinen Input und Vorschläge.</para></listitem><listitem><para>Georg Käfer &lt;gkaefer at gmx dot at&gt;: Für das Aufspüren eines Fehlers bei der PDF Erstellung (durch LDP Betreuer Greg Ferguson behoben), den Input betreff deutscher Bücher, einer großen URL-Liste, die Überprüfung aller Links und vieler weiterer Vorschläge, Korrekturen und Beiträge.</para></listitem></itemizedlist></sect2><sect2>
<title>Sonstiger Dank...</title>
<sect3>
<title>Verwaltung des Dokuments</title>
<para>Als Neuling ein LDP HOWTO zu schreiben (in LyX schreiben sowie SGML konformer Export zu DocBook) ist nicht so einfach, wie von so manchem behauptet wird. Es gibt einige sonderbare Fallen... Nichtsdestoweniger Dank an:</para><itemizedlist>
<listitem><para>Autoren des <ulink url="http://www.tldp.org/LDP/LDP-Author-Guide/">LDP Author Guide</ulink></para></listitem><listitem><para>B. Guillon: Für sein <ulink url="http://perso.libertysurf.fr/bgu/doc/db4lyx/">DocBook with LyX HOWTO</ulink></para></listitem></itemizedlist></sect3><sect3 id='content-related-credits' >
<title><!-- anchor id="content-related-credits" -->Inhalt des Dokuments</title>
<para>Mein Dank für Fixes und Hinweise ist hier aufgelistet - und die Liste wird mit der Zeit sicherlich länger werden...
Bezüglich der englischen Version finden Sie in dieser, hier werden nur diejenigen, die die deutsche Version betreffen, aufgelistet.</para><itemizedlist>
<listitem><para>Nico Schottelius, Oliver Kraus, Götz Bauermann: Typo gefunden</para></listitem><listitem><para>Jens Nachtigall: Fehler gefunden</para></listitem></itemizedlist></sect3></sect2></sect1><sect1>
<title>Zum Schluss</title>
<para>Danke für's Lesen. Hoffentlich ist es von Nutzen!</para>
<para>Falls Sie irgendeine Frage haben, abonnieren sie eine entsprechende <link linkend="information-maillists">maillist</link> und diskutieren Sie ihr Problem unter Angabe möglichst vieler Informationen.</para></sect1></chapter></book>